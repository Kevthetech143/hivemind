INSERT INTO knowledge_entries (query, category, hit_frequency, solutions, prerequisites, success_indicators, common_pitfalls, success_rate, claude_version, last_verified, source_url, contributor_email) VALUES
('MongoServerSelectionError: connect ECONNREFUSED 127.0.0.1:27017', 'database', 'HIGH', '[{"solution": "Use correct hostname in connection string - in Docker use service name not 127.0.0.1", "percentage": 85}, {"solution": "Start mongod server: mongod", "percentage": 80}]'::jsonb, 'MongoDB server running', 'Connection established', 'Using localhost instead of service name in containers', 0.85, 'haiku', NOW(), 'https://stackoverflow.com/questions/62306902/mongoserverselectionerror-when-attempting-to-connect-to-a-docker-instance-of-mon', 'admin:1764226161'),
('E11000 duplicate key error index: unique constraint violation', 'database', 'HIGH', '[{"solution": "Use sparse index to allow multiple nulls: db.collection.createIndex({field: 1}, {unique: true, sparse: true})", "percentage": 90}, {"solution": "Drop old indexes that conflict: db.collection.dropIndex(''index_name'')", "percentage": 85}]'::jsonb, 'MongoDB collection access', 'Document inserted successfully', 'Not checking for existing duplicate index', 0.88, 'haiku', NOW(), 'https://stackoverflow.com/questions/24430220/e11000-duplicate-key-error-index-in-mongodb-mongoose', 'admin:1764226161'),
('MongoServerSelectionError: connection timed out', 'database', 'HIGH', '[{"solution": "Add IP address to MongoDB Atlas whitelist in Network Access", "percentage": 92}, {"solution": "Check firewall rules allow port 27017", "percentage": 88}]'::jsonb, 'MongoDB Atlas cluster', 'Successful connection', 'IP whitelist not configured', 0.90, 'haiku', NOW(), 'https://stackoverflow.com/questions/65277035/mongoserverselectionerror-connection-timed-out-with-nodejs-and-express', 'admin:1764226161'),
('MongoNetworkError: failed to connect to server localhost:27017', 'database', 'MEDIUM', '[{"solution": "Start MongoDB daemon: mongod", "percentage": 88}, {"solution": "Check if port 27017 is available and not blocked", "percentage": 85}]'::jsonb, 'MongoDB installed', 'Connection established', 'MongoDB service not started', 0.85, 'haiku', NOW(), 'https://stackoverflow.com/questions/50173080/mongonetworkerror-failed-to-connect-to-server-localhost27017-on-first-connec', 'admin:1764226161'),
('MongoError: bad auth Authentication failed', 'database', 'MEDIUM', '[{"solution": "Remove angle brackets from password: use pwd not <pwd>", "percentage": 85}, {"solution": "Use correct user password not account password", "percentage": 82}]'::jsonb, 'MongoDB credentials', 'Authentication successful', 'Incorrect password format with angle brackets', 0.83, 'haiku', NOW(), 'https://stackoverflow.com/questions/55695565/error-message-mongoerror-bad-auth-authentication-failed-through-uri-string', 'admin:1764226161'),
('MongoError: Cursor not found, cursor id expired', 'database', 'MEDIUM', '[{"solution": "Use noCursorTimeout option: cursor.noCursorTimeout()", "percentage": 87}, {"solution": "Close cursor when finished to prevent timeout", "percentage": 85}]'::jsonb, 'MongoDB cursor operations', 'Query results retrieved successfully', 'Cursor idle longer than timeout period', 0.86, 'haiku', NOW(), 'https://stackoverflow.com/questions/46423442/mongodb-cursor-not-found', 'admin:1764226161'),
('Invalid BSON field name numeric_id when inserting', 'database', 'LOW', '[{"solution": "Convert field names to string: String(numericValue) instead of direct number", "percentage": 90}, {"solution": "BSON spec requires field names as UTF-8 strings", "percentage": 88}]'::jsonb, 'BSON document structure', 'Document inserted successfully', 'Using numeric values as field names', 0.89, 'haiku', NOW(), 'https://stackoverflow.com/questions/70049017/mongodb-invalid-bson-field-name', 'admin:1764226161'),
('WriteConcern detected an error bad offset database corruption', 'database', 'LOW', '[{"solution": "Repair database: db.repairDatabase() in mongo shell", "percentage": 80}, {"solution": "Restart mongod with --repair flag: mongod --dbpath /data/db --repair", "percentage": 78}]'::jsonb, 'MongoDB admin access', 'Database operations resume normally', 'Unexpected MongoDB shutdown', 0.77, 'haiku', NOW(), 'https://stackoverflow.com/questions/35256574/writeconcern-detected-an-error-in-mognodb', 'admin:1764226161'),
('MongoError: connection timed out after 30 seconds', 'database', 'MEDIUM', '[{"solution": "Increase socketTimeoutMS: {socketTimeoutMS: 6000000}", "percentage": 85}, {"solution": "Optimize slow queries with proper indexing", "percentage": 82}]'::jsonb, 'MongoDB connection', 'Query completes within timeout', 'Long-running query exceeds socket timeout', 0.83, 'haiku', NOW(), 'https://stackoverflow.com/questions/40216639/mongodb-connection-timed-out-error', 'admin:1764226161'),
('ValidationError: Path username is required', 'database', 'MEDIUM', '[{"solution": "Ensure all required fields are provided in request body", "percentage": 88}, {"solution": "Check req.body is properly parsed with express.json()", "percentage": 85}]'::jsonb, 'Mongoose schema validation', 'Document saved successfully', 'Missing required field in creation payload', 0.86, 'haiku', NOW(), 'https://stackoverflow.com/questions/46795644/node-js-mongo-db-validationerror-user-validation-failed-username-path-use', 'admin:1764226161'),
('Index with name already exists with different options', 'database', 'MEDIUM', '[{"solution": "Drop existing index: db.collection.dropIndex(''index_name'')", "percentage": 87}, {"solution": "Create index with different name if options differ", "percentage": 82}]'::jsonb, 'MongoDB index operations', 'Index created successfully', 'Attempting to recreate index with different options', 0.84, 'haiku', NOW(), 'https://stackoverflow.com/questions/27288373/index-already-exists-with-different-options-error-while-using-createindex-in-l', 'admin:1764226161'),
('MongoServerSelectionError: ReplicaSetNoPrimary connection failed', 'database', 'MEDIUM', '[{"solution": "Verify all replica set members are running", "percentage": 85}, {"solution": "Check network connectivity between replica members", "percentage": 83}]'::jsonb, 'MongoDB replica set', 'Primary node selected', 'Replica set lost primary node', 0.82, 'haiku', NOW(), 'https://stackoverflow.com/questions/60063820/getting-replicasetnoprimary-and-mongoserverselectionerror-error-while-connecting', 'admin:1764226161'),
('E11000 duplicate key error collection index id_1 dup key id null', 'database', 'HIGH', '[{"solution": "Drop index or remove unique constraint if field is optional", "percentage": 87}, {"solution": "Ensure field is in required array if marked unique", "percentage": 85}]'::jsonb, 'Mongoose schema', 'Document saved without error', 'Unique field without value in new document', 0.86, 'haiku', NOW(), 'https://stackoverflow.com/questions/78324082/e11000-duplicate-key-error-collection-blog-api-blogs-index-id-1-dup-key-id', 'admin:1764226161'),
('couldn''t connect to server 127.0.0.1:27017 connection refused', 'database', 'HIGH', '[{"solution": "Remove mongod.lock file: sudo rm /var/lib/mongodb/mongod.lock", "percentage": 88}, {"solution": "Repair and restart: mongod --repair && sudo service mongod start", "percentage": 85}]'::jsonb, 'MongoDB installation', 'Connection successful', 'MongoDB daemon not running or corrupted', 0.86, 'haiku', NOW(), 'https://stackoverflow.com/questions/13312358/mongo-couldnt-connect-to-server-127-0-0-127017', 'admin:1764226161'),
('MongoTimeoutError: Server selection timed out after 30000 ms', 'database', 'HIGH', '[{"solution": "Add directConnection=true to connection string for direct connections", "percentage": 88}, {"solution": "Whitelist your IP in MongoDB Atlas Network Access", "percentage": 86}]'::jsonb, 'MongoDB connection string', 'Server selection succeeds', 'Server unreachable or whitelist missing', 0.87, 'haiku', NOW(), 'https://stackoverflow.com/questions/59162342/mongodb-connection-error-mongotimeouterror-server-selection-timed-out-after-30', 'admin:1764226161'),
('Document failed validation against schema', 'database', 'MEDIUM', '[{"solution": "Add missing required fields to schema: required: [\"_id\", \"field\"]", "percentage": 86}, {"solution": "Use bsonType ''number'' instead of ''int'' for validation", "percentage": 84}]'::jsonb, 'MongoDB JSON schema validator', 'Document passes validation', 'Schema has conflicting validation rules', 0.85, 'haiku', NOW(), 'https://stackoverflow.com/questions/58955062/mongodb-document-failed-validation', 'admin:1764226161'),
('Network is unreachable cannot connect to localhost:27017', 'database', 'MEDIUM', '[{"solution": "Start MongoDB service: sudo service mongod start or services.msc", "percentage": 87}, {"solution": "Run mongod in terminal: mongod", "percentage": 85}]'::jsonb, 'MongoDB server', 'Connection established', 'MongoDB service not started', 0.86, 'haiku', NOW(), 'https://stackoverflow.com/questions/44562325/cannot-connect-to-the-mongodb-at-localhost27017-errornetwork-is-unreachable', 'admin:1764226161'),
('Validation fails: additionalProperties false but _id included', 'database', 'LOW', '[{"solution": "Add _id to required array in schema: required: [''_id'', ...]", "percentage": 88}, {"solution": "Set additionalProperties to true if allowing extra fields", "percentage": 85}]'::jsonb, 'MongoDB JSON schema', 'Document insertion succeeds', 'Schema validation too strict for _id', 0.86, 'haiku', NOW(), 'https://stackoverflow.com/questions/61085483/why-do-i-have-a-fail-validation-with-mongodb', 'admin:1764226161'),
('MongoError: E11000 duplicate key error collection users index username_1', 'database', 'HIGH', '[{"solution": "Drop the username index: db.users.dropIndex(''username_1'')", "percentage": 87}, {"solution": "Use sparse index for optional unique fields", "percentage": 85}]'::jsonb, 'MongoDB collection with index', 'Document saved successfully', 'Old index from previous schema version', 0.86, 'haiku', NOW(), 'https://stackoverflow.com/questions/70739146/how-can-i-solve-a-mongoerror-e11000-duplicate-key-error-collection-error-in-m', 'admin:1764226161'),
('MongoServerSelectionError: Server selection timed out Docker network', 'database', 'MEDIUM', '[{"solution": "Use service name instead of localhost: mongodb://database:27017", "percentage": 89}, {"solution": "Verify containers are on same Docker network", "percentage": 87}]'::jsonb, 'Docker Compose MongoDB', 'Container connects to MongoDB', 'Container network isolation', 0.88, 'haiku', NOW(), 'https://stackoverflow.com/questions/75259413/mongoserverselectionerror-server-selection-timed-out-after-30000-while-connecti', 'admin:1764226161'),
('MongoNetworkError: SSL alert internal error tlsv1', 'database', 'MEDIUM', '[{"solution": "Whitelist your IP in MongoDB Atlas Network Access settings", "percentage": 90}, {"solution": "Check firewall allows outbound HTTPS on port 27017", "percentage": 87}]'::jsonb, 'MongoDB Atlas cluster', 'TLS handshake successful', 'IP not whitelisted in Atlas', 0.88, 'haiku', NOW(), 'https://stackoverflow.com/questions/76981283/mongodb-connection-error-mongonetworkerror-when-hosted-on-cyclic', 'admin:1764226161'),
('MongoNetworkError: connection 812 to 127.0.0.1:27017 closed', 'database', 'MEDIUM', '[{"solution": "Use insertMany for bulk operations instead of individual inserts", "percentage": 88}, {"solution": "Increase connection pool size: poolSize: 1000", "percentage": 85}]'::jsonb, 'MongoDB bulk operations', 'Bulk insert completes', 'Exhausting connection pool with sequential inserts', 0.86, 'haiku', NOW(), 'https://stackoverflow.com/questions/67031538/error-after-some-insertion-mongonetworkerror-connection-812-to-127-0-0-127017', 'admin:1764226161'),
('BSON field writeConcern w is the wrong type error', 'database', 'LOW', '[{"solution": "Remove trailing comma in connection URI string", "percentage": 92}, {"solution": "Verify writeConcern value is proper integer", "percentage": 88}]'::jsonb, 'MongoDB connection string', 'Connection established successfully', 'Malformed connection string with trailing comma', 0.90, 'haiku', NOW(), 'https://stackoverflow.com/questions/71458619/cannot-update-documents-in-mongodb-bson-field-writeconcern-w-is-the-wrong-ty', 'admin:1764226161'),
('E11000 duplicate key error on unique constraint insert', 'database', 'HIGH', '[{"solution": "Check and catch error code 11000: if (err.code === 11000)", "percentage": 87}, {"solution": "Return user-friendly error message on duplicate entry", "percentage": 85}]'::jsonb, 'MongoDB error handling', 'Duplicate key error caught properly', 'Not handling E11000 error code in catch block', 0.86, 'haiku', NOW(), 'https://stackoverflow.com/questions/30593882/how-to-catch-the-error-when-inserting-a-mongodb-document-which-violates-an-uniqu', 'admin:1764226161'),
('MongoDB authentication failed: bad credentials authSource', 'database', 'MEDIUM', '[{"solution": "Add authSource parameter: ?authSource=admin", "percentage": 89}, {"solution": "Create user in correct database before authentication", "percentage": 87}]'::jsonb, 'MongoDB authentication', 'User authenticated successfully', 'User created in wrong database', 0.88, 'haiku', NOW(), 'https://stackoverflow.com/questions/37372684/mongodb-3-2-authentication-failed', 'admin:1764226161'),
('MongoNetworkError: failed to connect on first connect localhost', 'database', 'MEDIUM', '[{"solution": "Check if MongoDB daemon is running: sudo service mongod status", "percentage": 88}, {"solution": "Verify connection string syntax is correct", "percentage": 85}]'::jsonb, 'MongoDB driver', 'Connection successful', 'MongoDB service not running', 0.86, 'haiku', NOW(), 'https://stackoverflow.com/questions/59059291/mongonetworkerror-on-mongodb-connection-through-node-js', 'admin:1764226161'),
('Index build failed out of memory creating text index', 'database', 'LOW', '[{"solution": "Start mongod with --noIndexBuildRetry flag to skip auto rebuild", "percentage": 88}, {"solution": "Drop the problematic index and recreate with smaller dataset", "percentage": 85}]'::jsonb, 'MongoDB full text search', 'Index created successfully', 'Insufficient memory during large index build', 0.86, 'haiku', NOW(), 'https://stackoverflow.com/questions/49432295/mongodb-index-built-failed', 'admin:1764226161'),
('replSetInitiate quorum check failed replica set error', 'database', 'LOW', '[{"solution": "Use consistent replica set names in all members: --replSet rs0", "percentage": 87}, {"solution": "Remove quotes from replica set name in config", "percentage": 85}]'::jsonb, 'MongoDB replica set', 'Replica set initialized', 'Replica set name mismatch between members', 0.86, 'haiku', NOW(), 'https://stackoverflow.com/questions/39426821/error-while-creating-replica-set-mongodb', 'admin:1764226161'),
('MongoError: connection timed out large file upload GridFS', 'database', 'MEDIUM', '[{"solution": "Set socketTimeoutMS to large value: {socketTimeoutMS: 6000000}", "percentage": 88}, {"solution": "Use keepAlive option: {keepAlive: 3000000}", "percentage": 85}]'::jsonb, 'MongoDB GridFS', 'Large file uploads complete', 'Default 30 second timeout too short', 0.86, 'haiku', NOW(), 'https://stackoverflow.com/questions/45089357/mongodb-connection-timeout-error-with-mongoose-and-nodejs', 'admin:1764226161'),
('CursorNotFound: cursor timed out even with no timeout option', 'database', 'LOW', '[{"solution": "Use no_cursor_timeout flag on find operation", "percentage": 87}, {"solution": "Ensure cursor is consumed before 10 minute server timeout", "percentage": 85}]'::jsonb, 'MongoDB cursor', 'Cursor remains valid for full operation', 'Cursor idle longer than server timeout', 0.86, 'haiku', NOW(), 'https://stackoverflow.com/questions/38211363/mongodb-cursor-not-found-even-with-no-timeout', 'admin:1764226161'),
('E11000 duplicate key error trackers.case_id_1 dup key null', 'database', 'MEDIUM', '[{"solution": "Check getIndexes() output and drop conflicting index", "percentage": 88}, {"solution": "Make field sparse if allowing null: {unique: true, sparse: true}", "percentage": 86}]'::jsonb, 'Mongoose embedded documents', 'Document saved successfully', 'Old index from previous schema version', 0.87, 'haiku', NOW(), 'https://stackoverflow.com/questions/51212162/error-handling-e11000-duplicate-key-error-collection', 'admin:1764226161'),
('MongooseServerSelectionError: connect ECONNREFUSED ::1:27017', 'database', 'HIGH', '[{"solution": "Start MongoDB service on host machine", "percentage": 88}, {"solution": "Verify mongod process is running: ps aux | grep mongod", "percentage": 86}]'::jsonb, 'Mongoose driver', 'Connection successful to MongoDB', 'MongoDB daemon not running', 0.87, 'haiku', NOW(), 'https://stackoverflow.com/questions/73170746/connection-to-mongodb-over-localhost27017-refused', 'admin:1764226161'),
('MongoError: insertDocument caused by 11000 E11000 duplicate key', 'database', 'HIGH', '[{"solution": "Use catch block to handle error code 11000 specifically", "percentage": 88}, {"solution": "Install mongoose-unique-validator for better error handling", "percentage": 85}]'::jsonb, 'Mongoose validation', 'Unique constraint enforced', 'Not catching or handling duplicate key errors', 0.86, 'haiku', NOW(), 'https://stackoverflow.com/questions/5939720/better-ways-to-handle-mongodb-exceptions', 'admin:1764226161'),
('JSON Schema validation bsonType error int should be number', 'database', 'LOW', '[{"solution": "Use bsonType ''number'' instead of ''int'' in validation", "percentage": 91}, {"solution": "Verify all bsonType values against MongoDB spec", "percentage": 88}]'::jsonb, 'MongoDB JSON schema', 'Document passes validation', 'Using incorrect bsonType naming', 0.89, 'haiku', NOW(), 'https://stackoverflow.com/questions/45848096/mongodb-validation-fails', 'admin:1764226161'),
('MongoNetworkError: connection error pool exhaustion multiple connections', 'database', 'MEDIUM', '[{"solution": "Reuse database connection instead of creating new each operation", "percentage": 89}, {"solution": "Increase poolSize if legitimate concurrent demand", "percentage": 85}]'::jsonb, 'MongoDB connection pooling', 'Operations complete with single connection', 'Creating new connection for each operation', 0.87, 'haiku', NOW(), 'https://stackoverflow.com/questions/78132151/how-do-i-properly-implement-mongodb-error-handling-in-express', 'admin:1764226161');
