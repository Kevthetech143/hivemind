INSERT INTO knowledge_entries (query, category, hit_frequency, solutions, prerequisites, success_indicators, common_pitfalls, success_rate, claude_version, last_verified, source_url, contributor_email) VALUES
('FastAPI custom HTTPException handler message', 'fastapi', 'HIGH', '[{"solution": "Create custom exception class inheriting from HTTPException with custom attributes", "percentage": 93}, {"solution": "Define exception handler with @app.exception_handler(CustomException)", "percentage": 91}]'::jsonb, 'FastAPI framework knowledge', 'Custom exception messages return in response', 'Not creating dedicated exception handler', 0.91, 'haiku', NOW(), 'https://stackoverflow.com/questions/72831952/how-do-i-integrate-custom-exception-handling-with-the-fastapi-exception-handling', 'admin:1764222343'),
('FastAPI RequestValidationError custom handler', 'fastapi', 'HIGH', '[{"solution": "Use @app.exception_handler(RequestValidationError) to override default", "percentage": 94}, {"solution": "Return JSONResponse with custom error format", "percentage": 92}]'::jsonb, 'FastAPI validation', 'Custom validation error responses', 'Not overriding default RequestValidationError handler', 0.90, 'haiku', NOW(), 'https://stackoverflow.com/questions/58642528/displaying-of-fastapi-validation-errors-to-end-users', 'admin:1764222343'),
('FastAPI customize error response format', 'fastapi', 'HIGH', '[{"solution": "Override RequestValidationError exception handler", "percentage": 93}, {"solution": "Return JSONResponse with custom content structure", "percentage": 91}]'::jsonb, 'FastAPI API design', 'API error responses match custom format', 'Using default Pydantic error format without customization', 0.89, 'haiku', NOW(), 'https://stackoverflow.com/questions/70952692/how-to-customize-error-response-in-fastapi', 'admin:1764222343'),
('FastAPI HTTPException status code responses', 'fastapi', 'MEDIUM', '[{"solution": "Use responses parameter to document HTTPException in OpenAPI", "percentage": 87}, {"solution": "Raise HTTPException with status_code and detail parameters", "percentage": 94}]'::jsonb, 'FastAPI documentation', 'HTTPException status codes appear in OpenAPI spec', 'Not documenting HTTPException responses', 0.85, 'haiku', NOW(), 'https://stackoverflow.com/questions/64501193/fastapi-how-to-use-httpexception-in-responses', 'admin:1764222343'),
('FastAPI error handling middleware not working', 'fastapi', 'MEDIUM', '[{"solution": "Use app.add_exception_handler() instead of middleware for exceptions", "percentage": 91}, {"solution": "Ensure exception handler is registered before route definition", "percentage": 85}]'::jsonb, 'FastAPI middleware', 'Exception handlers catch all errors', 'Using middleware instead of exception handlers', 0.83, 'haiku', NOW(), 'https://stackoverflow.com/questions/62854314/fastapi-cannot-get-error-handling-to-work-as-expected', 'admin:1764222343'),
('FastAPI middleware force exceptions through handler', 'fastapi', 'MEDIUM', '[{"solution": "Add ASGIMiddleware to catch exceptions before handlers", "percentage": 80}, {"solution": "Re-raise exceptions in middleware to trigger handlers", "percentage": 85}]'::jsonb, 'FastAPI architecture', 'All exceptions handled consistently', 'Not understanding middleware vs exception handler order', 0.78, 'haiku', NOW(), 'https://stackoverflow.com/questions/78297309/how-to-force-all-exceptions-to-go-through-a-fastapi-middleware', 'admin:1764222343'),
('FastAPI validation error response custom field errors', 'fastapi', 'HIGH', '[{"solution": "Parse RequestValidationError.errors() and reformat error structure", "percentage": 90}, {"solution": "Create custom dict mapping fields to error lists", "percentage": 88}]'::jsonb, 'FastAPI validation', 'Field-specific error messages in response', 'Returning raw Pydantic error format without restructuring', 0.87, 'haiku', NOW(), 'https://stackoverflow.com/questions/58642528/displaying-of-fastapi-validation-errors-to-end-users', 'admin:1764222343'),
('FastAPI response model validation error int to str', 'fastapi', 'MEDIUM', '[{"solution": "Add field_serializer with str() conversion for coercion", "percentage": 88}, {"solution": "Use Field with validation_alias for response transformation", "percentage": 82}]'::jsonb, 'FastAPI Pydantic v2', 'Response validation passes with type coercion', 'Pydantic v2 stricter type checking than v1', 0.80, 'haiku', NOW(), 'https://stackoverflow.com/questions/77126713/responsevalidationerror-instead-of-converting-int-to-str', 'admin:1764222343'),
('FastAPI request validation error invalid json decode', 'fastapi', 'MEDIUM', '[{"solution": "Override RequestValidationError handler to customize JSON decode errors", "percentage": 89}, {"solution": "Return custom error response for malformed JSON", "percentage": 87}]'::jsonb, 'FastAPI error handling', 'Malformed JSON returns custom error message', 'Using default validation error response for all errors', 0.84, 'haiku', NOW(), 'https://stackoverflow.com/questions/70952692/how-to-customize-error-response-in-fastapi', 'admin:1764222343'),
('FastAPI validation error message translation localization', 'fastapi', 'LOW', '[{"solution": "Cache translated error messages in dict", "percentage": 82}, {"solution": "Use regex substitution for error message translation", "percentage": 80}]'::jsonb, 'FastAPI i18n', 'Error messages displayed in user language', 'Static error messages without translation support', 0.76, 'haiku', NOW(), 'https://stackoverflow.com/questions/70952692/how-to-customize-error-response-in-fastapi', 'admin:1764222343'),
('FastAPI get request shows validation error response model', 'fastapi', 'MEDIUM', '[{"solution": "Use List[Model] response_model when returning list of objects", "percentage": 92}, {"solution": "Ensure response model matches actual return type", "percentage": 94}]'::jsonb, 'FastAPI response models', 'GET requests return data without validation errors', 'Wrong response_model for list endpoints', 0.89, 'haiku', NOW(), 'https://stackoverflow.com/questions/63004799/fastapi-get-request-shows-validation-error', 'admin:1764222343'),
('FastAPI websocket exception handling', 'fastapi', 'MEDIUM', '[{"solution": "Add try-except in websocket endpoint with custom handler", "percentage": 85}, {"solution": "Use ASGI middleware for websocket exception handling", "percentage": 80}]'::jsonb, 'FastAPI websockets', 'WebSocket exceptions handled gracefully', 'No exception handling for websocket endpoints', 0.79, 'haiku', NOW(), 'https://stackoverflow.com/questions/78527617/fastapi-how-to-handle-generic-exceptions-in-websocket-endpoints', 'admin:1764222343'),
('FastAPI websocket reject connection http response', 'fastapi', 'LOW', '[{"solution": "Check websocket scope before accepting connection", "percentage": 88}, {"solution": "Close connection instead of returning HTTP response", "percentage": 82}]'::jsonb, 'FastAPI websockets', 'WebSocket connection validation works', 'Returning HTTP response from websocket endpoint', 0.77, 'haiku', NOW(), 'https://stackoverflow.com/questions/71254130/fastapi-reject-a-websocket-connection-with-http-response', 'admin:1764222343'),
('FastAPI websocket connection closed error handling', 'fastapi', 'MEDIUM', '[{"solution": "Catch ConnectionClosedOK exception in try-except", "percentage": 87}, {"solution": "Handle both normal and abnormal websocket disconnects", "percentage": 84}]'::jsonb, 'FastAPI websockets', 'WebSocket disconnects handled without errors', 'Not catching websocket disconnect exceptions', 0.81, 'haiku', NOW(), 'https://stackoverflow.com/questions/75780416/websockets-in-fastapi-connectionclosedok-received-1000-ok', 'admin:1764222343'),
('FastAPI async function not awaited coroutine object', 'fastapi', 'HIGH', '[{"solution": "Use await keyword when calling async functions", "percentage": 96}, {"solution": "Ensure async function returns coroutine object correctly", "percentage": 93}]'::jsonb, 'FastAPI async', 'Async operations execute without coroutine errors', 'Forgetting await when calling async functions', 0.94, 'haiku', NOW(), 'https://stackoverflow.com/questions/72611531/adding-async-to-fastapi-function-gives-me-the-coroutine-object-is-not-iterabl', 'admin:1764222343'),
('FastAPI asyncio.sleep blocking time.sleep', 'fastapi', 'HIGH', '[{"solution": "Use asyncio.sleep() instead of time.sleep() in async code", "percentage": 95}, {"solution": "Use asyncio.gather() to run tasks concurrently", "percentage": 92}]'::jsonb, 'FastAPI async patterns', 'Async endpoints run concurrently', 'Using blocking time.sleep in async endpoint', 0.93, 'haiku', NOW(), 'https://stackoverflow.com/questions/61316540/how-to-get-python-fastapi-async-await-functionality-to-work-properly', 'admin:1764222343'),
('FastAPI httpexception status code detail attributes', 'fastapi', 'MEDIUM', '[{"solution": "Access exc.status_code and exc.detail from HTTPException", "percentage": 93}, {"solution": "Create exception handler to extract these attributes", "percentage": 90}]'::jsonb, 'FastAPI error handling', 'Exception attributes accessible in handler', 'Not understanding HTTPException structure', 0.88, 'haiku', NOW(), 'https://stackoverflow.com/questions/72831952/how-do-i-integrate-custom-exception-handling-with-the-fastapi-exception-handling', 'admin:1764222343'),
('FastAPI response validation error strict type checking', 'fastapi', 'MEDIUM', '[{"solution": "Use field_serializer to convert types before response", "percentage": 89}, {"solution": "Set ConfigDict(strict=False) in Pydantic v2", "percentage": 80}]'::jsonb, 'FastAPI Pydantic', 'Response validation passes with type conversion', 'Pydantic v2 strict mode by default', 0.82, 'haiku', NOW(), 'https://stackoverflow.com/questions/77126713/responsevalidationerror-instead-of-converting-int-to-str', 'admin:1764222343'),
('FastAPI custom exception handler json response', 'fastapi', 'HIGH', '[{"solution": "Return JSONResponse from exception handler", "percentage": 94}, {"solution": "Use jsonable_encoder for complex objects", "percentage": 88}]'::jsonb, 'FastAPI responses', 'Exception handler returns valid JSON', 'Returning incorrect response type from handler', 0.90, 'haiku', NOW(), 'https://stackoverflow.com/questions/72831952/how-do-i-integrate-custom-exception-handling-with-the-fastapi-exception-handling', 'admin:1764222343'),
('FastAPI starlette HTTPException vs fastapi HTTPException', 'fastapi', 'LOW', '[{"solution": "Use fastapi.HTTPException for consistency", "percentage": 91}, {"solution": "Both work but fastapi version is preferred", "percentage": 89}]'::jsonb, 'FastAPI imports', 'Correct HTTPException imported and used', 'Using starlette HTTPException instead of fastapi', 0.85, 'haiku', NOW(), 'https://stackoverflow.com/questions/78297309/how-to-force-all-exceptions-to-go-through-a-fastapi-middleware', 'admin:1764222343'),
('FastAPI client error response data layer axios', 'fastapi', 'MEDIUM', '[{"solution": "Access error via err.response.data.detail in axios", "percentage": 89}, {"solution": "Check response structure for nested data property", "percentage": 86}]'::jsonb, 'FastAPI client integration', 'Client receives error messages correctly', 'Not understanding axios response nesting structure', 0.82, 'haiku', NOW(), 'https://stackoverflow.com/questions/62854314/fastapi-cannot-get-error-handling-to-work-as-expected', 'admin:1764222343'),
('FastAPI permission error raise httpexception', 'fastapi', 'MEDIUM', '[{"solution": "Raise HTTPException with status_code=403 for permission denied", "percentage": 93}, {"solution": "Create custom PermissionError exception handler", "percentage": 85}]'::jsonb, 'FastAPI authorization', 'Permission denied errors return 403 status', 'Using wrong status code or exception type', 0.87, 'haiku', NOW(), 'https://stackoverflow.com/questions/72831952/how-do-i-integrate-custom-exception-handling-with-the-fastapi-exception-handling', 'admin:1764222343'),
('FastAPI database error exception handler', 'fastapi', 'MEDIUM', '[{"solution": "Catch database exceptions in try-except and raise HTTPException", "percentage": 90}, {"solution": "Log database errors internally without exposing details", "percentage": 88}]'::jsonb, 'FastAPI data access', 'Database errors handled safely', 'Exposing raw database error messages to client', 0.84, 'haiku', NOW(), 'https://stackoverflow.com/questions/72831952/how-do-i-integrate-custom-exception-handling-with-the-fastapi-exception-handling', 'admin:1764222343'),
('FastAPI validation error handler field location', 'fastapi', 'MEDIUM', '[{"solution": "Check error[''loc''] tuple to identify error location", "percentage": 90}, {"solution": "Use filtered_loc = loc[1:] to skip request source", "percentage": 87}]'::jsonb, 'FastAPI error parsing', 'Error locations identified correctly', 'Not parsing error location tuple correctly', 0.85, 'haiku', NOW(), 'https://stackoverflow.com/questions/58642528/displaying-of-fastapi-validation-errors-to-end-users', 'admin:1764222343'),
('FastAPI pydantic validation error log safely', 'fastapi', 'MEDIUM', '[{"solution": "Catch ValueError from Pydantic validation before returning 500", "percentage": 87}, {"solution": "Return user-friendly 400 error instead of 500", "percentage": 89}]'::jsonb, 'FastAPI error handling', 'Validation errors return 400 not 500', 'Not catching Pydantic validation errors', 0.82, 'haiku', NOW(), 'https://stackoverflow.com/questions/68914523/fastapi-pydantic-value-error-raises-internal-server-error', 'admin:1764222343'),
('FastAPI endpoint custom validation per route error', 'fastapi', 'LOW', '[{"solution": "Create route-specific exception handler with responses parameter", "percentage": 82}, {"solution": "Use dependency injection for route-specific validation", "percentage": 80}]'::jsonb, 'FastAPI routing', 'Route-specific validation works correctly', 'Applying global handler when route-specific needed', 0.76, 'haiku', NOW(), 'https://stackoverflow.com/questions/71681068/how-to-customize-error-response-for-a-specific-route-in-fastapi', 'admin:1764222343'),
('FastAPI request body validation error handling', 'fastapi', 'HIGH', '[{"solution": "Override RequestValidationError handler for body validation", "percentage": 92}, {"solution": "Check error[''loc''][0] == ''body'' to filter body errors", "percentage": 88}]'::jsonb, 'FastAPI validation', 'Body validation errors format correctly', 'Not distinguishing body errors from other types', 0.87, 'haiku', NOW(), 'https://stackoverflow.com/questions/70952692/how-to-customize-error-response-in-fastapi', 'admin:1764222343'),
('FastAPI query parameter validation required vs optional', 'fastapi', 'MEDIUM', '[{"solution": "Use Optional[str] = None to make query param optional", "percentage": 94}, {"solution": "Omit default value to make parameter required", "percentage": 93}]'::jsonb, 'FastAPI parameters', 'Query parameters handle correct optionality', 'Not using Optional type for optional parameters', 0.91, 'haiku', NOW(), 'https://stackoverflow.com/questions/58642528/displaying-of-fastapi-validation-errors-to-end-users', 'admin:1764222343');
