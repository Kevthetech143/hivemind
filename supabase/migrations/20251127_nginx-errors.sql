BEGIN;

INSERT INTO knowledge_entries (query, category, hit_frequency, solutions, prerequisites, success_indicators, common_pitfalls, success_rate, claude_version, last_verified, source_url, contributor_email) VALUES
('502 Bad Gateway nginx reverse proxy', 'devops-nginx', 'HIGH', '[{"solution": "Check upstream server connectivity and ensure it is running and accessible", "percentage": 90}, {"solution": "Verify proxy_pass configuration points to correct upstream address", "percentage": 85}, {"solution": "Check nginx error logs with error_log directive set to debug level", "percentage": 80}]'::jsonb, 'Nginx with upstream/reverse proxy configured', 'Upstream server responds with valid HTTP status', 'Not checking if upstream service is actually running or accessible from nginx', 0.88, 'haiku', NOW(), 'https://stackoverflow.com/questions/74558547/nginx-reverse-proxy-throwing-502-bad-gateway', 'admin:1764219681');
INSERT INTO knowledge_entries (query, category, hit_frequency, solutions, prerequisites, success_indicators, common_pitfalls, success_rate, claude_version, last_verified, source_url, contributor_email) VALUES
('502 Bad Gateway error production nginx large headers', 'devops-nginx', 'HIGH', '[{"solution": "Increase proxy_buffer_size and proxy_buffers for large response headers", "percentage": 95}, {"solution": "Set proxy_buffering off if headers exceed buffer capacity", "percentage": 80}, {"solution": "Check upstream response header size with tcpdump", "percentage": 70}]'::jsonb, 'Large response headers from upstream server', 'Response successfully proxied without header overflow', 'Not accounting for upstream response headers when tuning buffer sizes', 0.92, 'haiku', NOW(), 'https://stackoverflow.com/questions/65519122/how-to-fix-502-bad-gateway-error-in-productionnginx', 'admin:1764219681');
INSERT INTO knowledge_entries (query, category, hit_frequency, solutions, prerequisites, success_indicators, common_pitfalls, success_rate, claude_version, last_verified, source_url, contributor_email) VALUES
('502 Bad Gateway nginx insufficient debug logging', 'devops-nginx', 'HIGH', '[{"solution": "Set error_log directive to debug level: error_log /var/log/nginx/error.log debug", "percentage": 100}, {"solution": "Increase debug logging verbosity to identify upstream communication failures", "percentage": 95}, {"solution": "Reload nginx after changing log level to apply changes", "percentage": 90}]'::jsonb, 'Root or sudo access to modify nginx.conf', 'Detailed error messages appear in error.log', 'Forgetting to reload nginx after changing error_log directive', 0.95, 'haiku', NOW(), 'https://stackoverflow.com/questions/61279690/how-do-i-fix-this-nginx-502-bad-gateway-error', 'admin:1764219681');
INSERT INTO knowledge_entries (query, category, hit_frequency, solutions, prerequisites, success_indicators, common_pitfalls, success_rate, claude_version, last_verified, source_url, contributor_email) VALUES
('502 Bad Gateway nginx wrong upstream address configuration', 'devops-nginx', 'HIGH', '[{"solution": "Verify upstream server address and port matches actual service location", "percentage": 98}, {"solution": "Test connectivity with curl from nginx server: curl http://upstream:port/", "percentage": 90}, {"solution": "Ensure DNS resolution works for upstream hostname", "percentage": 85}]'::jsonb, 'Knowledge of upstream service address and port', 'curl request to upstream succeeds with valid response', 'Assuming default ports when upstream uses non-standard port', 0.93, 'haiku', NOW(), 'https://stackoverflow.com/questions/68184228/server-domain-returning-502-bad-gateway-nginx', 'admin:1764219681');
INSERT INTO knowledge_entries (query, category, hit_frequency, solutions, prerequisites, success_indicators, common_pitfalls, success_rate, claude_version, last_verified, source_url, contributor_email) VALUES
('502 Bad Gateway docker nginx container upstream', 'devops-nginx', 'HIGH', '[{"solution": "Configure proxy_pass to use container DNS name not localhost", "percentage": 95}, {"solution": "Use upstream service container name in docker-compose network", "percentage": 92}, {"solution": "Ensure both containers connected to same docker network", "percentage": 90}]'::jsonb, 'Docker containers running on same network', 'Docker DNS resolves container names within network', 'Using 127.0.0.1 from nginx container instead of service container name', 0.89, 'haiku', NOW(), 'https://stackoverflow.com/questions/47091356/docker-nginx-reverse-proxy-gives-502-bad-gateway', 'admin:1764219681');
INSERT INTO knowledge_entries (query, category, hit_frequency, solutions, prerequisites, success_indicators, common_pitfalls, success_rate, claude_version, last_verified, source_url, contributor_email) VALUES
('504 Gateway Timeout nginx reverse proxy timeout configuration', 'devops-nginx', 'HIGH', '[{"solution": "Increase proxy_connect_timeout, proxy_send_timeout, and proxy_read_timeout values", "percentage": 98}, {"solution": "Set timeouts to at least 60 seconds: proxy_read_timeout 300s;", "percentage": 95}, {"solution": "Reload nginx after modifying timeout configuration", "percentage": 90}]'::jsonb, 'Upstream service is slow or sometimes takes long to respond', 'Requests complete within new timeout window', 'Setting timeout too low without accounting for upstream processing time', 0.96, 'haiku', NOW(), 'https://stackoverflow.com/questions/24453388/nginx-reverse-proxy-causing-504-gateway-timeout', 'admin:1764219681');
INSERT INTO knowledge_entries (query, category, hit_frequency, solutions, prerequisites, success_indicators, common_pitfalls, success_rate, claude_version, last_verified, source_url, contributor_email) VALUES
('504 Gateway Timeout php-fpm nginx timeout configuration', 'devops-nginx', 'HIGH', '[{"solution": "Increase fastcgi_read_timeout to 300 seconds or higher", "percentage": 98}, {"solution": "Set fastcgi_pass_request_headers on to pass headers correctly", "percentage": 80}, {"solution": "Increase PHP max_execution_time in php.ini to match nginx timeout", "percentage": 95}]'::jsonb, 'PHP scripts taking long time to execute', 'PHP-FPM completes execution within timeout period', 'Not coordinating fastcgi_read_timeout with PHP max_execution_time', 0.94, 'haiku', NOW(), 'https://stackoverflow.com/questions/16002268/prevent-nginx-504-gateway-timeout-using-php-set-time-limit', 'admin:1764219681');
INSERT INTO knowledge_entries (query, category, hit_frequency, solutions, prerequisites, success_indicators, common_pitfalls, success_rate, claude_version, last_verified, source_url, contributor_email) VALUES
('504 Gateway Timeout nginx DNS misconfiguration', 'devops-nginx', 'HIGH', '[{"solution": "Verify DNS settings are correctly configured in resolver directive", "percentage": 90}, {"solution": "Restart nginx service after DNS configuration changes", "percentage": 95}, {"solution": "Test DNS resolution with nslookup or dig commands", "percentage": 85}]'::jsonb, 'Nginx using upstream with hostname instead of IP', 'DNS queries resolve upstream hostnames correctly', 'Not restarting nginx after DNS or upstream configuration changes', 0.87, 'haiku', NOW(), 'https://stackoverflow.com/questions/62769425/why-is-nginx-giving-504-gateway-timeout-error', 'admin:1764219681');
INSERT INTO knowledge_entries (query, category, hit_frequency, solutions, prerequisites, success_indicators, common_pitfalls, success_rate, claude_version, last_verified, source_url, contributor_email) VALUES
('504 Timeout error nginx php fastcgi slow script', 'devops-nginx', 'HIGH', '[{"solution": "Increase fastcgi_read_timeout value: fastcgi_read_timeout 600;", "percentage": 96}, {"solution": "Optimize slow PHP scripts to execute faster", "percentage": 75}, {"solution": "Use keepalive_timeout to maintain persistent connections", "percentage": 70}]'::jsonb, 'PHP script execution time exceeds fastcgi timeout', 'FastCGI responds before timeout threshold', 'Increasing timeout without fixing root cause of slow scripts', 0.9, 'haiku', NOW(), 'https://stackoverflow.com/questions/10806928/increasing-504-timeout-error', 'admin:1764219681');
INSERT INTO knowledge_entries (query, category, hit_frequency, solutions, prerequisites, success_indicators, common_pitfalls, success_rate, claude_version, last_verified, source_url, contributor_email) VALUES
('504 Gateway Timeout nginx docker container slow service', 'devops-nginx', 'HIGH', '[{"solution": "Increase proxy_read_timeout: proxy_read_timeout 300s;", "percentage": 98}, {"solution": "Set keepalive_timeout to 90 seconds for persistent connections", "percentage": 85}, {"solution": "Set send_timeout to 300 for outgoing requests", "percentage": 80}]'::jsonb, 'Docker service responding slower than default 60s timeout', 'Service responses complete within new timeout window', 'Not accounting for slow container startup or service initialization', 0.91, 'haiku', NOW(), 'https://stackoverflow.com/questions/56487818/nginx-504-gateway-timeout-with-docker', 'admin:1764219681');
INSERT INTO knowledge_entries (query, category, hit_frequency, solutions, prerequisites, success_indicators, common_pitfalls, success_rate, claude_version, last_verified, source_url, contributor_email) VALUES
('upstream prematurely closed connection while reading response header', 'devops-nginx', 'HIGH', '[{"solution": "Check upstream server logs for crashes or resource exhaustion", "percentage": 92}, {"solution": "Ensure upstream has sufficient keepalive connections configured", "percentage": 90}, {"solution": "Increase proxy_buffering and buffer sizes to handle response data", "percentage": 85}]'::jsonb, 'Upstream server actively closing connections', 'Upstream completes response transfer without closing', 'Ignoring upstream server logs which often contain root cause', 0.88, 'haiku', NOW(), 'https://stackoverflow.com/questions/36488688/nginx-upstream-prematurely-closed-connection-while-reading-response-header-from', 'admin:1764219681');
INSERT INTO knowledge_entries (query, category, hit_frequency, solutions, prerequisites, success_indicators, common_pitfalls, success_rate, claude_version, last_verified, source_url, contributor_email) VALUES
('upstream prematurely closed connection uwsgi django nginx', 'devops-nginx', 'HIGH', '[{"solution": "Check UWSGI worker processes are not being killed or restarted", "percentage": 95}, {"solution": "Increase UWSGI worker processes and thread count", "percentage": 88}, {"solution": "Configure nginx keepalive to match UWSGI keepalive settings", "percentage": 82}]'::jsonb, 'UWSGI backend with Django application', 'UWSGI workers remain stable throughout request handling', 'UWSGI workers killed due to low memory or timeout settings', 0.9, 'haiku', NOW(), 'https://stackoverflow.com/questions/22107726/error-upstream-prematurely-closed-connection-while-reading-response-header-from', 'admin:1764219681');
INSERT INTO knowledge_entries (query, category, hit_frequency, solutions, prerequisites, success_indicators, common_pitfalls, success_rate, claude_version, last_verified, source_url, contributor_email) VALUES
('upstream prematurely closed connection worker killed restarted', 'devops-nginx', 'HIGH', '[{"solution": "Monitor upstream worker process restarts and crashes", "percentage": 93}, {"solution": "Increase max_requests in upstream to avoid frequent restarts", "percentage": 87}, {"solution": "Check system resources and memory availability on upstream", "percentage": 85}]'::jsonb, 'Upstream worker processes restarting or being killed', 'Worker process uptime exceeds average request handling time', 'Not checking upstream logs for OOM killer or signal terminations', 0.86, 'haiku', NOW(), 'https://stackoverflow.com/questions/49162420/upstream-prematurely-closed-connection-while-reading-response-header-from-upstr', 'admin:1764219681');
INSERT INTO knowledge_entries (query, category, hit_frequency, solutions, prerequisites, success_indicators, common_pitfalls, success_rate, claude_version, last_verified, source_url, contributor_email) VALUES
('php-fpm upstream prematurely closed connection 30 second limit', 'devops-nginx', 'HIGH', '[{"solution": "Increase PHP request_terminate_timeout beyond connection closure time", "percentage": 94}, {"solution": "Set nginx fastcgi_read_timeout higher than PHP timeout", "percentage": 92}, {"solution": "Monitor PHP-FPM logs for script execution termination", "percentage": 88}]'::jsonb, 'PHP-FPM with 30 second execution limit on scripts', 'PHP scripts complete before request termination', 'Nginx timeout lower than PHP timeout causing false failures', 0.91, 'haiku', NOW(), 'https://stackoverflow.com/questions/16378594/php-fpm-upstream-prematurely-closed-connection-while-reading-response-header', 'admin:1764219681');
INSERT INTO knowledge_entries (query, category, hit_frequency, solutions, prerequisites, success_indicators, common_pitfalls, success_rate, claude_version, last_verified, source_url, contributor_email) VALUES
('nodejs nginx upstream prematurely closed connection keepalive timeout', 'devops-nginx', 'HIGH', '[{"solution": "Set server.keepaliveTimeout to 65+ seconds in Node.js", "percentage": 96}, {"solution": "Ensure nginx keepalive_timeout is less than upstream timeout", "percentage": 94}, {"solution": "Configure keepalive_requests to allow multiple requests per connection", "percentage": 85}]'::jsonb, 'Node.js backend with keepalive timeout mismatch', 'Connections remain open for full keepalive duration', 'Node.js closing connection before nginx expects based on timeout', 0.93, 'haiku', NOW(), 'https://stackoverflow.com/questions/46506423/nodejs-nginx-upstream-prematurely-closed-connection-while-reading-response', 'admin:1764219681');
INSERT INTO knowledge_entries (query, category, hit_frequency, solutions, prerequisites, success_indicators, common_pitfalls, success_rate, claude_version, last_verified, source_url, contributor_email) VALUES
('worker_connections are not enough nginx event limit', 'devops-nginx', 'HIGH', '[{"solution": "Increase worker_connections in events block to 2048 or higher", "percentage": 98}, {"solution": "Increase file descriptor limit with ulimit: ulimit -n 65536", "percentage": 96}, {"solution": "Scale worker_processes based on available CPU cores", "percentage": 90}]'::jsonb, 'High traffic exceeding default 1024 connection limit', 'nginx can accept connections up to increased limit', 'Increasing worker_connections without raising system file descriptor limit', 0.95, 'haiku', NOW(), 'https://stackoverflow.com/questions/28265717/worker-connections-are-not-enough', 'admin:1764219681');
INSERT INTO knowledge_entries (query, category, hit_frequency, solutions, prerequisites, success_indicators, common_pitfalls, success_rate, claude_version, last_verified, source_url, contributor_email) VALUES
('nginx error 1024 worker connections are not enough', 'devops-nginx', 'HIGH', '[{"solution": "Set worker_connections to 8192 or system limit: worker_connections 8192;", "percentage": 99}, {"solution": "Check current system limit with ulimit -Sn and increase if needed", "percentage": 97}, {"solution": "Monitor actual connection count with netstat -an | wc -l", "percentage": 85}]'::jsonb, 'Production nginx handling high concurrent connections', 'Nginx accepts all incoming connections without dropping', 'Setting worker_connections higher than system file descriptor limit', 0.97, 'haiku', NOW(), 'https://stackoverflow.com/questions/36880862/nginx-error-worker-connections-are-not-enough', 'admin:1764219681');
INSERT INTO knowledge_entries (query, category, hit_frequency, solutions, prerequisites, success_indicators, common_pitfalls, success_rate, claude_version, last_verified, source_url, contributor_email) VALUES
('nginx worker connections issue upstream not fast enough', 'devops-nginx', 'HIGH', '[{"solution": "Increase worker_connections when upstream cannot keep up with requests", "percentage": 92}, {"solution": "Scale upstream services or optimize request processing", "percentage": 85}, {"solution": "Implement load balancing across multiple upstream servers", "percentage": 88}]'::jsonb, 'Upstream bottleneck causing connection pool exhaustion', 'Upstream processes requests faster than connection queue builds', 'Increasing worker_connections without fixing slow upstream', 0.84, 'haiku', NOW(), 'https://stackoverflow.com/questions/69765689/issue-nginx-worker-connections-is-not-enough', 'admin:1764219681');
INSERT INTO knowledge_entries (query, category, hit_frequency, solutions, prerequisites, success_indicators, common_pitfalls, success_rate, claude_version, last_verified, source_url, contributor_email) VALUES
('nginx worker connections 1024 default insufficient production', 'devops-nginx', 'HIGH', '[{"solution": "Default worker_connections is 1024, set to 4096 or 8192 for production", "percentage": 99}, {"solution": "Calculate: connections_available = worker_processes * worker_connections", "percentage": 95}, {"solution": "Reserve connections for upstream and client connections", "percentage": 88}]'::jsonb, 'Default nginx configuration with low connection limits', 'Total available connections exceed peak concurrent traffic', 'Not factoring in both client and upstream connections in calculation', 0.96, 'haiku', NOW(), 'https://stackoverflow.com/questions/56723449/nginx-error-1024-worker-connections-are-not-enough', 'admin:1764219681');
INSERT INTO knowledge_entries (query, category, hit_frequency, solutions, prerequisites, success_indicators, common_pitfalls, success_rate, claude_version, last_verified, source_url, contributor_email) VALUES
('nginx worker processes worker connections configuration tuning', 'devops-nginx', 'HIGH', '[{"solution": "Set worker_processes to auto to match CPU core count", "percentage": 97}, {"solution": "Calculate worker_connections based on traffic: total_connections / worker_processes", "percentage": 92}, {"solution": "Test with ab or siege load testing to find optimal values", "percentage": 80}]'::jsonb, 'Need to optimize nginx for specific workload', 'Load testing shows improved throughput and connection handling', 'Not testing configuration changes with realistic load patterns', 0.9, 'haiku', NOW(), 'https://stackoverflow.com/questions/23386986/what-is-worker-processes-and-worker-connections-in-nginx', 'admin:1764219681');
INSERT INTO knowledge_entries (query, category, hit_frequency, solutions, prerequisites, success_indicators, common_pitfalls, success_rate, claude_version, last_verified, source_url, contributor_email) VALUES
('nginx 403 forbidden directory index automatic listing', 'devops-nginx', 'HIGH', '[{"solution": "Add autoindex on; directive to enable directory listing", "percentage": 98}, {"solution": "Ensure try_files directive does not conflict with index directive", "percentage": 90}, {"solution": "Verify location block matches requested URI correctly", "percentage": 88}]'::jsonb, 'Directory without index.html requires automatic listing', 'Directory contents listed in browser response', 'try_files returning 403 before directory listing can occur', 0.94, 'haiku', NOW(), 'https://stackoverflow.com/questions/19285355/nginx-403-error-directory-index-of-folder-is-forbidden', 'admin:1764219681');
INSERT INTO knowledge_entries (query, category, hit_frequency, solutions, prerequisites, success_indicators, common_pitfalls, success_rate, claude_version, last_verified, source_url, contributor_email) VALUES
('nginx 403 forbidden static file permissions ownership', 'devops-nginx', 'HIGH', '[{"solution": "Ensure nginx worker process user (www-data) owns or can read files", "percentage": 97}, {"solution": "Set file permissions: chmod 644 for files, chmod 755 for directories", "percentage": 96}, {"solution": "Change owner to www-data: chown -R www-data:www-data /path/to/files", "percentage": 95}]'::jsonb, 'File permission and ownership issues with nginx user', 'nginx worker process can read requested static files', 'Not checking which user nginx runs as or not updating ownership', 0.96, 'haiku', NOW(), 'https://stackoverflow.com/questions/16808813/nginx-serve-static-file-and-got-403-forbidden', 'admin:1764219681');
INSERT INTO knowledge_entries (query, category, hit_frequency, solutions, prerequisites, success_indicators, common_pitfalls, success_rate, claude_version, last_verified, source_url, contributor_email) VALUES
('nginx 403 forbidden credentials authentication configuration', 'devops-nginx', 'HIGH', '[{"solution": "Verify auth_basic and auth_basic_user_file directives are correct", "percentage": 92}, {"solution": "Create password file with htpasswd: htpasswd -c .htpasswd username", "percentage": 90}, {"solution": "Check password file format and ensure path is absolute", "percentage": 88}]'::jsonb, 'Nginx using basic authentication or auth modules', 'Authentication succeeds with valid credentials', 'Wrong password file format or relative path in configuration', 0.91, 'haiku', NOW(), 'https://stackoverflow.com/questions/16510374/403-forbidden-nginx-using-correct-credentials', 'admin:1764219681');
INSERT INTO knowledge_entries (query, category, hit_frequency, solutions, prerequisites, success_indicators, common_pitfalls, success_rate, claude_version, last_verified, source_url, contributor_email) VALUES
('nginx 403 forbidden DAC file permission denial access control', 'devops-nginx', 'HIGH', '[{"solution": "Check file and directory permissions with ls -la for complete path", "percentage": 98}, {"solution": "Parent directory must be executable (x permission) for access", "percentage": 97}, {"solution": "Verify entire path is readable by nginx worker process user", "percentage": 96}]'::jsonb, 'Discretionary access control denying nginx process access', 'All directories in path have execute permission', 'Setting file permissions correct but parent directory not executable', 0.95, 'haiku', NOW(), 'https://stackoverflow.com/questions/22586166/why-does-nginx-return-a-403-even-though-all-permissions-are-set-properly', 'admin:1764219681');
INSERT INTO knowledge_entries (query, category, hit_frequency, solutions, prerequisites, success_indicators, common_pitfalls, success_rate, claude_version, last_verified, source_url, contributor_email) VALUES
('nginx 413 request entity too large file upload modsecurity', 'devops-nginx', 'HIGH', '[{"solution": "Increase client_max_body_size in nginx config: client_max_body_size 100M;", "percentage": 98}, {"solution": "If using ModSecurity, increase SecRequestBodyLimit directive", "percentage": 95}, {"solution": "Reload nginx after configuration changes: nginx -s reload", "percentage": 90}]'::jsonb, 'File uploads exceeding request size limits', 'Large file uploads complete without 413 error', 'Increasing only nginx limit without also increasing ModSecurity limit', 0.94, 'haiku', NOW(), 'https://stackoverflow.com/questions/24306335/413-request-entity-too-large-file-upload-issue', 'admin:1764219681');
INSERT INTO knowledge_entries (query, category, hit_frequency, solutions, prerequisites, success_indicators, common_pitfalls, success_rate, claude_version, last_verified, source_url, contributor_email) VALUES
('nginx ingress kubernetes 413 entity too large request limit', 'devops-nginx', 'HIGH', '[{"solution": "Add annotation to ingress: nginx.ingress.kubernetes.io/proxy-body-size: 100M", "percentage": 99}, {"solution": "Or set client_max_body_size in controller config", "percentage": 97}, {"solution": "Apply and verify ingress resource updated correctly", "percentage": 90}]'::jsonb, 'Kubernetes nginx ingress controller with size limit', 'Large requests accepted by ingress without rejection', 'Not reloading ingress controller configuration after annotation changes', 0.96, 'haiku', NOW(), 'https://stackoverflow.com/questions/64759983/nginx-ingress-returns-413-entity-too-large', 'admin:1764219681');
INSERT INTO knowledge_entries (query, category, hit_frequency, solutions, prerequisites, success_indicators, common_pitfalls, success_rate, claude_version, last_verified, source_url, contributor_email) VALUES
('nginx 413 request entity too large error resolution', 'devops-nginx', 'HIGH', '[{"solution": "Increase client_max_body_size directive to desired limit", "percentage": 99}, {"solution": "Test configuration with nginx -t before reloading", "percentage": 95}, {"solution": "Restart or reload nginx to apply changes: service nginx restart", "percentage": 92}]'::jsonb, 'Need to allow larger HTTP request bodies', 'Requests larger than previous limit now accepted', 'Not reloading nginx or testing config before reload', 0.97, 'haiku', NOW(), 'https://stackoverflow.com/questions/77402660/why-am-i-seeing-error-413-request-entity-too-large-in-nginx', 'admin:1764219681');
INSERT INTO knowledge_entries (query, category, hit_frequency, solutions, prerequisites, success_indicators, common_pitfalls, success_rate, claude_version, last_verified, source_url, contributor_email) VALUES
('nginx 413 request entity too large django application', 'devops-nginx', 'HIGH', '[{"solution": "Increase nginx client_max_body_size: client_max_body_size 100M;", "percentage": 98}, {"solution": "Also increase Django DATA_UPLOAD_MAX_MEMORY_SIZE setting", "percentage": 95}, {"solution": "Verify nginx config syntax and reload service", "percentage": 92}]'::jsonb, 'Django application with file upload handling through nginx', 'Large file uploads accepted by both nginx and Django', 'Fixing only nginx without adjusting Django upload size limits', 0.93, 'haiku', NOW(), 'https://stackoverflow.com/questions/36994828/413-request-entity-too-large-nginx-django', 'admin:1764219681');
INSERT INTO knowledge_entries (query, category, hit_frequency, solutions, prerequisites, success_indicators, common_pitfalls, success_rate, claude_version, last_verified, source_url, contributor_email) VALUES
('nginx 413 request entity too large file upload increase limit', 'devops-nginx', 'HIGH', '[{"solution": "Set client_max_body_size: client_max_body_size 200M; in http or server block", "percentage": 99}, {"solution": "Verify location handles POST requests: limit_except GET { deny all; }", "percentage": 85}, {"solution": "Test configuration with nginx -t and reload with nginx -s reload", "percentage": 93}]'::jsonb, 'File upload functionality requiring larger request body limit', 'File uploads larger than default 1MB limit accepted', 'Setting limit too high causing memory issues on server', 0.95, 'haiku', NOW(), 'https://stackoverflow.com/questions/18121227/how-to-avoid-request-entity-too-large-413-error', 'admin:1764219681');
INSERT INTO knowledge_entries (query, category, hit_frequency, solutions, prerequisites, success_indicators, common_pitfalls, success_rate, claude_version, last_verified, source_url, contributor_email) VALUES
('docker push 413 request entity too large nginx reverse proxy', 'devops-nginx', 'HIGH', '[{"solution": "Increase client_max_body_size in nginx upstream to 1G or higher", "percentage": 98}, {"solution": "If multiple nginx instances, increase on all reverse proxies", "percentage": 96}, {"solution": "Set proxy_request_buffering off for large uploads", "percentage": 85}]'::jsonb, 'Docker registry behind nginx with large layer uploads', 'Large Docker image layers upload without size errors', 'Increasing only one nginx proxy when multiple are in chain', 0.92, 'haiku', NOW(), 'https://stackoverflow.com/questions/35122918/docker-push-error-413-request-entity-too-large', 'admin:1764219681');

COMMIT;