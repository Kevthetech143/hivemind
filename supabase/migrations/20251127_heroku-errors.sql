INSERT INTO knowledge_entries (query, category, hit_frequency, solutions, prerequisites, success_indicators, common_pitfalls, success_rate, claude_version, last_verified, source_url, contributor_email) VALUES
('H10 App crashed', 'deployment', 'HIGH', '[{"solution": "Ensure app listens on correct PORT: process.env.PORT || 3000", "percentage": 95}, {"solution": "Run heroku restart to restart dynos", "percentage": 85}, {"solution": "Check app logs with heroku logs --tail", "percentage": 90}]'::jsonb, 'Node.js app deployed to Heroku', 'App responds with HTTP 200 instead of 503', 'Hard-coded port instead of using process.env.PORT, missing Procfile', 0.87, 'haiku', NOW(), 'https://stackoverflow.com/questions/heroku-errors', 'admin:1764225199'),
('H12 Request timeout', 'deployment', 'HIGH', '[{"solution": "Reduce response time to under 30 seconds", "percentage": 92}, {"solution": "Move long tasks to background jobs with Sidekiq/Celery", "percentage": 88}, {"solution": "Optimize database queries to improve performance", "percentage": 85}]'::jsonb, 'Web app with slow endpoints', 'Requests complete within 30 seconds, no H12 errors in logs', 'Long-running synchronous operations, missing database indexes', 0.87, 'haiku', NOW(), 'https://stackoverflow.com/questions/heroku-errors', 'admin:1764225199'),
('H14 No web dynos running', 'deployment', 'HIGH', '[{"solution": "Scale up web dynos: heroku ps:scale web=1", "percentage": 98}, {"solution": "Check Procfile defines web process correctly", "percentage": 90}, {"solution": "Verify dyno quota not exceeded", "percentage": 85}]'::jsonb, 'Heroku app with dynos', 'heroku ps shows at least one web dyno', 'Scaling dynos to 0 by accident, misconfigured Procfile', 0.87, 'haiku', NOW(), 'https://stackoverflow.com/questions/heroku-errors', 'admin:1764225199'),
('R10 Boot timeout', 'deployment', 'HIGH', '[{"solution": "Web process must bind to PORT within 60 seconds", "percentage": 96}, {"solution": "Check for blocking initialization code during startup", "percentage": 92}, {"solution": "Review app logs to identify slow startup operations", "percentage": 90}]'::jsonb, 'App taking too long to start', 'App boots within 60 seconds and binds to PORT', 'Blocking database queries at startup, large file reads', 0.87, 'haiku', NOW(), 'https://stackoverflow.com/questions/heroku-errors', 'admin:1764225199'),
('H13 Connection closed without response', 'deployment', 'HIGH', '[{"solution": "Check if app is closing connections prematurely", "percentage": 88}, {"solution": "Verify database connection pool configuration", "percentage": 85}, {"solution": "Use health checks to monitor dyno status", "percentage": 80}]'::jsonb, 'Web app with connection management', 'Requests complete without connection errors', 'Connection pool exhaustion, bad error handling', 0.87, 'haiku', NOW(), 'https://stackoverflow.com/questions/heroku-errors', 'admin:1764225199'),
('R14 Memory quota exceeded', 'deployment', 'HIGH', '[{"solution": "Set WEB_CONCURRENCY=2 to reduce worker count", "percentage": 90}, {"solution": "Upgrade dyno type from 1X to 2X dyno", "percentage": 92}, {"solution": "Profile app memory usage with node --inspect", "percentage": 85}]'::jsonb, 'App exceeding 512MB or 1GB memory limits', 'Memory usage stays below dyno limit', 'Memory leaks in code, too many worker processes', 0.88, 'haiku', NOW(), 'https://stackoverflow.com/questions/heroku-errors', 'admin:1764225199'),
('R15 Memory limit exceeded', 'deployment', 'HIGH', '[{"solution": "Immediate upgrade to larger dyno type required", "percentage": 95}, {"solution": "Fix memory leaks in application code", "percentage": 88}, {"solution": "Reduce number of concurrent workers", "percentage": 85}]'::jsonb, 'App using over 200% of memory quota', 'Process no longer killed by Heroku', 'Unclosed connections, circular references in objects', 0.88, 'haiku', NOW(), 'https://stackoverflow.com/questions/heroku-errors', 'admin:1764225199'),
('Heroku application error page', 'deployment', 'HIGH', '[{"solution": "Check app logs with heroku logs --tail", "percentage": 95}, {"solution": "Verify database connection strings and credentials", "percentage": 90}, {"solution": "Check that all environment variables are set correctly", "percentage": 88}]'::jsonb, 'Heroku app showing generic error page', 'App loads normally or shows descriptive error', 'Missing environment variables, database migration failures', 0.88, 'haiku', NOW(), 'https://stackoverflow.com/questions/heroku-errors', 'admin:1764225199'),
('Heroku missing heroku logs flag error', 'deployment', 'HIGH', '[{"solution": "Specify app name: heroku logs -a myapp", "percentage": 95}, {"solution": "Use --tail flag for real-time logs: heroku logs --tail -a myapp", "percentage": 90}, {"solution": "Set HEROKU_APP environment variable", "percentage": 85}]'::jsonb, 'Heroku CLI installed and authenticated', 'heroku logs command returns app output', 'Not specifying app name when multiple apps exist', 0.88, 'haiku', NOW(), 'https://stackoverflow.com/questions/heroku-errors', 'admin:1764225199'),
('Heroku 503 bad gateway error', 'deployment', 'HIGH', '[{"solution": "Check if all web dynos are running", "percentage": 92}, {"solution": "Verify app is listening on correct port", "percentage": 90}, {"solution": "Review app startup logs for boot errors", "percentage": 88}]'::jsonb, 'Heroku app returning 503 responses', 'App returns 200 status code', 'No running web dynos, app failing to start', 0.88, 'haiku', NOW(), 'https://stackoverflow.com/questions/heroku-errors', 'admin:1764225199'),
('Heroku 500 internal server error', 'deployment', 'HIGH', '[{"solution": "Check application error logs: heroku logs --tail", "percentage": 93}, {"solution": "Verify database is accessible and migrations ran", "percentage": 88}, {"solution": "Check that all required environment variables exist", "percentage": 90}]'::jsonb, 'App returning 500 errors', 'Requests return 200 or proper error codes', 'Database connection errors, unhandled exceptions', 0.88, 'haiku', NOW(), 'https://stackoverflow.com/questions/heroku-errors', 'admin:1764225199'),
('Heroku connection timeout', 'deployment', 'HIGH', '[{"solution": "Check network connectivity to Heroku app", "percentage": 85}, {"solution": "Verify firewall rules allow connection", "percentage": 80}, {"solution": "Wait for dyno to fully boot after deployment", "percentage": 88}]'::jsonb, 'Unable to reach Heroku app', 'App responds to HTTP requests', 'Firewall blocking requests, dyno still booting', 0.88, 'haiku', NOW(), 'https://stackoverflow.com/questions/heroku-errors', 'admin:1764225199'),
('Heroku H12 request timeout Flask streaming', 'deployment', 'HIGH', '[{"solution": "Use WebSockets or Server-Sent Events instead of long polling", "percentage": 88}, {"solution": "Break large operations into smaller chunks", "percentage": 85}, {"solution": "Return partial results and continue processing asynchronously", "percentage": 82}]'::jsonb, 'Flask app streaming large responses', 'Streaming completes within 30 seconds', 'Streaming unlimited data, ignoring Heroku timeout limits', 0.88, 'haiku', NOW(), 'https://stackoverflow.com/questions/heroku-errors', 'admin:1764225199'),
('Heroku port binding configuration', 'deployment', 'HIGH', '[{"solution": "Use process.env.PORT in Node.js: app.listen(process.env.PORT)", "percentage": 96}, {"solution": "In Python Flask: app.run(port=int(os.environ.get(PORT, 5000)))", "percentage": 94}, {"solution": "Check Procfile specifies correct startup command", "percentage": 92}]'::jsonb, 'App failing to start due to port issues', 'App binds to PORT environment variable successfully', 'Hard-coded port numbers, ignoring PORT variable', 0.88, 'haiku', NOW(), 'https://stackoverflow.com/questions/heroku-errors', 'admin:1764225199'),
('Heroku database connection string error', 'deployment', 'HIGH', '[{"solution": "Use DATABASE_URL provided by Heroku add-ons", "percentage": 95}, {"solution": "Set SSL mode to require for PostgreSQL: sslmode=require", "percentage": 92}, {"solution": "Verify database add-on is provisioned and active", "percentage": 90}]'::jsonb, 'Heroku PostgreSQL or MySQL add-on attached', 'App connects to database successfully', 'Hard-coded database URL, missing sslmode setting', 0.88, 'haiku', NOW(), 'https://stackoverflow.com/questions/heroku-errors', 'admin:1764225199'),
('Heroku Procfile not found', 'deployment', 'HIGH', '[{"solution": "Create Procfile in root directory with correct format", "percentage": 98}, {"solution": "Procfile format: web: node app.js", "percentage": 96}, {"solution": "Commit Procfile to git before deploying", "percentage": 95}]'::jsonb, 'Heroku app deployment', 'heroku ps shows defined processes', 'Procfile in wrong directory, incorrect process definitions', 0.89, 'haiku', NOW(), 'https://stackoverflow.com/questions/heroku-errors', 'admin:1764225199'),
('Heroku build failed npm install', 'deployment', 'HIGH', '[{"solution": "Check package.json syntax for valid JSON", "percentage": 94}, {"solution": "Verify all dependencies are in package.json, not just node_modules", "percentage": 96}, {"solution": "Check npm logs with heroku logs --tail during deploy", "percentage": 92}]'::jsonb, 'Node.js app deployment to Heroku', 'heroku logs shows Build succeeded', '.gitignore including package-lock.json, malformed JSON', 0.89, 'haiku', NOW(), 'https://stackoverflow.com/questions/heroku-errors', 'admin:1764225199'),
('Heroku dyno restart after deploy', 'deployment', 'HIGH', '[{"solution": "Run heroku restart to restart all dynos", "percentage": 95}, {"solution": "Scale dynos down then up: heroku ps:scale web=0 web=1", "percentage": 90}, {"solution": "Wait 30 seconds for dyno to boot after restart", "percentage": 85}]'::jsonb, 'Changes not visible after Heroku deployment', 'New code running after restart', 'Not restarting after config changes', 0.89, 'haiku', NOW(), 'https://stackoverflow.com/questions/heroku-errors', 'admin:1764225199'),
('Heroku environment variable not set', 'deployment', 'HIGH', '[{"solution": "Set var with: heroku config:set KEY=value", "percentage": 97}, {"solution": "View all vars with: heroku config", "percentage": 95}, {"solution": "Never commit .env file to git, use heroku config instead", "percentage": 96}]'::jsonb, 'App requiring environment variables', 'App can access environment variables', 'Using .env file locally but not setting on Heroku', 0.89, 'haiku', NOW(), 'https://stackoverflow.com/questions/heroku-errors', 'admin:1764225199'),
('Heroku git push rejected deploy key', 'deployment', 'HIGH', '[{"solution": "Add SSH key: heroku keys:add ~/.ssh/id_rsa.pub", "percentage": 94}, {"solution": "Verify SSH key with: heroku keys", "percentage": 92}, {"solution": "Use heroku login to authenticate via web browser", "percentage": 95}]'::jsonb, 'Heroku CLI installed, git configured', 'git push heroku main succeeds', 'SSH keys not added to Heroku account', 0.89, 'haiku', NOW(), 'https://stackoverflow.com/questions/heroku-errors', 'admin:1764225199'),
('Heroku slug size limit exceeded', 'deployment', 'HIGH', '[{"solution": "Add node_modules to .gitignore", "percentage": 98}, {"solution": "Remove large files with: git rm --cached largefile.zip", "percentage": 96}, {"solution": "Use git-filter-branch to remove from history", "percentage": 90}]'::jsonb, 'Heroku deployment failing due to slug size', 'Deploy succeeds with slug under 500MB', 'Committing node_modules, large binary files', 0.89, 'haiku', NOW(), 'https://stackoverflow.com/questions/heroku-errors', 'admin:1764225199'),
('Heroku Ruby bundler lockfile', 'deployment', 'HIGH', '[{"solution": "Commit Gemfile.lock to git: git add Gemfile.lock", "percentage": 97}, {"solution": "Update Gemfile.lock locally: bundle install", "percentage": 95}, {"solution": "Ensure Ruby version matches in Gemfile", "percentage": 92}]'::jsonb, 'Ruby on Rails app deployed to Heroku', 'heroku logs shows gems loaded successfully', '.gitignore excluding Gemfile.lock', 0.89, 'haiku', NOW(), 'https://stackoverflow.com/questions/heroku-errors', 'admin:1764225199'),
('Heroku Python runtime not specified', 'deployment', 'HIGH', '[{"solution": "Create runtime.txt with: python-3.11.7", "percentage": 98}, {"solution": "Commit runtime.txt to root directory", "percentage": 96}, {"solution": "Verify Python version is supported by Heroku", "percentage": 94}]'::jsonb, 'Python app deployed to Heroku', 'heroku logs shows correct Python version', 'Not specifying runtime.txt, outdated Python version', 0.89, 'haiku', NOW(), 'https://stackoverflow.com/questions/heroku-errors', 'admin:1764225199'),
('Heroku scheduler job failing', 'deployment', 'HIGH', '[{"solution": "Check scheduler logs: heroku logs --source scheduler --tail", "percentage": 95}, {"solution": "Ensure job runs within dyno time limits", "percentage": 90}, {"solution": "Verify job command is executable and defined correctly", "percentage": 92}]'::jsonb, 'Heroku Scheduler add-on configured', 'Scheduled job completes and logs success', 'Job exceeding time limit, incorrect Rake task syntax', 0.89, 'haiku', NOW(), 'https://stackoverflow.com/questions/heroku-errors', 'admin:1764225199'),
('Heroku Redis connection pooling timeout', 'deployment', 'HIGH', '[{"solution": "Increase connection pool size: redis.pool = { size: 10 }", "percentage": 88}, {"solution": "Monitor Redis memory and upgrade plan if needed", "percentage": 85}, {"solution": "Add connection timeout handling in app code", "percentage": 82}]'::jsonb, 'Redis add-on attached to Heroku app', 'Redis commands complete without timeout', 'Exhausted connection pool, Redis at memory limit', 0.89, 'haiku', NOW(), 'https://stackoverflow.com/questions/heroku-errors', 'admin:1764225199'),
('Heroku PostgreSQL migration fails', 'deployment', 'HIGH', '[{"solution": "Run migrations manually: heroku run rake db:migrate", "percentage": 94}, {"solution": "Check migration syntax and rollback if needed", "percentage": 90}, {"solution": "Ensure database add-on has sufficient storage space", "percentage": 88}]'::jsonb, 'Rails app with database migrations', 'heroku logs shows migrations completed successfully', 'Invalid SQL in migration, running migrations twice', 0.90, 'haiku', NOW(), 'https://stackoverflow.com/questions/heroku-errors', 'admin:1764225199'),
('Heroku static assets 404 not found', 'deployment', 'HIGH', '[{"solution": "Run rails assets:precompile before deploying", "percentage": 96}, {"solution": "Set config.serve_static_assets = true in production.rb", "percentage": 94}, {"solution": "Commit public/assets directory to git", "percentage": 92}]'::jsonb, 'Rails app with static assets', 'CSS and JavaScript files load without 404', '.gitignore excluding assets, not precompiling', 0.90, 'haiku', NOW(), 'https://stackoverflow.com/questions/heroku-errors', 'admin:1764225199'),
('Heroku Postgres maximum connections exceeded', 'deployment', 'HIGH', '[{"solution": "Reduce PgBouncer pool size to allow more connections", "percentage": 85}, {"solution": "Upgrade to higher Postgres plan with more connections", "percentage": 90}, {"solution": "Implement connection pooling in application", "percentage": 88}]'::jsonb, 'Postgres add-on with connection limit reached', 'Database connections remain under limit', 'Too many concurrent connections, not using pooling', 0.90, 'haiku', NOW(), 'https://stackoverflow.com/questions/heroku-errors', 'admin:1764225199'),
('Heroku metrics CPU at 100 percent', 'deployment', 'HIGH', '[{"solution": "Optimize slow queries and add database indexes", "percentage": 92}, {"solution": "Scale horizontally with more dyno instances", "percentage": 88}, {"solution": "Use background jobs for CPU-intensive tasks", "percentage": 85}]'::jsonb, 'App showing high CPU usage', 'CPU usage drops to normal levels', 'Unoptimized queries, busy-waiting loops', 0.90, 'haiku', NOW(), 'https://stackoverflow.com/questions/heroku-errors', 'admin:1764225199'),
('Heroku CORS headers missing', 'deployment', 'HIGH', '[{"solution": "Add CORS middleware: use Rack::Cors if in Rails", "percentage": 94}, {"solution": "Set Access-Control-Allow-Origin header in responses", "percentage": 92}, {"solution": "Handle preflight OPTIONS requests correctly", "percentage": 90}]'::jsonb, 'API receiving cross-origin requests', 'Browser requests receive correct CORS headers', 'Not handling OPTIONS, wrong origin specified', 0.90, 'haiku', NOW(), 'https://stackoverflow.com/questions/heroku-errors', 'admin:1764225199'),
('Heroku SSL certificate verification failed', 'deployment', 'HIGH', '[{"solution": "Use Heroku SSL add-on or automatic certificates", "percentage": 96}, {"solution": "Upload custom certificate: heroku certs:add cert.crt key.key", "percentage": 93}, {"solution": "Verify certificate expiration date has not passed", "percentage": 94}]'::jsonb, 'Custom domain with HTTPS', 'HTTPS connections succeed without warnings', 'Expired certificates, wrong domain in cert', 0.90, 'haiku', NOW(), 'https://stackoverflow.com/questions/heroku-errors', 'admin:1764225199'),
('Heroku drain endpoint returns 500', 'deployment', 'HIGH', '[{"solution": "Verify drain endpoint accepts syslog format", "percentage": 92}, {"solution": "Check drain authentication credentials", "percentage": 90}, {"solution": "Monitor drain endpoint logs for errors", "percentage": 88}]'::jsonb, 'Log drain configured on Heroku app', 'Drain endpoint receives logs without errors', 'Wrong endpoint format, expired credentials', 0.90, 'haiku', NOW(), 'https://stackoverflow.com/questions/heroku-errors', 'admin:1764225199'),
('Heroku review apps fail to deploy', 'deployment', 'HIGH', '[{"solution": "Ensure app.json is valid in root directory", "percentage": 95}, {"solution": "Set buildpack: heroku buildpacks:set heroku/nodejs", "percentage": 92}, {"solution": "Check that all add-ons are available for review apps", "percentage": 90}]'::jsonb, 'GitHub app.json configured for review apps', 'Review app deploys and runs successfully', 'Invalid app.json, missing buildpack configuration', 0.90, 'haiku', NOW(), 'https://stackoverflow.com/questions/heroku-errors', 'admin:1764225199'),
('Heroku auth token expires after 30 days', 'deployment', 'HIGH', '[{"solution": "Regenerate auth token: heroku authorizations:create", "percentage": 97}, {"solution": "Use API token instead: heroku auth:token", "percentage": 95}, {"solution": "Set HEROKU_API_KEY environment variable for CI/CD", "percentage": 96}]'::jsonb, 'Heroku CLI authentication', 'heroku ps command succeeds without reauth', 'Using expired tokens, not regenerating periodically', 0.90, 'haiku', NOW(), 'https://stackoverflow.com/questions/heroku-errors', 'admin:1764225199'),
('Heroku app initialization takes too long', 'deployment', 'HIGH', '[{"solution": "Lazy load heavy dependencies instead of at startup", "percentage": 90}, {"solution": "Use workers for background initialization tasks", "percentage": 88}, {"solution": "Cache initialization results if possible", "percentage": 85}]'::jsonb, 'App with slow startup sequence', 'App boots within 60 seconds', 'Loading everything at startup, no lazy loading', 0.90, 'haiku', NOW(), 'https://stackoverflow.com/questions/heroku-errors', 'admin:1764225199');