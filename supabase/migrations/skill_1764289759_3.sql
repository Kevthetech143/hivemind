INSERT INTO knowledge_entries (query, category, type, solutions, executable_type, prerequisites, common_pitfalls, success_indicators, preview_summary, source_url, contributor_email)
VALUES (
  'Kubernetes Manifest Generator - Create production-ready K8s manifests for Deployments, Services, ConfigMaps, Secrets, and PVCs',
  'claude-code',
  'skill',
  '[{"solution":"Gather deployment requirements","manual":"Identify: application type, container image/tag, env variables, storage needs, port exposure, resource requirements, scaling needs, health check endpoints","note":"Ask key questions about workload requirements"},{"solution":"Create Deployment manifest with best practices","manual":"Include: 3+ replicas, specific image tags, resource limits, liveness/readiness probes, security context, labels, non-root user","note":"Never use :latest tag"},{"solution":"Add health checks and probes","manual":"Configure liveness and readiness probes with appropriate delays and thresholds","note":"Critical for Kubernetes pod management"},{"solution":"Create Service manifest","manual":"Choose type: ClusterIP (internal), LoadBalancer (external), NodePort (direct), Headless (StatefulSet). Configure ports and selectors.","note":"Service type depends on accessibility requirements"},{"solution":"Create ConfigMap for configuration","manual":"Store non-sensitive config: environment vars, config files, properties. Use ConfigMap for app-specific settings.","note":"Mount as environment variables or files"},{"solution":"Create Secret for sensitive data","manual":"Store: passwords, API keys, certificates. Use Sealed Secrets or External Secrets Operator in production. Never commit to Git.","note":"Rotate secrets regularly"},{"solution":"Implement security best practices","manual":"Set security context: runAsNonRoot, runAsUser, drop capabilities, read-only filesystem. Use Pod Security Standards.","note":"Always run as non-root user (UID 1000)"},{"solution":"Validate manifests","manual":"Use dry-run, kubeval, kube-score for validation before deployment","note":"Always validate before applying to cluster"}]'::jsonb,
  'script',
  'Kubernetes cluster, kubectl, understanding of Docker containers, YAML syntax, Kubernetes resources',
  'Using :latest tag instead of specific versions; Missing resource requests/limits; No health checks configured; Running as root user; Storing secrets in ConfigMap; Single replica for production; Missing security context; No pod anti-affinity for HA',
  'Manifests pass dry-run validation; All required fields present; Resource limits reasonable; Health checks working; Pods starting successfully; Services accessible; ConfigMaps and Secrets loaded; Security context applied; Zero-downtime deployments',
  'Generate production-ready K8s manifests with best practices, security, health checks, and proper resource management',
  'https://skillsmp.com/skills/wshobson-agents-plugins-kubernetes-operations-skills-k8s-manifest-generator-skill-md',
  'admin:HAIKU_SKILL_1764289759_1793'
);
