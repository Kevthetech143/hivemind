-- Stimulus Error Mining v2
-- Mined on 2025-11-26

INSERT INTO knowledge_entries (query, category, hit_frequency, solutions, prerequisites, success_indicators, common_pitfalls, success_rate, claude_version, last_verified, source_url, contributor_email) VALUES
('Failed to register controller: Error: Unable to resolve specifier ''stimulus''', 'stimulus', 'HIGH', '[{"solution": "Change import from \"stimulus\" to \"@hotwired/stimulus\" in controller files", "percentage": 98}, {"solution": "Verify stimulus is pinned correctly in importmap.rb", "percentage": 95}, {"solution": "Check application.js imports \"@hotwired/stimulus\" not \"stimulus\"", "percentage": 92}]'::jsonb, 'Rails 7 with importmap-rails', 'Controller registers successfully, console errors clear', 'Mixing old stimulus imports with new @hotwired/stimulus', 0.94, 'haiku', NOW(), 'https://stackoverflow.com/questions/74298708/how-to-resolve-error-unable-to-resolve-specifier-stimulus-error', 'admin:1764210777'),

('Error invoking action "change->stimulus-reflex#__perform": ActionCable connection is not open', 'stimulus', 'HIGH', '[{"solution": "Ensure ActionCable connection is established before calling stimulate()", "percentage": 97}, {"solution": "Check connection.rb includes Devise authenticated_by :current_user", "percentage": 94}, {"solution": "Verify WebSocket connection established in browser DevTools", "percentage": 90}]'::jsonb, 'Rails 6+, stimulus-reflex gem, ActionCable', 'Reflex action executes without ActionCable error', 'Calling reflex before connection ready, auth issues', 0.91, 'haiku', NOW(), 'https://stackoverflow.com/questions/68922924/stimulus-reflex-error-invoking-action-change-stimulus-reflex-perform', 'admin:1764210777'),

('Error: Missing target element "X" for "X" controller', 'stimulus', 'CRITICAL', '[{"solution": "Define target in static targets array: static targets = [\"targetName\"]", "percentage": 99}, {"solution": "Add data-target=\"controller.targetName\" to target element", "percentage": 98}, {"solution": "Wrap elements with data-controller or use data-*-target naming", "percentage": 96}]'::jsonb, 'Stimulus.js ES6 classes', 'All targets resolve, no console errors', 'Forgetting static targets, misnamed target attributes', 0.96, 'haiku', NOW(), 'https://stackoverflow.com/questions/76279205/how-to-declare-stimulus-target-in-rails-link-to', 'admin:1764210777'),

('Uncaught Error: Module parse failed: Unexpected token (static targets = [...])', 'stimulus', 'HIGH', '[{"solution": "Add Babel preset-env to package.json: \"babel\": {\"presets\": [\"@babel/preset-env\"]}", "percentage": 97}, {"solution": "Install @babel/preset-env: yarn add -D @babel/preset-env", "percentage": 95}, {"solution": "Update webpack config to use babel-loader for JS files", "percentage": 91}]'::jsonb, 'Webpack bundler, stimulus-autocomplete or similar libraries', 'Module parses successfully, autocomplete works', 'Missing Babel config for ES6 static class properties', 0.92, 'haiku', NOW(), 'https://stackoverflow.com/questions/72785484/rails-stimulus-autocomplete-errors-uncaught-error-module-parse-failed-stati', 'admin:1764210777'),

('Error: Missing attribute "data-toggle-change-class" for controller', 'stimulus', 'MEDIUM', '[{"solution": "Define static classes array: static classes = [\"className\"]", "percentage": 98}, {"solution": "Place data-*-class attribute on element with data-controller", "percentage": 97}, {"solution": "Use targets to specify which element to toggle, not data-*-class", "percentage": 95}]'::jsonb, 'Stimulus.js with dynamic classes', 'Class toggles work without errors', 'Placing class attribute on child elements instead of controller', 0.93, 'haiku', NOW(), 'https://stackoverflow.com/questions/74063080/stimulus-js-error-when-toggling-class-from-another-element', 'admin:1764210777'),

('Stimulus controller not functioning - changes in Rails 7 import map', 'stimulus', 'HIGH', '[{"solution": "Run ''rails stimulus:install'' to properly scaffold stimulus", "percentage": 98}, {"solution": "Run ''rails assets:clobber'' to clear compiled assets before reinstall", "percentage": 96}, {"solution": "Run ''yarn build --watch'' in separate tab while developing", "percentage": 93}]'::jsonb, 'Rails 7, stimulus-rails gem, importmap-rails', 'Stimulus controllers connect and respond to actions', 'Bootstrap misconfiguration breaking JS mapping, missing build process', 0.94, 'haiku', NOW(), 'https://stackoverflow.com/questions/73902158/stimulus-controllers-not-functioning-at-all-in-rails-7-app', 'admin:1764210777'),

('Failed to register controller: TypeError: expected value of type "object"', 'stimulus', 'MEDIUM', '[{"solution": "Verify controller export is default: export default class extends Controller", "percentage": 99}, {"solution": "Check for syntax errors in controller file", "percentage": 96}, {"solution": "Ensure Controller is imported from @hotwired/stimulus", "percentage": 94}]'::jsonb, 'Stimulus.js, Rails 7+', 'Controller registers, connect() method fires', 'Exporting named classes instead of default export', 0.95, 'haiku', NOW(), 'https://stackoverflow.com/questions/77158296/stimulus-controller-not-loading', 'admin:1764210777'),

('Failed to register controller: "simple specifier was not remapped to anything"', 'stimulus', 'HIGH', '[{"solution": "Update import from ''stimulus'' to ''@hotwired/stimulus''", "percentage": 99}, {"solution": "Verify importmap.rb pins @hotwired/stimulus correctly", "percentage": 97}, {"solution": "Clear browser cache and restart dev server", "percentage": 85}]'::jsonb, 'Rails 7 with importmap-rails', 'No import errors in console, controllers register', 'Old stimulus package references in relative imports', 0.96, 'haiku', NOW(), 'https://stackoverflow.com/questions/77158296/stimulus-controller-not-loading', 'admin:1764210777'),

('TypeError: Cannot read property ''stimulus'' of undefined', 'stimulus', 'MEDIUM', '[{"solution": "Check window.Stimulus is exported from application.js: export { application as Stimulus }", "percentage": 96}, {"solution": "Verify application.js runs before accessing window.Stimulus", "percentage": 94}, {"solution": "Use conditional: if (window.Stimulus) before accessing properties", "percentage": 91}]'::jsonb, 'Stimulus with external integrations (Stripe, etc)', 'Can access window.Stimulus without errors', 'Application.js not exported, import order issues', 0.90, 'haiku', NOW(), 'https://stackoverflow.com/questions/67986422/typeerror-cannot-read-property-stimulus-of-undefined', 'admin:1764210777'),

('Stimulus controller action not firing on click event', 'stimulus', 'HIGH', '[{"solution": "Verify data-action format: data-action=\"click->controller#method\"", "percentage": 98}, {"solution": "Ensure controller is connected to parent element with data-controller", "percentage": 97}, {"solution": "Check method exists in controller and is not private", "percentage": 95}, {"solution": "Inspect browser DevTools to confirm data-action attribute present", "percentage": 93}]'::jsonb, 'Stimulus.js with DOM event handlers', 'Click event triggers method, no console errors', 'Typos in data-action, missing data-controller, method naming', 0.92, 'haiku', NOW(), 'https://stackoverflow.com/questions/73902158/stimulus-controllers-not-functioning-at-all-in-rails-7-app', 'admin:1764210777');
