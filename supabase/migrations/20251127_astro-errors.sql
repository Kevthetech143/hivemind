INSERT INTO knowledge_entries (query, category, hit_frequency, solutions, prerequisites, success_indicators, common_pitfalls, success_rate, claude_version, last_verified, source_url, contributor_email) VALUES
('Error when evaluating SSR module', 'backend', 'HIGH', '[{"solution": "Check Sanity integration version compatibility, try downgrading to @sanity/astro@5", "percentage": 85}, {"solution": "Use named export: import { sanityIntegration } from ''@sanity/astro''", "percentage": 80}]'::jsonb, 'Astro 3+, Sanity CMS integration', 'Dev server runs without SSR errors', 'Mismatched package versions, default vs named imports', 0.82, 'haiku', NOW(), 'https://stackoverflow.com/questions/77530353/astro-sanity-integration-error-when-evaluating-ssr-module', 'admin:1764224816'),
('Form submit returns 400 error in hybrid rendering', 'frontend', 'HIGH', '[{"solution": "Add export const prerender = false to API route when using hybrid rendering", "percentage": 95}, {"solution": "Change output from hybrid to server in astro.config.mjs", "percentage": 70}]'::jsonb, 'Astro with hybrid/server rendering, Svelte components', 'Form submission works with 200 response', 'Forgetting prerender directive, routing misconfiguration', 0.91, 'haiku', NOW(), 'https://stackoverflow.com/questions/78288071/error-on-form-submit-to-api-route-astro-and-svelte', 'admin:1764224816'),
('Failed to resolve extends astro/tsconfigs/strict', 'build', 'MEDIUM', '[{"solution": "Copy tsconfig from Astro docs and manually merge extends properties", "percentage": 80}, {"solution": "Delete tsconfig.json and regenerate with astro create", "percentage": 75}]'::jsonb, 'TypeScript, Astro project', 'Build completes without tsconfig errors', 'Corrupted tsconfig extends, missing @astro/tsconfigs package', 0.77, 'haiku', NOW(), 'https://stackoverflow.com/questions/73978567/astro-build-error-markdown-with-typescript', 'admin:1764224816'),
('Could not find commit hash for latest degit error', 'setup', 'MEDIUM', '[{"solution": "Configure git global SSH to HTTPS: git config --global url.https://github.com/.insteadOf ssh://git@github.com/", "percentage": 90}, {"solution": "Use npm with SSH key authentication instead of password", "percentage": 70}]'::jsonb, 'Git, Node.js, npm or yarn', 'npm create astro completes without degit errors', 'SSH key issues, npm registry misconfiguration, WSL2 PATH issues', 0.83, 'haiku', NOW(), 'https://stackoverflow.com/questions/70547766/error-in-initiating-astro-after-choosing-a-framework', 'admin:1764224816'),
('Module level directives cause errors ''use client'' ignored', 'build', 'MEDIUM', '[{"solution": "Remove all ''use client'' directives from React components in Astro projects", "percentage": 98}, {"solution": "Use client:only directive on component instead of ''use client''", "percentage": 85}]'::jsonb, 'React in Astro, source maps enabled', 'Build completes with no ''use client'' warnings', 'React Next.js patterns copied to Astro, misunderstanding directive scope', 0.94, 'haiku', NOW(), 'https://stackoverflow.com/questions/78477355/astro-react-application-build-error-10-error-when-using-sourcemap-for-repor', 'admin:1764224816'),
('Could not find Sharp module during build/deploy', 'deployment', 'HIGH', '[{"solution": "Install sharp: npm install sharp", "percentage": 98}, {"solution": "For Netlify/Vercel, ensure sharp is in dependencies not devDependencies", "percentage": 95}, {"solution": "Use --ignore-engines flag for M1/ARM: npm install sharp --ignore-engines", "percentage": 85}]'::jsonb, 'Astro image integration, Node.js 14+', 'Build completes without Sharp import errors', 'Missing sharp package, platform-specific binary issues, M1/ARM compatibility', 0.89, 'haiku', NOW(), 'https://stackoverflow.com/questions/77777542/astro-js-image-sharp-error-sanity-integration', 'admin:1764224816'),
('Cannot find module sharp on Netlify deployment', 'deployment', 'HIGH', '[{"solution": "Install sharp as regular dependency: npm install sharp", "percentage": 96}, {"solution": "Ensure serviceEntryPoint is set to @astrojs/image/sharp in config", "percentage": 90}]'::jsonb, 'Astro @astrojs/image, Node.js adapter', 'Netlify deployment completes, images render', 'Missing npm dependency, build dependency vs production dependency', 0.88, 'haiku', NOW(), 'https://stackoverflow.com/questions/75352316/how-do-i-deploy-a-ssr-astro-site-with-a-node-js-adapter-on-netlify', 'admin:1764224816'),
('Cannot import .astro files in astro.config.mjs', 'config', 'MEDIUM', '[{"solution": "Move utility functions to separate .js/.ts file outside .astro", "percentage": 95}, {"solution": "Use only JavaScript in astro.config files, no .astro imports", "percentage": 100}]'::jsonb, 'Astro config, .astro components', 'Config file loads without import errors', 'Trying to import .astro during config parse time, timing mismatch', 0.96, 'haiku', NOW(), 'https://stackoverflow.com/questions/75878983/how-do-i-import-astro-files-in-astro-config', 'admin:1764224816'),
('React component error in production with react-youtube', 'frontend', 'MEDIUM', '[{"solution": "Use client:only directive instead of client:load for YouTube embeds", "percentage": 85}, {"solution": "Ensure react-youtube is compatible with SSR, consider wrapping in client:only", "percentage": 80}]'::jsonb, 'React, Astro, react-youtube package', 'YouTube component renders in production build', 'SSR hydration issues, third-party library incompatibility', 0.79, 'haiku', NOW(), 'https://stackoverflow.com/questions/73575803/astro-js-problem-with-react-component-in-production', 'admin:1764224816'),
('The build was canceled error with Svelte and content/config.ts', 'build', 'MEDIUM', '[{"solution": "Run npm update vite to fix internal Vite version conflict", "percentage": 88}, {"solution": "Remove ./src/content/ folder temporarily to identify source, then check integration conflicts", "percentage": 75}]'::jsonb, 'Astro Svelte integration, content collections', 'Build completes without X [ERROR] cancellation', 'Vite version mismatch, Svelte integration conflict with content collections', 0.76, 'haiku', NOW(), 'https://stackoverflow.com/questions/77623123/astro-seeing-x-error-the-build-was-canceled-in-build-output-npm-run-build', 'admin:1764224816'),
('Unexpected ExpressionStatement in MDX import/exports only', 'frontend', 'MEDIUM', '[{"solution": "Add blank line between frontmatter and first import statement in .mdx files", "percentage": 98}, {"solution": "Ensure proper spacing: --- YAML --- then newline then imports", "percentage": 97}]'::jsonb, 'Astro MDX, React components', 'MDX file parses without syntax errors', 'Incorrect MDX frontmatter spacing, missing newlines between sections', 0.95, 'haiku', NOW(), 'https://stackoverflow.com/questions/77576890/astro-js-mdx-unexpected-expressionstatement-in-code-only-import-exports-ar', 'admin:1764224816'),
('Error when evaluating SSR module tailwind.config.cjs module is not defined', 'config', 'MEDIUM', '[{"solution": "Convert tailwind.config.cjs to tailwind.config.mjs (ES module)", "percentage": 92}, {"solution": "Use module.exports but ensure Vite can parse it, check Astro version", "percentage": 70}]'::jsonb, 'Tailwind CSS, Astro config, CommonJS/ESM', 'Dev server starts without module definition errors', 'CJS vs ESM mismatch, Vite SSR module resolution issues', 0.85, 'haiku', NOW(), 'https://stackoverflow.com/questions/76749062/vite-error-when-evaluating-ssr-module-failed-to-import-tailwind-config-cjs-re', 'admin:1764224816'),
('Cannot find module sanity:client import error', 'frontend', 'MEDIUM', '[{"solution": "Ensure Sanity integration is properly registered in astro.config.mjs", "percentage": 88}, {"solution": "TypeScript may show false error but code works - ignore or use // @ts-ignore", "percentage": 82}]'::jsonb, 'Sanity CMS, Astro integration', 'sanity:client resolves, Sanity queries work', 'Missing Sanity integration setup, TypeScript type generation incomplete', 0.80, 'haiku', NOW(), 'https://stackoverflow.com/questions/77777542/astro-js-image-sharp-error-sanity-integration', 'admin:1764224816'),
('Unexpected export in import.meta.env on dynamic routes', 'frontend', 'LOW', '[{"solution": "Delete .git line from .gitignore file (unusual but reported fix)", "percentage": 45}, {"solution": "Move env variable usage to middleware or page props instead", "percentage": 70}]'::jsonb, 'Astro dynamic routes, environment variables', 'import.meta.env resolves without syntax errors', '.gitignore corruption (rare), env variable timing in getStaticPaths', 0.55, 'haiku', NOW(), 'https://stackoverflow.com/questions/78339536/import-meta-env-get-error-unexpected-export-in-astro', 'admin:1764224816'),
('Hydration mismatch error text content in Vue component', 'frontend', 'MEDIUM', '[{"solution": "Move dynamic content generation to mounted() lifecycle instead of data()", "percentage": 92}, {"solution": "Ensure server-rendered HTML matches client-rendered HTML exactly", "percentage": 88}]'::jsonb, 'Vue in Astro, hydration-enabled components', 'No hydration mismatch warnings in dev or build', 'SSR vs client rendering differences, timing of data initialization', 0.87, 'haiku', NOW(), 'https://stackoverflow.com/questions/76618212/hydration-completed-but-contains-mismatches-ascii-art-in-a-vue-component', 'admin:1764224816'),
('getStaticPaths missing dynamic route parameters mismatch', 'routing', 'MEDIUM', '[{"solution": "Ensure getStaticPaths returns objects with ALL required params: language AND id", "percentage": 98}, {"solution": "Spread/combine arrays properly so each path has all params needed", "percentage": 95}]'::jsonb, 'Astro dynamic routes, getStaticPaths', 'All dynamic routes generate and return 200 status', 'Heterogeneous array from multiple sources, param mismatch in paths', 0.93, 'haiku', NOW(), 'https://stackoverflow.com/questions/75967594/astro-js-dynamic-routing', 'admin:1764224816'),
('A getStaticPaths route pattern was matched but no matching path found 404', 'routing', 'MEDIUM', '[{"solution": "Verify params passed to getStaticPaths match route segments exactly", "percentage": 94}, {"solution": "Check file structure and param names match [bracket] segments in filename", "percentage": 92}]'::jsonb, 'Astro dynamic routes, content collections', 'Dynamic routes resolve with 200 status codes', 'Parameter name mismatch, incorrect data mapping, missing i18n handling', 0.90, 'haiku', NOW(), 'https://stackoverflow.com/questions/77988318/why-is-astro-js-dynamic-routing-returning-404-always-on-my-local-dev-environment', 'admin:1764224816');
