-- General Migration Errors - 10 entries
INSERT INTO knowledge_entries (query, category, hit_frequency, solutions, prerequisites, success_indicators, common_pitfalls, success_rate, claude_version, last_verified, source_url, contributor_email) VALUES
('SolidJS vitest no named export called hydrate', 'general', 'HIGH', '[{"solution": "Ensure your vitest setup properly exports hydrate from solid-js/web. Update your test configuration to include proper solid-js resolver configuration and use solid-testing-library correctly for rendering components in tests.", "percentage": 95}, {"solution": "Check that you''re importing from solid-js/web and not another module. Verify solid-js package is properly installed and vite-plugin-solid is configured for the test environment.", "percentage": 85}]'::jsonb, 'solid-js package installed, vitest configured, solid-testing-library installed', 'Tests run without SyntaxError, hydrate is properly imported and used in test setup', 'Using incorrect import path for hydrate, missing solid-js in vite/test config, outdated solid-js version', 0.92, 'haiku', NOW(), 'https://stackoverflow.com/questions/72773313/solidjs-vitest-no-named-export-called-hydrate', 'admin:1764191697'),
('Parcel fails to resolve solid-js/jsx-runtime for tsx files', 'general', 'HIGH', '[{"solution": "Install babel-preset-solid and @babel/core. Create .babelrc with { \"presets\": [\"solid\"] }. Ensure jsxImportSource is set to ''solid-js'' in tsconfig.json and nested projects have proper package.json workspace configuration.", "percentage": 95}, {"solution": "Use Parcel json-based babel config (.babelrc) not JavaScript babel.config.js. Verify all nested packages have proper ''source'' field pointing to tsx entry files.", "percentage": 88}]'::jsonb, 'Parcel 2.3+, babel-preset-solid installed, TypeScript with jsx: preserve', 'Parcel successfully builds nested TypeScript projects with SolidJS, no jsx-runtime resolution errors', 'Using babel.config.js instead of .babelrc, missing jsxImportSource in tsconfig, nested packages without source field', 0.90, 'haiku', NOW(), 'https://stackoverflow.com/questions/71472260/parcel-fails-to-resolve-solid-js-jsx-runtime-for-tsx-files', 'admin:1764191697'),
('Migration failing: Can''t resolve apollo-client after upgrading to @apollo/client 3.x', 'general', 'HIGH', '[{"solution": "Remove all old apollo packages (@apollo/react-hooks, apollo-client, apollo-boost). Replace all imports to use only @apollo/client. Remove react-apollo package if still present. Run npm install after cleaning package.json.", "percentage": 98}, {"solution": "Clear node_modules and reinstall dependencies. Check for duplicate apollo packages in lock file and remove them manually if needed.", "percentage": 92}]'::jsonb, '@apollo/client 3.x installed, old apollo packages removed, graphql 14.5+', 'All apollo imports resolved, no module not found errors, application compiles successfully', 'Not removing old apollo packages, mixing old and new import paths, outdated lock file', 0.95, 'haiku', NOW(), 'https://stackoverflow.com/questions/68347521/module-not-found-cant-resolve-apollo-client', 'admin:1764191697'),
('Laravel migration error 3780: Referencing column incompatible in foreign key constraint', 'general', 'HIGH', '[{"solution": "Ensure both columns have identical data types. Change referenced column to unsigned integer: use id() method which generates unsigned bigint. Change referencing column to match: use unsignedBigInteger() not integer(). Wrap foreign key operations in Schema::disableForeignKeyConstraints() blocks.", "percentage": 96}, {"solution": "Reverse migration if needed and regenerate with matching column types. Use bigIncrements() for primary keys and unsignedBigInteger() for foreign keys consistently across all tables.", "percentage": 91}]'::jsonb, 'Laravel 7+, MySQL 5.7.14+, migration files with foreign keys, disableForeignKeyConstraints available', 'Migration runs without constraint errors, foreign keys properly created with matching types', 'Mismatched column types (int vs bigint), not using unsigned for both columns, creating table before referenced table exists', 0.93, 'haiku', NOW(), 'https://stackoverflow.com/questions/61701316/laravel-migration-issue-general-error-3780', 'admin:1764191697'),
('Apollo Client 3.0 migration: Could not find client in context of ApolloConsumer', 'general', 'HIGH', '[{"solution": "Change import from @apollo/react-hoc to @apollo/client/react/hoc. Update withApollo import: import { withApollo } from \"@apollo/client/react/hoc\". Ensure ApolloProvider wraps root component with proper client instance.", "percentage": 97}, {"solution": "Verify ApolloClient is created with valid HttpLink and InMemoryCache. Check that ApolloProvider component is at the top level of React tree before any consuming components.", "percentage": 94}]'::jsonb, '@apollo/client 3.0+, @apollo/react-hoc removed, proper ApolloClient instance created', 'withApollo HOC imports resolve, ApolloConsumer has client context available, no context errors', 'Using @apollo/react-hoc instead of @apollo/client/react/hoc, ApolloProvider not at top level, client instance not initialized', 0.94, 'haiku', NOW(), 'https://stackoverflow.com/questions/59643723/after-migrating-to-apollo-client-3-0-using-withapollo-hoc-throwing-could-not', 'admin:1764191697'),
('golang-migrate error: unknown driver file forgotten import', 'general', 'HIGH', '[{"solution": "Import the file driver in your main.go or migration function: import _ \"github.com/golang-migrate/migrate/v4/source/file\". The underscore imports the driver''s init function which registers the driver globally.", "percentage": 98}, {"solution": "Verify migrate.New() is called after all driver imports. Check the path format is file:///path/to/migrations/ with three slashes for absolute paths.", "percentage": 93}]'::jsonb, 'golang-migrate v4+ installed, SQL migration files in directory, PostgreSQL driver imported', 'Migration runs without driver errors, file:// URLs are properly resolved, migrations execute', 'Missing import statement, using relative path without file:// prefix, incorrect path format', 0.96, 'haiku', NOW(), 'https://stackoverflow.com/questions/69054061/how-to-do-migration-using-golang-migrate', 'admin:1764191697'),
('Apollo Server 3.5.0 migration: missing async wrapper around server startup', 'general', 'HIGH', '[{"solution": "Wrap all Apollo Server v3+ code in an async IIFE or async function. Call await server.start() before applying middleware. Use: async function startServer() { await server.start(); ... } startServer()", "percentage": 97}, {"solution": "If using Express, await server.start() before app.use(server.getMiddleware()). Promises must resolve before server middleware is applied to express instance.", "percentage": 95}]'::jsonb, 'Apollo Server 3.5+, Node 14+, Express middleware, makeExecutableSchema imported', 'Server starts without async errors, middleware applies correctly, GraphQL endpoint responds', 'Not awaiting server.start(), using old 2.x startup pattern, applying middleware before server.start() resolves', 0.94, 'haiku', NOW(), 'https://stackoverflow.com/questions/69873531/migrating-to-3-5-0-with-apollo-server-express', 'admin:1764191697'),
('Apollo Client v4 migration in Expo: Element type is invalid undefined', 'general', 'MEDIUM', '[{"solution": "Import ApolloProvider from @apollo/client/react not @apollo/client. Change: import { ApolloProvider } from ''@apollo/client/react''. This is required for React Native and Expo compatibility.", "percentage": 98}, {"solution": "Ensure ApolloClient is created with valid HttpLink pointing to GraphQL endpoint. Wrap entire app with ApolloProvider after all dependencies are imported.", "percentage": 96}]'::jsonb, '@apollo/client 4.0+, Expo setup, React Native components, valid GraphQL endpoint URL', 'ApolloProvider renders without type errors, component tree loads, GraphQL queries execute in Expo', 'Importing from @apollo/client instead of @apollo/client/react, missing HttpLink configuration, export default statement missing', 0.95, 'haiku', NOW(), 'https://stackoverflow.com/questions/79785479/how-to-fix-apollo-client-v4-in-expo', 'admin:1764191697'),
('SolidJS React is not defined error with vite-plugin-solid', 'general', 'HIGH', '[{"solution": "Ensure vite-plugin-solid is installed and added to vite.config.ts plugins array. Set tsconfig.json to: jsx: preserve, jsxImportSource: solid-js. Exclude problematic dependencies from Vite''s optimizeDeps if they were pre-bundled with React JSX transform.", "percentage": 96}, {"solution": "Add to vite.config.ts: optimizeDeps: { exclude: [''problematic-package''] } to prevent esbuild from pre-bundling packages that conflict with SolidJS JSX transform. Verify all imports use solid-js not React.", "percentage": 92}]'::jsonb, 'SolidJS 1.6+, Vite 3+, vite-plugin-solid installed, TypeScript with proper tsconfig', 'Components render with SolidJS JSX, no React reference errors, proper JSX transformation applied', 'Not installing vite-plugin-solid, missing jsx config, mixing React and SolidJS JSX, Vite pre-bundling packages incorrectly', 0.91, 'haiku', NOW(), 'https://stackoverflow.com/questions/76683361/solid-js-keep-complaining-about-missing-react-when-it-shouldnt', 'admin:1764191697'),
('Database migration foreign key constraint error SQLSTATE HY000 1005', 'general', 'MEDIUM', '[{"solution": "Verify table creation order: parent tables must exist before child tables with foreign keys. Check column data types match exactly between referenced and referencing columns. Use same integer type (INT vs BIGINT) for both columns.", "percentage": 94}, {"solution": "Run migration with single table isolation if order is unknown. Create referenced table first, then create foreign key table. Disable and re-enable foreign key checks: SET FOREIGN_KEY_CHECKS=0; ... SET FOREIGN_KEY_CHECKS=1;", "percentage": 89}]'::jsonb, 'MySQL 5.7+, foreign key constraints enabled, migration framework (Laravel/Symfony), multiple related tables', 'All foreign keys created successfully, referential integrity maintained, migrations complete without constraint errors', 'Mismatched data types, creating child table before parent, circular dependencies, missing column definitions', 0.88, 'haiku', NOW(), 'https://stackoverflow.com/questions/6829160/symfony-1-4-migration-throws-sqlstate-hy000-general-error-1005-err-150-d', 'admin:1764191697');
