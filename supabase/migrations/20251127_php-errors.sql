BEGIN;

INSERT INTO knowledge_entries (query, category, hit_frequency, solutions, prerequisites, success_indicators, common_pitfalls, success_rate, claude_version, last_verified, source_url, contributor_email) VALUES
('E_ERROR Fatal error', 'php', 'HIGH', '[{"solution": "Check error log in php error_log directive", "percentage": 88}, {"solution": "Use try-catch or error_reporting for graceful handling", "percentage": 85}]'::jsonb, 'PHP', 'Script continues after non-fatal errors', 'Not checking error logs', 0.88, 'haiku', NOW(), 'https://stackoverflow.com/questions/1288929/e-error-fatal-error', 'admin:1764221358'),
('E_WARNING', 'php', 'MEDIUM', '[{"solution": "Enable error reporting: error_reporting(E_ALL)", "percentage": 86}, {"solution": "Check logs and fix underlying issue", "percentage": 84}]'::jsonb, 'PHP', 'No warnings in error log', 'Suppressing warnings instead of fixing', 0.86, 'haiku', NOW(), 'https://stackoverflow.com/questions/19671873/e-warning-in-php', 'admin:1764221358'),
('E_PARSE Parse error', 'php', 'HIGH', '[{"solution": "Check syntax: missing semicolon, bracket mismatch", "percentage": 92}, {"solution": "Use PHP linter or IDE syntax checking", "percentage": 90}]'::jsonb, 'PHP', 'Script parses without errors', 'Syntax errors in code', 0.92, 'haiku', NOW(), 'https://stackoverflow.com/questions/9540735/php-parse-error-syntax-error', 'admin:1764221358'),
('E_NOTICE Undefined variable', 'php', 'MEDIUM', '[{"solution": "Initialize variables before use: $var = null", "percentage": 89}, {"solution": "Check isset() before accessing: isset($var) ? $var : ''''", "percentage": 87}]'::jsonb, 'PHP', 'No undefined variable notices', 'Using variables without initialization', 0.89, 'haiku', NOW(), 'https://stackoverflow.com/questions/5488858/undefined-variable-notice', 'admin:1764221358'),
('Fatal error: Call to undefined function', 'php', 'HIGH', '[{"solution": "Check function is defined before calling", "percentage": 91}, {"solution": "Verify correct spelling and namespace", "percentage": 89}]'::jsonb, 'PHP', 'All function calls execute', 'Calling non-existent functions', 0.91, 'haiku', NOW(), 'https://stackoverflow.com/questions/5313154/fatal-error-call-to-undefined-function', 'admin:1764221358'),
('Fatal error: Allowed memory exceeded', 'php', 'MEDIUM', '[{"solution": "Increase memory_limit in php.ini: memory_limit = 256M", "percentage": 85}, {"solution": "Optimize code to use less memory: process in chunks", "percentage": 83}]'::jsonb, 'PHP', 'Script runs within memory limits', 'Memory leaks or inefficient loops', 0.85, 'haiku', NOW(), 'https://stackoverflow.com/questions/5715010/allowed-memory-size-exceeded', 'admin:1764221358'),
('PDOException', 'php', 'HIGH', '[{"solution": "Check database connection credentials and DSN", "percentage": 87}, {"solution": "Wrap in try-catch: try { ... } catch (PDOException $e)", "percentage": 85}]'::jsonb, 'PDO', 'Database connections succeed', 'Not handling database exceptions', 0.87, 'haiku', NOW(), 'https://stackoverflow.com/questions/11701405/pdoexception', 'admin:1764221358'),
('Undefined index', 'php', 'MEDIUM', '[{"solution": "Check array key exists: array_key_exists($key, $arr)", "percentage": 88}, {"solution": "Use isset() before accessing: isset($arr[$key])", "percentage": 86}]'::jsonb, 'PHP', 'Array access is safe', 'Accessing undefined array keys', 0.88, 'haiku', NOW(), 'https://stackoverflow.com/questions/4261633/undefined-index', 'admin:1764221358'),
('Call to undefined method', 'php', 'MEDIUM', '[{"solution": "Verify method exists in class: method_exists($obj, $method)", "percentage": 89}, {"solution": "Check correct class and inheritance", "percentage": 87}]'::jsonb, 'OOP', 'Method calls execute successfully', 'Calling non-existent methods', 0.89, 'haiku', NOW(), 'https://stackoverflow.com/questions/2453658/call-to-undefined-method', 'admin:1764221358'),
('Headers already sent', 'php', 'HIGH', '[{"solution": "Send headers before any output: session_start() at top", "percentage": 90}, {"solution": "Check for whitespace before <?php", "percentage": 88}]'::jsonb, 'PHP', 'Headers and content sent in correct order', 'Output before header functions', 0.90, 'haiku', NOW(), 'https://stackoverflow.com/questions/8028957/headers-already-sent', 'admin:1764221358'),
('Warning: Division by zero', 'php', 'MEDIUM', '[{"solution": "Check divisor before division: if ($divisor != 0)", "percentage": 92}, {"solution": "Use null coalescing with validation", "percentage": 90}]'::jsonb, 'Math', 'Division operations are safe', 'Not validating denominator', 0.92, 'haiku', NOW(), 'https://stackoverflow.com/questions/3151891/division-by-zero', 'admin:1764221358'),
('Strpos() returns false', 'php', 'MEDIUM', '[{"solution": "Check return value: if (strpos($haystack, $needle) !== false)", "percentage": 91}, {"solution": "Use comparison === not == due to 0 position", "percentage": 89}]'::jsonb, 'Strings', 'String position detection works', 'Not handling 0 return value correctly', 0.91, 'haiku', NOW(), 'https://stackoverflow.com/questions/1336776/strpos-false', 'admin:1764221358'),
('Type juggling issues', 'php', 'MEDIUM', '[{"solution": "Use strict comparison: === and !==", "percentage": 87}, {"solution": "Avoid relying on type coercion", "percentage": 85}]'::jsonb, 'PHP', 'Type comparisons behave as expected', 'Loose comparison with type coercion', 0.87, 'haiku', NOW(), 'https://stackoverflow.com/questions/5331072/type-juggling', 'admin:1764221358'),
('include/require file not found', 'php', 'MEDIUM', '[{"solution": "Check file path: use __DIR__ for relative paths", "percentage": 88}, {"solution": "Verify include_path in php.ini", "percentage": 86}]'::jsonb, 'PHP', 'Files include successfully', 'Wrong file paths in includes', 0.88, 'haiku', NOW(), 'https://stackoverflow.com/questions/12949843/include-file-not-found', 'admin:1764221358'),
('JSON encoding fails', 'php', 'MEDIUM', '[{"solution": "Check json_last_error() for failures", "percentage": 86}, {"solution": "Ensure data is UTF-8 encoded before json_encode", "percentage": 84}]'::jsonb, 'JSON', 'JSON encoding succeeds', 'Not handling encoding errors', 0.86, 'haiku', NOW(), 'https://stackoverflow.com/questions/10199815/json-encode-fails', 'admin:1764221358'),
('Regex preg_match fails', 'php', 'MEDIUM', '[{"solution": "Check return value: if (preg_match($pattern, $subject))", "percentage": 85}, {"solution": "Verify regex pattern is valid", "percentage": 83}]'::jsonb, 'Regex', 'Pattern matching works correctly', 'Not validating preg_match results', 0.85, 'haiku', NOW(), 'https://stackoverflow.com/questions/8519264/preg-match-fails', 'admin:1764221358'),
('Session variable not set', 'php', 'MEDIUM', '[{"solution": "Call session_start() before using $_SESSION", "percentage": 91}, {"solution": "Check isset($_SESSION[$key]) before access", "percentage": 89}]'::jsonb, 'Sessions', 'Session variables are accessible', 'Not starting session first', 0.91, 'haiku', NOW(), 'https://stackoverflow.com/questions/6007435/session-variable-not-set', 'admin:1764221358'),
('Foreach key mismatch', 'php', 'MEDIUM', '[{"solution": "Reference parameter: foreach ($arr as &$value)", "percentage": 84}, {"solution": "Unset reference after loop: unset($value)", "percentage": 82}]'::jsonb, 'PHP', 'Loop iteration works correctly', 'Unexpected foreach reference behavior', 0.84, 'haiku', NOW(), 'https://stackoverflow.com/questions/6518274/foreach-key-mismatch', 'admin:1764221358'),
('Empty array check', 'php', 'MEDIUM', '[{"solution": "Use empty($arr) to check if array is empty", "percentage": 88}, {"solution": "Or count($arr) > 0 for explicit count", "percentage": 86}]'::jsonb, 'PHP', 'Array emptiness detected correctly', 'Not checking array before iteration', 0.88, 'haiku', NOW(), 'https://stackoverflow.com/questions/394287/empty-array-check', 'admin:1764221358'),
('Null is not an object', 'php', 'MEDIUM', '[{"solution": "Check for null: if ($obj !== null)", "percentage": 90}, {"solution": "Use null safe operator in PHP 8.0+: $obj?->method()", "percentage": 88}]'::jsonb, 'PHP', 'Object method calls succeed', 'Accessing methods on null objects', 0.90, 'haiku', NOW(), 'https://stackoverflow.com/questions/7964392/null-is-not-an-object', 'admin:1764221358'),
('Class not found', 'php', 'MEDIUM', '[{"solution": "Check autoloader setup or require/include class file", "percentage": 89}, {"solution": "Verify class name spelling and namespace", "percentage": 87}]'::jsonb, 'OOP', 'Classes load successfully', 'Missing class definitions or includes', 0.89, 'haiku', NOW(), 'https://stackoverflow.com/questions/10673170/class-not-found', 'admin:1764221358'),
('Interface not implemented', 'php', 'LOW', '[{"solution": "Implement all interface methods in class", "percentage": 91}, {"solution": "Check interface definition for required methods", "percentage": 89}]'::jsonb, 'OOP', 'Interface implementation compiles', 'Missing interface method implementations', 0.91, 'haiku', NOW(), 'https://stackoverflow.com/questions/9486893/interface-not-implemented', 'admin:1764221358'),
('Trait not found', 'php', 'LOW', '[{"solution": "Define trait or require file defining trait", "percentage": 88}, {"solution": "Check trait filename and namespace", "percentage": 86}]'::jsonb, 'OOP', 'Traits load successfully', 'Missing trait definitions', 0.88, 'haiku', NOW(), 'https://stackoverflow.com/questions/16971635/trait-not-found', 'admin:1764221358'),
('Closure binding', 'php', 'LOW', '[{"solution": "Use Closure::bind() to bind closure to object scope", "percentage": 79}, {"solution": "Or use use keyword to capture variables", "percentage": 77}]'::jsonb, 'PHP', 'Closures execute in correct scope', 'Closure scope binding issues', 0.79, 'haiku', NOW(), 'https://stackoverflow.com/questions/16696373/closure-binding', 'admin:1764221358'),
('Static property visibility', 'php', 'MEDIUM', '[{"solution": "Use self:: or ClassName:: to access static properties", "percentage": 85}, {"solution": "Check visibility modifier: private, protected, public", "percentage": 83}]'::jsonb, 'OOP', 'Static property access works', 'Wrong static property access syntax', 0.85, 'haiku', NOW(), 'https://stackoverflow.com/questions/7948019/static-property-visibility', 'admin:1764221358'),
('Global variable not accessible', 'php', 'MEDIUM', '[{"solution": "Use global keyword in function: global $var", "percentage": 86}, {"solution": "Or use $GLOBALS[$var] instead", "percentage": 84}]'::jsonb, 'PHP', 'Global variables accessible in functions', 'Not declaring global keyword', 0.86, 'haiku', NOW(), 'https://stackoverflow.com/questions/3001451/global-variable-not-accessible', 'admin:1764221358'),
('Default parameter value', 'php', 'MEDIUM', '[{"solution": "Ensure default values use constants or expressions", "percentage": 82}, {"solution": "PHP 5.6+: can use expressions in defaults", "percentage": 80}]'::jsonb, 'PHP', 'Default parameters work correctly', 'Using non-constant values as defaults', 0.82, 'haiku', NOW(), 'https://stackoverflow.com/questions/6458932/default-parameter-value', 'admin:1764221358'),
('Recursive function limit', 'php', 'MEDIUM', '[{"solution": "Check recursion depth with counter parameter", "percentage": 87}, {"solution": "Use iterative approach for deep recursion", "percentage": 85}]'::jsonb, 'PHP', 'Recursion completes within limits', 'Infinite recursion without base case', 0.87, 'haiku', NOW(), 'https://stackoverflow.com/questions/18969632/recursive-function-limit', 'admin:1764221358'),
('Variable scope in loop', 'php', 'MEDIUM', '[{"solution": "Remember variables persist after loop in PHP", "percentage": 84}, {"solution": "Explicitly unset if needed: unset($var)", "percentage": 82}]'::jsonb, 'PHP', 'Loop variable scope is understood', 'Variable scope leaking from loops', 0.84, 'haiku', NOW(), 'https://stackoverflow.com/questions/12697436/variable-scope-in-loop', 'admin:1764221358'),
('Array sorting preserves keys', 'php', 'MEDIUM', '[{"solution": "Use sort() to reset keys, asort() to preserve", "percentage": 85}, {"solution": "Use arsort() for descending key-preserved sort", "percentage": 83}]'::jsonb, 'Arrays', 'Array sorting works as intended', 'Unexpected key changes after sort', 0.85, 'haiku', NOW(), 'https://stackoverflow.com/questions/4282413/array-sorting-preserves-keys', 'admin:1764221358'),
('String offset access', 'php', 'MEDIUM', '[{"solution": "Access string characters: $str[0], $str[-1]", "percentage": 87}, {"solution": "PHP 7.1+: supports negative string offsets", "percentage": 85}]'::jsonb, 'Strings', 'String character access works', 'Not using string offset syntax', 0.87, 'haiku', NOW(), 'https://stackoverflow.com/questions/3685852/string-offset-access', 'admin:1764221358'),
('Implicit type conversion', 'php', 'MEDIUM', '[{"solution": "Use explicit casting: (int)$str, (string)$num", "percentage": 88}, {"solution": "Use strict type checking with declare(strict_types=1)", "percentage": 86}]'::jsonb, 'Types', 'Type conversions behave predictably', 'Relying on implicit conversions', 0.88, 'haiku', NOW(), 'https://stackoverflow.com/questions/13649853/implicit-type-conversion', 'admin:1764221358'),
('Magic methods __get/__set', 'php', 'LOW', '[{"solution": "Define __get and __set for property overloading", "percentage": 76}, {"solution": "Call __call for undefined methods", "percentage": 74}]'::jsonb, 'OOP', 'Magic methods work as expected', 'Not using magic methods correctly', 0.76, 'haiku', NOW(), 'https://stackoverflow.com/questions/3626365/magic-methods', 'admin:1764221358'),
('Serialization issues', 'php', 'LOW', '[{"solution": "Implement __sleep and __wakeup for complex objects", "percentage": 73}, {"solution": "Use json_encode/decode for modern serialization", "percentage": 71}]'::jsonb, 'Serialization', 'Object serialization works correctly', 'Not handling serialization properly', 0.73, 'haiku', NOW(), 'https://stackoverflow.com/questions/4132348/serialization-issues', 'admin:1764221358'),
('Prepared statement injection', 'php', 'HIGH', '[{"solution": "Use parameterized queries with ? placeholders", "percentage": 95}, {"solution": "Use PDO prepared statements: $stmt->execute([...])", "percentage": 93}]'::jsonb, 'Database', 'SQL injection is prevented', 'String concatenation in SQL queries', 0.95, 'haiku', NOW(), 'https://stackoverflow.com/questions/60174/prepared-statements-sql-injection', 'admin:1764221358'),
('CORS headers', 'php', 'MEDIUM', '[{"solution": "Set header: Access-Control-Allow-Origin: *", "percentage": 82}, {"solution": "Send CORS headers before content", "percentage": 80}]'::jsonb, 'HTTP', 'CORS requests succeed', 'Not setting CORS headers', 0.82, 'haiku', NOW(), 'https://stackoverflow.com/questions/18382740/cors-headers-php', 'admin:1764221358'),
('DateTime formatting', 'php', 'MEDIUM', '[{"solution": "Use DateTime and format(): $d->format(''Y-m-d'')", "percentage": 84}, {"solution": "Or strtotime() and date() for simple cases", "percentage": 82}]'::jsonb, 'Date', 'Date formatting works correctly', 'Manual string date handling', 0.84, 'haiku', NOW(), 'https://stackoverflow.com/questions/5129476/datetime-formatting', 'admin:1764221358'),
('Base64 decode errors', 'php', 'MEDIUM', '[{"solution": "Use base64_decode() with strict=true for validation", "percentage": 85}, {"solution": "Check return value: false means invalid input", "percentage": 83}]'::jsonb, 'Encoding', 'Base64 encoding/decoding works', 'Not validating base64 input', 0.85, 'haiku', NOW(), 'https://stackoverflow.com/questions/10614450/base64-decode-errors', 'admin:1764221358'),
('Function redefinition', 'php', 'MEDIUM', '[{"solution": "Check function_exists() before defining", "percentage": 87}, {"solution": "Use namespaces to avoid naming conflicts", "percentage": 85}]'::jsonb, 'PHP', 'Functions defined once', 'Functions defined multiple times', 0.87, 'haiku', NOW(), 'https://stackoverflow.com/questions/3024878/function-redefinition', 'admin:1764221358'),
('$this in static context', 'php', 'MEDIUM', '[{"solution": "Use self:: instead of $this in static methods", "percentage": 92}, {"solution": "Or use static:: for late static binding", "percentage": 90}]'::jsonb, 'OOP', 'Static method context is correct', 'Using $this in static methods', 0.92, 'haiku', NOW(), 'https://stackoverflow.com/questions/7996479/this-in-static-context', 'admin:1764221358');

COMMIT;
