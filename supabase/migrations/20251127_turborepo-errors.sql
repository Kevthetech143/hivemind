INSERT INTO knowledge_entries (query, category, hit_frequency, solutions, prerequisites, success_indicators, common_pitfalls, success_rate, claude_version, last_verified, source_url, contributor_email) VALUES
('Type ''string | number | true | ReactElement'' is not assignable to type ''ReactNode''', 'monorepo', 'HIGH', '[{"solution": "Delete node_modules, .next, and .turbo directories and reinstall dependencies", "percentage": 95}, {"solution": "Ensure TypeScript version is consistent across all packages", "percentage": 85}]'::jsonb, 'React, TypeScript, Turborepo setup', 'Build succeeds without type errors', 'Mixing TypeScript versions across packages, stale cache', 0.88, 'haiku', NOW(), 'https://stackoverflow.com/questions/77161457', 'admin:1764228496'),
('Module not found: Error: Cannot resolve ''./version'' in graphql', 'monorepo', 'HIGH', '[{"solution": "Use .mjs extension for ES modules: add extension to import statements", "percentage": 90}, {"solution": "Configure tsconfig with proper moduleResolution: ''node''", "percentage": 80}]'::jsonb, 'Node.js, package.json type setting', 'Module resolves correctly', 'Forgetting file extensions in strict ES modules', 0.87, 'haiku', NOW(), 'https://stackoverflow.com/questions/72881901', 'admin:1764228496'),
('TypeError: a.default.createContext is not a function - use client directive removed', 'monorepo', 'HIGH', '[{"solution": "Add banner option to tsup config: banner: { js: ''use client'' }", "percentage": 92}, {"solution": "Use tsup onSuccess hook to re-add ''use client'' directive after build", "percentage": 85}]'::jsonb, 'tsup, React Server Components, Next.js 13+', 'Client components work in Next.js app', 'Not configuring tsup for client directives', 0.89, 'haiku', NOW(), 'https://stackoverflow.com/questions/76525345', 'admin:1764228496'),
('Build succeeds with TypeScript errors in library package', 'monorepo', 'MEDIUM', '[{"solution": "Ensure tsconfig strict mode is enabled in all packages", "percentage": 85}, {"solution": "Verify that build pipeline includes type checking step", "percentage": 75}]'::jsonb, 'TypeScript, tsconfig.json', 'Type checking fails for errors', 'Skipping type checking or wrong tsconfig inheritance', 0.72, 'haiku', NOW(), 'https://stackoverflow.com/questions/76145505', 'admin:1764228496'),
('ELIFECYCLE error: Command failed with exit code - Missing node_modules warning', 'monorepo', 'HIGH', '[{"solution": "Run pnpm install at root to install all workspace dependencies", "percentage": 90}, {"solution": "Ensure pnpm-lock.yaml is committed and up to date", "percentage": 85}]'::jsonb, 'pnpm workspace, package manager config', 'No ELIFECYCLE errors on dev script', 'Node_modules missing in workspace hoisting, stale lock file', 0.86, 'haiku', NOW(), 'https://stackoverflow.com/questions/77237915', 'admin:1764228496'),
('Failed to contact turbod daemon - continue in standalone mode', 'monorepo', 'MEDIUM', '[{"solution": "Run: npx turbo daemon clean", "percentage": 85}, {"solution": "Add --no-daemon flag to turbo commands", "percentage": 80}, {"solution": "Delete turbod folder in system Temp directory", "percentage": 75}]'::jsonb, 'Turborepo daemon, port availability', 'Turbo commands run without daemon warnings', 'Daemon process port conflict, corrupted daemon state', 0.79, 'haiku', NOW(), 'https://stackoverflow.com/questions/75153721', 'admin:1764228496'),
('Task ''public'' not found in turbo pipeline in turbo.json', 'monorepo', 'HIGH', '[{"solution": "Add task to turbo.json pipeline before using it: ''public'': {''outputs'': [...]}}", "percentage": 92}, {"solution": "Verify all scripts in package.json have corresponding turbo.json entries", "percentage": 88}]'::jsonb, 'turbo.json configuration', 'All referenced tasks defined in pipeline', 'Forgetting to define task in turbo.json', 0.90, 'haiku', NOW(), 'https://stackoverflow.com/questions/73177248', 'admin:1764228496'),
('Error: $VARIABLE is not listed as a dependency in turbo.json', 'monorepo', 'HIGH', '[{"solution": "Add variable to globalEnv or task-specific env array", "percentage": 95}, {"solution": "Use env array in task definition instead of dependsOn for env vars", "percentage": 93}]'::jsonb, 'turbo.json, environment variables', 'ESLint/build shows no env var warnings', 'Confusing env, globalEnv, globalDependencies fields', 0.91, 'haiku', NOW(), 'https://stackoverflow.com/questions/74547130', 'admin:1764228496'),
('Could not find ''___ROOT___#build'' in root turbo.json', 'monorepo', 'HIGH', '[{"solution": "Ensure root package.json has the task script defined", "percentage": 88}, {"solution": "Verify turbo.json has both root task and workspace task definitions", "percentage": 85}]'::jsonb, 'turbo.json, root package.json', 'Root tasks execute successfully', 'Missing root task definition in turbo.json', 0.84, 'haiku', NOW(), 'https://stackoverflow.com/questions/76557634', 'admin:1764228496'),
('$HELLO env var not recognized after updating turbo.json', 'monorepo', 'MEDIUM', '[{"solution": "Use env array without $ prefix: ''env'': [''HELLO'']", "percentage": 92}, {"solution": "Clear turbo cache: rm -rf .turbo", "percentage": 88}, {"solution": "Restart ESLint server in VSCode", "percentage": 80}]'::jsonb, 'turbo.json env configuration, cache', 'Env vars recognized without cache errors', 'Placing env vars in dependsOn instead of env field', 0.85, 'haiku', NOW(), 'https://stackoverflow.com/questions/73718867', 'admin:1764228496'),
('turbo prune command fails on Windows/M1/M2 with ''Could not find turbo.json''', 'monorepo', 'MEDIUM', '[{"solution": "Ensure turbo.json exists in monorepo root before running prune", "percentage": 85}, {"solution": "Use --docker flag with correct scope: turbo prune --scope=@org/pkg --docker", "percentage": 80}]'::jsonb, 'Docker, turbo.json, package manager setup', 'Prune command creates output directory', 'Missing turbo.json in root, incorrect Docker setup', 0.76, 'haiku', NOW(), 'https://stackoverflow.com/questions/73110681', 'admin:1764228496'),
('Vercel build fails with cache hit but internal packages not found', 'monorepo', 'HIGH', '[{"solution": "Disable Turborepo cache: set VERCEL_FORCE_NO_BUILD_CACHE=1", "percentage": 88}, {"solution": "Verify pnpm-lock.yaml is synced and workspace hoisting is correct", "percentage": 85}]'::jsonb, 'Vercel deployment, pnpm lockfile', 'Vercel build succeeds with proper cache', 'Stale cache, lockfile mismatch between local and CI', 0.82, 'haiku', NOW(), 'https://stackoverflow.com/questions/79105125', 'admin:1764228496'),
('Turborepo cache miss unexpected - need to see files used for hash', 'monorepo', 'MEDIUM', '[{"solution": "Use --summarize flag to see hash inputs: turbo run build --summarize", "percentage": 95}, {"solution": "Check turbo.json inputs and outputs configuration", "percentage": 80}]'::jsonb, 'Turborepo caching, hashing algorithm', 'Cache hits appear in turbo output', 'Not debugging hash inputs, misconfigured cache inputs', 0.81, 'haiku', NOW(), 'https://stackoverflow.com/questions/74056569', 'admin:1764228496'),
('SyntaxError: Cannot use import statement outside a module - workspace dependency', 'monorepo', 'HIGH', '[{"solution": "Configure tsup or build tool to output CommonJS or ESM consistently", "percentage": 88}, {"solution": "Add ''type'': ''module'' to package.json for full ESM support", "percentage": 85}]'::jsonb, 'TypeScript, Node.js, module configuration', 'Imports from workspace packages work', 'Mixing CommonJS and ESM in workspace packages', 0.83, 'haiku', NOW(), 'https://stackoverflow.com/questions/77405764', 'admin:1764228496'),
('Yarn not installing packages from workspace - tries pulling from npm registry', 'monorepo', 'MEDIUM', '[{"solution": "Use ''*'' wildcard instead of ''workspace:*'' for yarn 1: ''package'': ''*''", "percentage": 90}, {"solution": "Ensure workspace is defined in root package.json", "percentage": 85}]'::jsonb, 'Yarn 1, workspace protocol', 'Packages resolve from local workspace', 'Using pnpm workspace: syntax with yarn 1', 0.84, 'haiku', NOW(), 'https://stackoverflow.com/questions/73057794', 'admin:1764228496'),
('TypeScript SyntaxError: export not valid in CommonJS module in workspace package', 'monorepo', 'HIGH', '[{"solution": "Set proper module output: tsc --module esnext or commonjs consistently", "percentage": 88}, {"solution": "Use tsc-watch to transpile during dev: tsc --watch", "percentage": 85}]'::jsonb, 'TypeScript compiler, module output', 'Workspace packages transpile correctly', 'Not transpiling workspace packages, wrong module setting', 0.82, 'haiku', NOW(), 'https://stackoverflow.com/questions/76063213', 'admin:1764228496'),
('Conflicting React versions in Turborepo - Docusaurus vs Next.js peer dependencies', 'monorepo', 'HIGH', '[{"solution": "Install matching React versions: npm install react@18 react-dom@18 --save", "percentage": 85}, {"solution": "Use npm --legacy-peer-deps flag or pnpm which handles peer deps better", "percentage": 80}]'::jsonb, 'npm/yarn/pnpm, React versions, peer dependencies', 'No peer dependency warnings, consistent React version', 'Mixing incompatible frameworks with different React versions', 0.79, 'haiku', NOW(), 'https://stackoverflow.com/questions/76502326', 'admin:1764228496'),
('Unable to resolve ''expo'' from ''index.ts'' in pnpm Turborepo', 'monorepo', 'MEDIUM', '[{"solution": "Switch to yarn 1 workspaces - Expo only supports yarn 1", "percentage": 92}, {"solution": "Configure metro.config.js with correct workspace paths", "percentage": 75}]'::jsonb, 'Expo, pnpm, mobile development', 'Expo app runs without module resolution errors', 'Using pnpm instead of yarn 1 with Expo', 0.70, 'haiku', NOW(), 'https://stackoverflow.com/questions/75260768', 'admin:1764228496'),
('VSCode cannot find module from package with exports field in turbo.json', 'monorepo', 'MEDIUM', '[{"solution": "Set moduleResolution to ''nodenext'' in tsconfig.json", "percentage": 90}, {"solution": "Ensure package.json exports field matches tsconfig paths", "percentage": 85}]'::jsonb, 'TypeScript, tsconfig moduleResolution, package exports', 'VSCode resolves package exports correctly', 'Using ''node'' instead of ''nodenext'' moduleResolution', 0.81, 'haiku', NOW(), 'https://stackoverflow.com/questions/78342308', 'admin:1764228496'),
('Turborepo filter not including dependent packages in affected build', 'monorepo', 'MEDIUM', '[{"solution": "Use ... prefix to include dependents: turbo run build --filter=...[branch]", "percentage": 93}, {"solution": "Verify package.json dependencies reference workspace packages", "percentage": 85}]'::jsonb, 'turbo filter syntax, dependencies', 'All affected packages rebuild on change', 'Forgetting ... prefix for dependent filtering', 0.86, 'haiku', NOW(), 'https://stackoverflow.com/questions/73197742', 'admin:1764228496'),
('Pipeline dev task waits for dependency to finish instead of running in parallel', 'monorepo', 'MEDIUM', '[{"solution": "Use --parallel flag: turbo run dev --parallel", "percentage": 90}, {"solution": "Remove cache: false from dev task if not needed", "percentage": 70}]'::jsonb, 'turbo.json pipeline, dev configuration', 'Dev tasks run in parallel without blocking', 'Using dependsOn with watch tasks that never complete', 0.80, 'haiku', NOW(), 'https://stackoverflow.com/questions/74784097', 'admin:1764228496'),
('Docker build with turbo prune fails to find shared modules at compose time', 'monorepo', 'HIGH', '[{"solution": "Use turbo prune --scope=app --docker before COPY to reduce Docker context", "percentage": 88}, {"solution": "Verify pnpm or yarn install runs after COPY in Docker build", "percentage": 85}]'::jsonb, 'Docker, turbo prune, monorepo structure', 'Docker build completes and app runs', 'Not using prune for Docker, wrong COPY order in Dockerfile', 0.84, 'haiku', NOW(), 'https://stackoverflow.com/questions/76972688', 'admin:1764228496'),
('Cannot find module ''express'' after tsc compile in workspace package', 'monorepo', 'MEDIUM', '[{"solution": "Use tsup to build packages: tsup src/index.ts", "percentage": 88}, {"solution": "Configure dist/package.json with proper main and types exports", "percentage": 82}]'::jsonb, 'Build tools, TypeScript compilation', 'Compiled package runs without module errors', 'Not building workspace packages before deployment', 0.78, 'haiku', NOW(), 'https://stackoverflow.com/questions/78291789', 'admin:1764228496'),
('ERR_PNPM_WORKSPACE_PKG_NOT_FOUND in workspace package dependency', 'monorepo', 'MEDIUM', '[{"solution": "Ensure all workspace packages are referenced with proper scopes in package.json", "percentage": 87}, {"solution": "Run pnpm install at root to resolve all workspace dependencies", "percentage": 85}]'::jsonb, 'pnpm, workspace protocol', 'Workspace packages resolve without errors', 'Missing workspace package declaration, stale lockfile', 0.80, 'haiku', NOW(), 'https://stackoverflow.com/questions/77405764', 'admin:1764228496'),
('Drizzle ORM type errors with 21 errors in node_modules in monorepo', 'monorepo', 'LOW', '[{"solution": "Set skipLibCheck to true in tsconfig.json", "percentage": 75}, {"solution": "Update drizzle-orm to latest version compatible with your TypeScript", "percentage": 80}]'::jsonb, 'Drizzle ORM, TypeScript, monorepo integration', 'Build succeeds without drizzle type errors', 'Not skipping library check, version mismatch', 0.65, 'haiku', NOW(), 'https://stackoverflow.com/questions/78291789', 'admin:1764228496');
