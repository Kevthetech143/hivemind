INSERT INTO knowledge_entries (query, category, hit_frequency, solutions, prerequisites, success_indicators, common_pitfalls, success_rate, claude_version, last_verified, source_url, contributor_email) VALUES
('How to render astro component to HTML string for custom error pages', 'astro', 'MEDIUM', '[{"solution": "Use Astro.rewrite(''/404'') for internal rewrites without URL change", "percentage": 85}, {"solution": "Use middleware pipeline to handle 404 at bottom with express static files", "percentage": 80}, {"solution": "Use [...any].astro catch-all route to handle all unmatched requests", "percentage": 75}]'::jsonb, 'Astro SSR knowledge, Node.js adapter', 'Custom error pages render without URL redirect', 'Attempting to use render() API that doesn''t exist, using redirect instead of rewrite', 0.80, 'haiku', NOW(), 'https://stackoverflow.com/questions/74524452/astro-js-server-side-rendering-custom-error-page', 'admin:1764197621'),
('API route receives empty request body, form submit returns 400 error Astro Svelte', 'astro', 'HIGH', '[{"solution": "Add export const prerender = false; to API routes when using hybrid rendering", "percentage": 95}, {"solution": "Check astro.config.mjs output setting is ''hybrid'' not ''static''", "percentage": 90}, {"solution": "Ensure API route file has .json or .ts extension in src/pages/api/", "percentage": 88}]'::jsonb, 'Astro hybrid or server rendering, Svelte client component', 'API receives JSON data correctly, form submits successfully', 'Prerendering static API routes, misconfigured output mode, wrong file extension', 0.92, 'haiku', NOW(), 'https://stackoverflow.com/questions/78288071/error-on-form-submit-to-api-route-astro-and-svelte', 'admin:1764197621'),
('failed to resolve extends astro/tsconfigs/strict in tsconfig.json during build', 'astro', 'MEDIUM', '[{"solution": "Replace ''extends'': ''astro/tsconfigs/strict'' with contents from astro GitHub tsconfig file", "percentage": 88}, {"solution": "Reinstall Astro dependencies with npm install or yarn install", "percentage": 80}, {"solution": "Check astro npm package is properly installed in node_modules", "percentage": 75}]'::jsonb, 'Astro with TypeScript, npm or yarn', 'Build completes without tsconfig resolution errors', 'Incorrect tsconfig extends path, missing astro package, corrupted node_modules', 0.85, 'haiku', NOW(), 'https://stackoverflow.com/questions/73978567/astro-build-error-markdown-with-typescript', 'admin:1764197621'),
('Could not find commit hash for latest degit error when initiating astro without framework', 'astro', 'MEDIUM', '[{"solution": "Run git config --global url.https://github.com/.insteadOf git@github.com: to use HTTPS instead of SSH", "percentage": 85}, {"solution": "Update %PATH% or $PATH to ensure git executable is found", "percentage": 80}, {"solution": "Switch from SSH keys to HTTPS authentication in git config", "percentage": 82}]'::jsonb, 'Astro CLI, git installed, npm/yarn', 'Astro project initializes without degit errors', 'SSH key authentication blocked by npm, missing git in PATH, npm version incompatibility', 0.81, 'haiku', NOW(), 'https://stackoverflow.com/questions/70547766/error-in-initiating-astro-after-choosing-a-framework', 'admin:1764197621'),
('Error when evaluating SSR module failed to import @sanity/astro is not a function', 'astro', 'HIGH', '[{"solution": "Use named import: import { sanityIntegration } from ''@sanity/astro'' instead of default import", "percentage": 92}, {"solution": "Downgrade to @sanity/astro@0.6.0 or check GitHub issue #92 for version compatibility", "percentage": 88}, {"solution": "Update astro.config.mjs integration name from sanity() to sanityIntegration()", "percentage": 90}]'::jsonb, 'Astro 3.5+, @sanity/astro integration, Node.js', 'Sanity integration loads, dev server starts without SSR errors', 'Using default import instead of named import, @sanity/astro version mismatch, outdated astro version', 0.89, 'haiku', NOW(), 'https://stackoverflow.com/questions/77530353/astro-sanity-integration-error-when-evaluating-ssr-module', 'admin:1764197621'),
('Cannot find module astro/config error after project update npm run dev fails localhost', 'astro', 'MEDIUM', '[{"solution": "Delete node_modules and package-lock.json, then run npm install to reinstall dependencies", "percentage": 87}, {"solution": "Check astro.config.mjs for references to deprecated or removed integrations", "percentage": 85}, {"solution": "Update Astro to latest version with npm update astro", "percentage": 80}]'::jsonb, 'Astro project with npm, node_modules directory', 'Dev server starts, localhost loads without SSR module errors', 'Corrupted node_modules cache, astro-compress or other integration removed, stale lockfile', 0.84, 'haiku', NOW(), 'https://stackoverflow.com/questions/77505288/astro-project-has-updated-and-cannot-run-local-host-with-unknown-terminal-error', 'admin:1764197621'),
('Module level directives use client cause errors when bundled Astro React sourcemap', 'astro', 'MEDIUM', '[{"solution": "Remove all ''use client'' directives from React components in Astro projects", "percentage": 91}, {"solution": "Use client-only component wrapper in Astro for client-side React if needed", "percentage": 86}, {"solution": "Check all .tsx files in src/components/ and remove directive comments", "percentage": 88}]'::jsonb, 'Astro with React integration, TypeScript React files', 'Build completes without sourcemap or use client errors', 'Bringing Next.js patterns into Astro, forgetting Astro handles bundling differently', 0.87, 'haiku', NOW(), 'https://stackoverflow.com/questions/78477355/astro-react-application-build-error-10-error-when-using-sourcemap-for-repor', 'admin:1764197621');
