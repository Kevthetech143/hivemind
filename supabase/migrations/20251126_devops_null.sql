-- DevOps Null errors mining
INSERT INTO knowledge_entries (query, category, hit_frequency, solutions, prerequisites, success_indicators, common_pitfalls, success_rate, claude_version, last_verified, source_url, contributor_email) VALUES
('CircleCI unknown variables error - parameters not resolved', 'devops', 'HIGH', '[{"solution": "Use << parameters.variable_name >> instead of << pipeline.parameters.variable_name >> when accessing job parameters. Parameters in jobs use the parameters syntax, not pipeline.parameters", "percentage": 95}, {"solution": "Ensure parameters are defined in the job section, not at workflow level, if using job-level parameters", "percentage": 85}]'::jsonb, 'CircleCI 2.1 config file with job parameters defined', 'Run CircleCI build through web UI and verify variables are resolved without Unknown variable(s) errors', 'Using pipeline.parameters prefix for job-level parameters instead of just parameters prefix. Confusing job parameters with pipeline parameters', 0.92, 'haiku', NOW(), 'https://stackoverflow.com/questions/76324135/circleci-2-1-unknown-variables-error-for-variables-declared-in-parameters', 'admin:1764192092'),
('Vercel getServerSession returning null on deploy', 'devops', 'HIGH', '[{"solution": "Ensure NEXTAUTH_SECRET environment variable is properly set in Vercel project settings. This must match the secret used locally", "percentage": 94}, {"solution": "Verify authOptions configuration includes correct provider credentials and callback URLs for Vercel deployment domain", "percentage": 88}, {"solution": "Check that route handler is in app/api/auth/[...nextauth]/route.ts with correct NextAuth setup", "percentage": 85}]'::jsonb, 'Next.js app router with NextAuth setup, getServerSession import from next-auth', 'getServerSession call returns valid session object in Vercel deployment route handler logs, authentication succeeds', 'Forgetting to set NEXTAUTH_SECRET in Vercel environment variables. Using getServerSession instead of getSession in route handlers without proper setup. Incorrect callback URL configuration for Vercel domain', 0.90, 'haiku', NOW(), 'https://stackoverflow.com/questions/77405132/getserversession-returning-null-on-vercel-deploy', 'admin:1764192092'),
('CircleCI environment variable not picked up in run step', 'devops', 'HIGH', '[{"solution": "Set environment variables in docker section, not in run step. Use docker: environment: VAR_NAME: value syntax", "percentage": 96}, {"solution": "Ensure environment variables are defined at the correct level - docker container environment, not step environment", "percentage": 92}, {"solution": "For GAE deployments, use multiple app.yaml files and reference them in deploy commands instead of relying on CircleCI env vars", "percentage": 80}]'::jsonb, 'CircleCI config.yml file, Docker image in pipeline, environment variable required by application', 'Application starts without ImproperlyConfigured or KeyError exceptions, environment variable is accessible to code running in container', 'Defining environment variables in run step environment section instead of docker section. Not understanding that CircleCI run step environment vars don''t propagate to container startup. Using pipeline.parameters for application-level env vars', 0.93, 'haiku', NOW(), 'https://stackoverflow.com/questions/50614189/circleci-not-picking-up-environment-variable-defined-in-run-step', 'admin:1764192092');
