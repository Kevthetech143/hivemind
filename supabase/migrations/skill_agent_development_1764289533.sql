INSERT INTO knowledge_entries (query, category, type, solutions, executable_type, prerequisites, common_pitfalls, success_indicators, preview_summary, source_url, contributor_email)
VALUES (
  'Agent Development - Create autonomous subprocesses for complex tasks in Claude Code plugins',
  'claude-code',
  'skill',
  '[{"solution": "Understand agent purpose and file structure", "manual": "1. Agents are FOR autonomous work (vs commands FOR user-initiated actions)\n2. Save as .md files in plugin-name/agents/ directory\n3. Structure: YAML frontmatter + system prompt markdown\n4. Frontmatter fields: name, description, model, color, tools (all optional except name/description/model/color)\n5. Description is critical: must define triggering conditions and include 2-4 <example> blocks\n6. System prompt: Second-person instructions for agent behavior\n7. Auto-discovered from agents/ directory", "note": "Agents are autonomous. Design triggering conditions carefully. Description is THE most critical field - it determines when Claude uses the agent."}, {"solution": "Configure agent frontmatter properly", "manual": "1. name (required): lowercase, hyphens, 3-50 chars, must start/end with alphanumeric (code-reviewer, test-gen, api-analyzer)\n2. description (required): Triggering conditions + 2-4 <example> blocks with Context, user request, assistant response, <commentary>\n3. model (required): inherit (default), sonnet, opus, or haiku\n4. color (required): blue/cyan/green/yellow/magenta/red (choose distinct for UI)\n5. tools (optional): Restrict to [''Read'', ''Write'', ''Grep''] or leave omitted for all tools\n6. All fields except description can be minimal\n7. Start with just required fields, add tools only if restricting access", "note": "Description with examples is critical. Vague descriptions lead to poor triggering. Include specific scenarios agent should handle."}, {"solution": "Write effective system prompts", "manual": "1. Write in second person: ''You are [role]...'', ''You will...'' (NOT first person)\n2. Structure: Role → Responsibilities → Process steps → Quality standards → Output format → Edge cases\n3. Be specific about responsibilities: list 3-5 core tasks\n4. Define step-by-step process: what agent does in order\n5. Include quality standards: how to evaluate good output\n6. Define output format: exactly what to return and how\n7. Address edge cases: missing data, errors, unusual scenarios\n8. Keep under 10,000 characters\n9. Use markdown formatting for readability", "note": "Clear, structured system prompts lead to better agent behavior. Vague prompts lead to inconsistent results. Include examples in output format."}, {"solution": "Design triggering examples in description", "manual": "1. Include 2-4 <example> blocks in description field\n2. Each example: Context (situation), user (what user says), assistant (how Claude responds), <commentary> (why agent triggers)\n3. Show proactive triggering: Agent activates based on situation\n4. Show reactive triggering: Agent activates on explicit request\n5. Cover different phrasings of same intent\n6. Explain reasoning in commentary section\n7. Make examples concrete: specific scenarios, not generic\n8. Test that similar prompts trigger the agent", "note": "Good examples = reliable triggering. Poor examples = Claude misses when to use agent. Include 2-4 examples minimum."}]'::jsonb,
  'steps',
  'Understanding of autonomous agents, markdown, YAML frontmatter, Claude Code plugin development',
  'Using first-person language in system prompt instead of second-person, vague triggering descriptions without examples, omitting responsibilities/process/output format in system prompt, all agents using same color, ignoring tool restrictions (exposing unnecessary capabilities), system prompts over 10,000 characters, not testing triggering conditions with realistic scenarios',
  'Agent appears in correct namespace, agent triggers on intended scenarios, agent follows defined process steps, output matches specified format, agent completes autonomous tasks without user intervention, triggering examples cover diverse scenarios, system prompt is clear and actionable, color chosen distinctly from other agents',
  'Create autonomous agents in plugins: Define triggering conditions with examples in description. Write second-person system prompts with responsibilities, process, output format. Use required frontmatter: name (3-50 chars), description (with examples), model (inherit), color (distinct). Restrict tools only when needed.',
  'https://skillsmp.com/skills/anthropics-claude-code-plugins-plugin-dev-skills-agent-development-skill-md',
  'admin:HAIKU_SKILL_1764289533_81176'
);
