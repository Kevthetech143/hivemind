-- Cypress Error Solutions - Mining batch 20251127
-- 35+ common Cypress testing errors with solutions and best practices

INSERT INTO knowledge_entries (query, category, hit_frequency, solutions, prerequisites, success_indicators, common_pitfalls, success_rate, claude_version, last_verified, source_url, contributor_email) VALUES

-- Element not found errors
('CypressError: Timed out retrying: Expected to find element, but never found it', 'testing', 'CRITICAL', '[{"solution": "Check that the selector is correct using the Selector Playground", "percentage": 85}, {"solution": "Wait for page load: cy.get(''body'').should(''be.visible'')", "percentage": 88}, {"solution": "Increase timeout: cy.get(selector, {timeout: 10000})", "percentage": 80}]'::jsonb, 'Cypress 9+', 'Element found within timeout', 'Using hardcoded waits instead of conditional waits', 0.86, 'haiku', NOW(), 'https://stackoverflow.com/questions/65426562', 'admin:1764223790'),

-- cy.visit() failures
('CypressError: cy.visit() failed trying to load: ECONNREFUSED or timeout', 'testing', 'CRITICAL', '[{"solution": "Verify server is running and URL is correct", "percentage": 90}, {"solution": "Increase pageLoadTimeout: {pageLoadTimeout: 120000}", "percentage": 87}, {"solution": "Add trailing slash to URL or check redirects", "percentage": 82}]'::jsonb, 'Running server', 'Page loads successfully', 'Not checking server logs for errors', 0.88, 'haiku', NOW(), 'https://stackoverflow.com/questions/69730790', 'admin:1764223790'),

('CypressError: cy.visit() failed because you are attempting to visit a URL of a different origin', 'testing', 'HIGH', '[{"solution": "Set chromeWebSecurity: false in cypress.json", "percentage": 70}, {"solution": "Separate tests by domain: one test per origin", "percentage": 92}, {"solution": "Use cy.request() for APIs instead of cy.visit()", "percentage": 88}]'::jsonb, 'Multiple domain test', 'Single origin per test passes', 'Attempting cross-origin in single test', 0.83, 'haiku', NOW(), 'https://stackoverflow.com/questions/63147291', 'admin:1764223790'),

-- Detached from DOM
('CypressError: cy.click() failed because this element is detached from the DOM', 'testing', 'CRITICAL', '[{"solution": "Use cy.wait() for async renders: cy.wait(2000).then(() => cy.click())", "percentage": 78}, {"solution": "Re-query element before interact: cy.get(selector).click({force: true})", "percentage": 85}, {"solution": "Use cy.trigger(''click'') instead of cy.click()", "percentage": 80}]'::jsonb, 'Dynamic DOM app', 'Click executes without detached error', 'Storing element reference and using later', 0.81, 'haiku', NOW(), 'https://stackoverflow.com/questions/58833459', 'admin:1764223790'),

('This DOM element likely became detached somewhere between the previous and current commands', 'testing', 'HIGH', '[{"solution": "Avoid storing element references: $el = cy.get(selector)", "percentage": 88}, {"solution": "Update framework rerenders: check if using React/Vue/Angular with async updates", "percentage": 85}, {"solution": "Add visibility check before action: cy.get(selector).should(''be.visible'').click()", "percentage": 82}]'::jsonb, 'Dynamic DOM library', 'No detached errors in test run', 'Using .within() with changing DOM', 0.84, 'haiku', NOW(), 'https://stackoverflow.com/questions/67391770', 'admin:1764223790'),

-- Uncaught exception errors
('Cypress.on(''uncaught:exception'') not catching errors from application code', 'testing', 'HIGH', '[{"solution": "Use Cypress.on(''uncaught:exception'', (err, runnable) => { return false })", "percentage": 92}, {"solution": "Only ignore specific errors: if (err.message.includes(''specific'')) return false", "percentage": 88}, {"solution": "Register in support/e2e.js for all tests", "percentage": 90}]'::jsonb, 'App throwing JS errors', 'Test passes with error suppression', 'Hiding real app errors with blanket suppression', 0.89, 'haiku', NOW(), 'https://stackoverflow.com/questions/53845493', 'admin:1764223790'),

('CypressError: Uncaught Error: Script error in application code', 'testing', 'HIGH', '[{"solution": "Identify error source: check app console logs with cy.log()", "percentage": 87}, {"solution": "Fix app code: debug in normal browser first", "percentage": 91}, {"solution": "Suppress only during testing: use environment variable", "percentage": 85}]'::jsonb, 'Application with JS errors', 'Error identified and fixed', 'Suppressing errors instead of fixing root cause', 0.87, 'haiku', NOW(), 'https://stackoverflow.com/questions/74911362', 'admin:1764223790'),

-- Timeout errors
('Cypress Timed out retrying after 4000ms: Expected to find element, but never found it', 'testing', 'CRITICAL', '[{"solution": "Increase command timeout for slow elements: {timeout: 10000}", "percentage": 83}, {"solution": "Wait for page state: cy.get(''.loading'').should(''not.exist'')", "percentage": 89}, {"solution": "Use cy.intercept() to mock slow APIs", "percentage": 87}]'::jsonb, 'Slow DOM renders', 'Element found within configured timeout', 'Using global timeout increase instead of targeted', 0.85, 'haiku', NOW(), 'https://stackoverflow.com/questions/68776936', 'admin:1764223790'),

('responseTimeout exceeded while waiting for response', 'testing', 'HIGH', '[{"solution": "Increase responseTimeout in cypress.config: {responseTimeout: 120000}", "percentage": 88}, {"solution": "Check API performance: test endpoint directly", "percentage": 85}, {"solution": "Mock slow endpoints: cy.intercept() with fixture", "percentage": 86}]'::jsonb, 'Slow API responses', 'All API responses received in time', 'Not distinguishing between page and response timeouts', 0.86, 'haiku', NOW(), 'https://stackoverflow.com/questions/68975352', 'admin:1764223790'),

-- cy.click() failures
('CypressError: cy.click() failed because the page updated while this command was executing', 'testing', 'HIGH', '[{"solution": "Wait for stability: cy.get(selector).should(''be.visible'').click()", "percentage": 86}, {"solution": "Add cy.wait() before click: cy.wait(1000).click()", "percentage": 75}, {"solution": "Use force:true only as last resort: click({force: true})", "percentage": 72}]'::jsonb, 'Fast page updates', 'Click executes on stable element', 'Using force:true instead of fixing timing', 0.81, 'haiku', NOW(), 'https://stackoverflow.com/questions/75851069', 'admin:1764223790'),

('CypressError: cy.click() failed because this element is being covered by another element', 'testing', 'HIGH', '[{"solution": "Use click with force: cy.click({force: true})", "percentage": 88}, {"solution": "Scroll element into view: cy.scrollIntoView().click()", "percentage": 89}, {"solution": "Remove covering element: cy.get(''.overlay'').should(''not.exist'')", "percentage": 85}]'::jsonb, 'Covered DOM elements', 'Click succeeds on covered element', 'Not checking what''s covering the element', 0.87, 'haiku', NOW(), 'https://stackoverflow.com/questions/70310037', 'admin:1764223790'),

('cy.click() failed because it requires a DOM element, but the subject was not an element', 'testing', 'MEDIUM', '[{"solution": "Check return type of previous command: cy.get(selector) not cy.request()", "percentage": 90}, {"solution": "Debug with cy.debug() before click", "percentage": 88}, {"solution": "Ensure selector returns element: cy.get(selector).should(''exist'')", "percentage": 89}]'::jsonb, 'Proper element selection', 'Element is clicked without type errors', 'Mixing command types (request vs get)', 0.88, 'haiku', NOW(), 'https://stackoverflow.com/questions/71793118', 'admin:1764223790'),

('Cypress does not always execute click on element - 30% failure rate', 'testing', 'HIGH', '[{"solution": "Use cy.trigger(''click'') instead of cy.click()", "percentage": 91}, {"solution": "Use click with {force: true}", "percentage": 76}, {"solution": "Retry with .pipe() method from cypress-pipe library", "percentage": 85}]'::jsonb, 'Flaky click handling', 'Click succeeds consistently', 'Using cy.wait() as blanket solution', 0.84, 'haiku', NOW(), 'https://stackoverflow.com/questions/51254946', 'admin:1764223790'),

-- Network/Intercept errors
('CypressError: forceNetworkError not working with cy.intercept()', 'testing', 'MEDIUM', '[{"solution": "Use correct syntax: cy.intercept({forceNetworkError: true})", "percentage": 92}, {"solution": "Destroy request selectively: req.destroy()", "percentage": 88}, {"solution": "Set statusCode instead: {statusCode: 500}", "percentage": 87}]'::jsonb, 'Intercept configuration', 'Network errors trigger correctly', 'Using wrong intercept configuration format', 0.89, 'haiku', NOW(), 'https://stackoverflow.com/questions/72988464', 'admin:1764223790'),

('A callback was provided to intercept the upstream response but a network error occurred', 'testing', 'MEDIUM', '[{"solution": "Add error handling in intercept callback", "percentage": 85}, {"solution": "Use req.destroy() instead of throwing", "percentage": 88}, {"solution": "Check network conditions in test setup", "percentage": 82}]'::jsonb, 'Intercept error handling', 'Network errors handled without callback issues', 'Not catching errors in intercept callbacks', 0.84, 'haiku', NOW(), 'https://stackoverflow.com/questions/74187593', 'admin:1764223790'),

-- Assertion errors
('CypressError: AssertionError: Timed out retrying after 15000ms - expected text but found different text', 'testing', 'HIGH', '[{"solution": "Copy exact text from element, not from assumption", "percentage": 92}, {"solution": "Use regex for partial matches: .should(''include.text'', ''substring'')", "percentage": 89}, {"solution": "Account for whitespace: use .trim() or normalize", "percentage": 87}]'::jsonb, 'Text comparison', 'Assertion finds matching text', 'Using case-sensitive or whitespace-sensitive comparisons', 0.88, 'haiku', NOW(), 'https://stackoverflow.com/questions/68071786', 'admin:1764223790'),

('AssertionError in cypress custom command - object tested must be an array', 'testing', 'MEDIUM', '[{"solution": "Ensure custom command returns Cypress chainable object", "percentage": 90}, {"solution": "Use cy.wrap() to return element properly", "percentage": 88}, {"solution": "Validate return type with typeof checks", "percentage": 85}]'::jsonb, 'Custom command', 'Custom command assertion passes', 'Not returning proper Cypress chainable', 0.86, 'haiku', NOW(), 'https://stackoverflow.com/questions/73010708', 'admin:1764223790'),

('AssertionError: expected ''value'' to equal ''value'' - type mismatch (number vs string)', 'testing', 'MEDIUM', '[{"solution": "Cast to same type: Number(value) === expectedNumber", "percentage": 91}, {"solution": "Use string comparison for both: String(value)", "percentage": 88}, {"solution": "Debug type: cy.log(typeof value)", "percentage": 85}]'::jsonb, 'Type consistency', 'Assertion passes with matching types', 'Not normalizing types before comparison', 0.87, 'haiku', NOW(), 'https://stackoverflow.com/questions/77605575', 'admin:1764223790'),

-- Conditional/Flaky tests
('CypressError: Cannot use .then() after .should() with conditional logic', 'testing', 'HIGH', '[{"solution": "Use cy.get(body).then() to check DOM state", "percentage": 89}, {"solution": "Check element existence: cy.get(selector).should(''exist'' or ''not.exist'')", "percentage": 91}, {"solution": "Use .within() scope for conditional checks", "percentage": 86}]'::jsonb, 'Proper command chaining', 'Conditional logic works without errors', 'Trying to add conditional after assertion', 0.87, 'haiku', NOW(), 'https://stackoverflow.com/questions/74563422', 'admin:1764223790'),

('Cypress test fails intermittently - cy.get() timed out 3 out of 5 runs', 'testing', 'HIGH', '[{"solution": "Add explicit waits for dynamic content: cy.intercept().as(''name'')", "percentage": 86}, {"solution": "Check for loading indicators: cy.get(''.loading'').should(''not.be.visible'')", "percentage": 89}, {"solution": "Use cy.get({timeout: 10000}) for slow elements", "percentage": 85}]'::jsonb, 'Stable DOM', 'Test passes consistently in all runs', 'Relying on implicit waits for variable timing', 0.83, 'haiku', NOW(), 'https://stackoverflow.com/questions/64234746', 'admin:1764223790'),

-- Iteration/Loop errors
('Cypress - This DOM element likely became detached in iteration/loop', 'testing', 'HIGH', '[{"solution": "Use for loop with .eq(i) instead of .each()", "percentage": 91}, {"solution": "Get count first: cy.get(selector).then($el => {const count = $el.length})", "percentage": 89}, {"solution": "Re-query element in each iteration", "percentage": 87}]'::jsonb, 'DOM iteration', 'All iterations complete without detached errors', 'Using .each() with navigation changes', 0.88, 'haiku', NOW(), 'https://stackoverflow.com/questions/61123611', 'admin:1764223790'),

('Element detached in iteration after cy.visit() in loop - .each() fails', 'testing', 'MEDIUM', '[{"solution": "Get element count before loop: cy.get().then($el => {const count = $el.length; for (let i=0; i<count; i++)})", "percentage": 92}, {"solution": "Use cy.go(''back'') to return after navigation", "percentage": 88}, {"solution": "Reload elements after each navigation", "percentage": 86}]'::jsonb, 'Navigation within loop', 'Loop completes all iterations', 'Storing element references across page changes', 0.87, 'haiku', NOW(), 'https://stackoverflow.com/questions/56869183', 'admin:1764223790'),

-- Element not existing
('Cypress - how to test if element does not exist without timeout', 'testing', 'MEDIUM', '[{"solution": "Use .should(''not.exist'') - it doesn''t wait the full timeout", "percentage": 89}, {"solution": "Check .get(body).then($body => $body.find(selector).length === 0)", "percentage": 87}, {"solution": "Use cy.contains() with .should(''not.exist'')", "percentage": 85}]'::jsonb, 'Negative assertions', 'Non-existent element verified quickly', 'Using timeout-based checks for non-existence', 0.86, 'haiku', NOW(), 'https://stackoverflow.com/questions/48915773', 'admin:1764223790'),

('CypressError: get() failed with expected to find element or nothing', 'testing', 'MEDIUM', '[{"solution": "Check element visibility: .should(''be.visible'' or ''not.be.visible'')", "percentage": 88}, {"solution": "Use .get().then($el => { if ($el.length === 0) {...} })", "percentage": 89}, {"solution": "Use cy.get(body).then() for safe querying", "percentage": 86}]'::jsonb, 'Element verification', 'Get returns expected elements', 'Not handling optional elements gracefully', 0.85, 'haiku', NOW(), 'https://stackoverflow.com/questions/72751633', 'admin:1764223790'),

-- Selector/Locator errors
('CypressError: Timed out retrying - invalid selector or CSS syntax', 'testing', 'MEDIUM', '[{"solution": "Validate selector in browser DevTools console", "percentage": 92}, {"solution": "Use test IDs instead of CSS paths: data-cy=''identifier''", "percentage": 90}, {"solution": "Use role selectors: get(''[role=button]'')", "percentage": 87}]'::jsonb, 'Valid selectors', 'Selector returns expected elements', 'Using brittle CSS selectors with tag paths', 0.88, 'haiku', NOW(), 'https://stackoverflow.com/questions/57661864', 'admin:1764223790'),

('Cannot find element with XPath selector in Cypress', 'testing', 'MEDIUM', '[{"solution": "Use CSS selectors instead of XPath: [data-cy=value]", "percentage": 91}, {"solution": "If XPath needed: cy.xpath() with plugin", "percentage": 78}, {"solution": "Use get-by-text or get-by-role instead", "percentage": 88}]'::jsonb, 'Selector support', 'Elements found with CSS selectors', 'Assuming XPath works like Selenium', 0.87, 'haiku', NOW(), 'https://stackoverflow.com/questions/62493350', 'admin:1764223790'),

-- Error handling in .catch()
('Cypress - error handling using .catch() block not working', 'testing', 'HIGH', '[{"solution": "Use .then() instead of .catch() for Cypress commands", "percentage": 88}, {"solution": "Use cy.request({failOnStatusCode: false})", "percentage": 87}, {"solution": "Wrap error logic in a .then() callback", "percentage": 85}]'::jsonb, 'Error handling patterns', 'Errors handled without breaking test', 'Treating Cypress commands like Promises', 0.84, 'haiku', NOW(), 'https://stackoverflow.com/questions/56743695', 'admin:1764223790'),

-- Response/Request errors
('Cypress route/intercept not detecting network request', 'testing', 'MEDIUM', '[{"solution": "Define intercept BEFORE cy.visit()", "percentage": 92}, {"solution": "Use cy.visit() then cy.wait() for established routes", "percentage": 89}, {"solution": "Check network tab to verify URL pattern matches", "percentage": 88}]'::jsonb, 'Network interception', 'Intercept catches expected requests', 'Defining intercept after navigation', 0.89, 'haiku', NOW(), 'https://stackoverflow.com/questions/54005760', 'admin:1764223790'),

('Cypress GraphQL app network errors - CORS or GraphQL endpoint issues', 'testing', 'MEDIUM', '[{"solution": "Mock GraphQL responses with cy.intercept()", "percentage": 87}, {"solution": "Set proper CORS headers in test environment", "percentage": 85}, {"solution": "Use cy.request() with proper headers for API testing", "percentage": 86}]'::jsonb, 'GraphQL testing', 'GraphQL queries respond without errors', 'Not mocking GraphQL endpoints properly', 0.84, 'haiku', NOW(), 'https://stackoverflow.com/questions/60688706', 'admin:1764223790'),

-- Custom error messages
('How to show custom error message when element does not exist in Cypress', 'testing', 'MEDIUM', '[{"solution": "Use expect with callback: cy.get().should($el => {expect($el, ''Cannot be found'').to.not.exist})", "percentage": 89}, {"solution": "Throw error in .then(): if ($el == null) {throw new Error(''custom message'')}", "percentage": 86}, {"solution": "Use Cypress.log() for custom logging", "percentage": 84}]'::jsonb, 'Custom messages', 'Error messages display correctly', 'Using cy.log() without test failure', 0.85, 'haiku', NOW(), 'https://stackoverflow.com/questions/72436602', 'admin:1764223790'),

('How to let Cypress return custom errors or messages from commands', 'testing', 'MEDIUM', '[{"solution": "Throw error in .then() callback: throw new Error(''message'')", "percentage": 87}, {"solution": "Use Cypress custom command with cy.log()", "percentage": 85}, {"solution": "Return promise that rejects: Promise.reject(new Error())", "percentage": 82}]'::jsonb, 'Custom commands', 'Custom errors propagate to test results', 'Not distinguishing between logging and failing', 0.83, 'haiku', NOW(), 'https://stackoverflow.com/questions/54748914', 'admin:1764223790'),

-- Page load errors
('Cypress - following error was thrown by a plugin during test execution', 'testing', 'HIGH', '[{"solution": "Check cypress plugin file for syntax errors", "percentage": 88}, {"solution": "Review plugins/index.js for proper export", "percentage": 89}, {"solution": "Restart Cypress after plugin changes", "percentage": 85}]'::jsonb, 'Plugin errors', 'Plugin loads and tests run without errors', 'Not restarting Cypress after config changes', 0.86, 'haiku', NOW(), 'https://stackoverflow.com/questions/70102155', 'admin:1764223790'),

-- Dropdown/Select errors
('Cypress - cannot select dropdown option - element detached after get', 'testing', 'MEDIUM', '[{"solution": "Wait for dropdown to open: cy.get(''.dropdown'').should(''be.visible'')", "percentage": 86}, {"solution": "Use {force: true} when selecting: .select({force: true})", "percentage": 82}, {"solution": "Trigger click then select: cy.get().click().get(option).click()", "percentage": 85}]'::jsonb, 'Dropdown handling', 'Option selects without detached error', 'Selecting before dropdown fully opens', 0.83, 'haiku', NOW(), 'https://stackoverflow.com/questions/62493350', 'admin:1764223790'),

-- Conditional continues
('Cypress conditional test - skip .should() if element not visible', 'testing', 'MEDIUM', '[{"solution": "Use .then() with if check on $el.length", "percentage": 88}, {"solution": "Use cy.get(body).then($body => {if ($body.find(selector).length) {...}})", "percentage": 89}, {"solution": "Chain multiple .should() without else logic", "percentage": 84}]'::jsonb, 'Conditional checks', 'Test executes conditional checks properly', 'Trying to use if/else with cy commands', 0.85, 'haiku', NOW(), 'https://stackoverflow.com/questions/63579951', 'admin:1764223790');
