-- SQLite Errors Mining (30 entries)
-- Generated: 2025-11-27
-- Miner: haiku-1764221368

INSERT INTO knowledge_entries (query, category, hit_frequency, solutions, prerequisites, success_indicators, common_pitfalls, success_rate, claude_version, last_verified, source_url, contributor_email) VALUES
('sqlite3.Error: get extended error code from Python sqlite3 module', 'sqlite', 'HIGH', '[{"solution": "Use sqlite3.SQLITE_CONSTRAINT_CHECK attribute (Python 3.11+) or sqlite3.Error.sqlite_errorcode for extended codes", "percentage": 92}, {"solution": "For older Python versions, catch specific exception types like IntegrityError and parse error message", "percentage": 80}]'::jsonb, 'Python 3.7+', 'Extended error code retrieved successfully', 'Assuming all Python versions support sqlite_errorcode attribute', 0.88, 'haiku', NOW(), 'https://stackoverflow.com/questions/25371636/how-to-get-sqlite-result-error-codes-in-python', 'admin:1764221368'),

('SQLiteException: table has no column named - Android SQLite', 'sqlite', 'HIGH', '[{"solution": "Increment DATABASE_VERSION to trigger onUpgrade() which recreates tables with new columns", "percentage": 95}, {"solution": "Verify column names match exactly in schema definition and INSERT statement", "percentage": 90}]'::jsonb, 'Android SDK, SQLite OpenHelper', 'Column recognized in table after upgrade', 'Not incrementing database version after schema changes', 0.92, 'haiku', NOW(), 'https://stackoverflow.com/questions/12010235/sqlite-error-code-1', 'admin:1764221368'),

('SQLITE_BUSY: How to handle database locked errors during long transactions', 'sqlite', 'HIGH', '[{"solution": "Implement busy-handler callback with sqlite3_busy_handler() C API or retry loop with exponential backoff", "percentage": 88}, {"solution": "Use WAL (Write-Ahead Logging) mode: PRAGMA journal_mode=WAL", "percentage": 85}]'::jsonb, 'C/C++, SQLite C API', 'Commit succeeds without SQLITE_BUSY errors', 'Not installing busy-handler, directly retrying without delays', 0.85, 'haiku', NOW(), 'https://stackoverflow.com/questions/2842752/how-should-i-deal-with-sqlite-errors', 'admin:1764221368'),

('database is locked - SQLite unlock and recovery', 'sqlite', 'MEDIUM', '[{"solution": "Use fuser command (Linux/macOS) to identify locking process: fuser database.db | xargs kill", "percentage": 90}, {"solution": "Dump and restore database: echo .dump | sqlite old.db | sqlite new.db", "percentage": 78}]'::jsonb, 'Unix/Linux system access', 'Database accessible and unlocked', 'Killing wrong process, not backing up before recovery', 0.82, 'haiku', NOW(), 'https://stackoverflow.com/questions/151026/how-do-i-unlock-an-sqlite-database', 'admin:1764221368'),

('SQLITE_BUSY exception: database locked - Objective-C iOS', 'sqlite', 'HIGH', '[{"solution": "Use FMDB (flycode) wrapper which handles locks automatically", "percentage": 94}, {"solution": "Implement retry loop with usleep(20) delay and busyRetryTimeout counter", "percentage": 88}]'::jsonb, 'Objective-C, iOS SDK', 'Statement prepared without SQLITE_BUSY error', 'Direct raw C API usage without retry logic', 0.89, 'haiku', NOW(), 'https://stackoverflow.com/questions/964207/sqlite-exception-sqlite-busy', 'admin:1764221368'),

('SQLITE_CANTOPEN: unable to open database file - Electron Node.js', 'sqlite', 'HIGH', '[{"solution": "Add asarUnpack in electron-builder.json and replace app.asar with app.asar.unpacked in path", "percentage": 96}, {"solution": "Use path.resolve(__dirname, ...) to construct absolute paths correctly", "percentage": 92}]'::jsonb, 'Electron, node-sqlite3', 'Database file opens successfully without CANTOPEN error', 'Incorrect path construction, app.asar not unpacked', 0.94, 'haiku', NOW(), 'https://stackoverflow.com/questions/60422885/sqlite-electron-error-sqlite-cantopen-unable-to-open-database-file', 'admin:1764221368'),

('SQLITE_CANTOPEN: immutable mode URI syntax error', 'sqlite', 'MEDIUM', '[{"solution": "Use file: prefix for URI mode: sqlite3_open_v2(\"file:database.db?mode=ro&immutable=1\", ...)", "percentage": 95}, {"solution": "Add SQLITE_OPEN_URI flag when using URI syntax with query parameters", "percentage": 92}]'::jsonb, 'C/C++, SQLite 3.32+', 'Database opens in readonly immutable mode', 'Missing file: prefix, forgetting SQLITE_OPEN_URI flag', 0.93, 'haiku', NOW(), 'https://stackoverflow.com/questions/60100147/sqlite-cantopen-error-when-opening-db-in-readonly-mode', 'admin:1764221368'),

('SQLITE_READONLY: attempt to write a readonly database - PHP PDO', 'sqlite', 'HIGH', '[{"solution": "Make both database file AND parent directory writable: chmod directory, not just file", "percentage": 96}, {"solution": "Verify file owner matches script user; check entire directory path has write permissions", "percentage": 94}]'::jsonb, 'PHP 5.3+, PDO SQLite', 'INSERT/UPDATE/DELETE operations succeed', 'Only fixing database file permissions, ignoring directory', 0.95, 'haiku', NOW(), 'https://stackoverflow.com/questions/3319112/sqlite-error-attempt-to-write-a-readonly-database-during-insert', 'admin:1764221368'),

('SQLITE_CONSTRAINT: foreign key constraint failed', 'sqlite', 'HIGH', '[{"solution": "Add ON DELETE CASCADE to foreign key definition to auto-delete referencing rows", "percentage": 92}, {"solution": "Delete referencing child records before parent, or disable FK temporarily with PRAGMA foreign_keys=OFF", "percentage": 88}]'::jsonb, 'SQLite 3.6+', 'DELETE/UPDATE succeeds without constraint violation', 'Attempting to delete parent before children, FK not enabled', 0.90, 'haiku', NOW(), 'https://stackoverflow.com/questions/15443913/sqlite3-foreign-key-constraint-failed', 'admin:1764221368'),

('SQLITE_CONSTRAINT: UNIQUE constraint failed - duplicate primary key', 'sqlite', 'HIGH', '[{"solution": "Use INSERT OR IGNORE to skip duplicates; INSERT OR REPLACE to overwrite existing rows", "percentage": 91}, {"solution": "Check PRIMARY KEY definition and ensure auto-increment columns are not reused", "percentage": 89}]'::jsonb, 'SQLite 3.0+', 'Insertion succeeds without constraint violation', 'Hardcoding primary key IDs, not using AUTOINCREMENT', 0.88, 'haiku', NOW(), 'https://stackoverflow.com/questions/35415469/sqlite3-unique-constraint-failed-error', 'admin:1764221368'),

('database is locked error - multi-threaded SQLite access', 'sqlite', 'HIGH', '[{"solution": "Separate database operations into different threads or use connection pool with mutex locks", "percentage": 86}, {"solution": "Avoid nested transactions; complete one DB operation fully before starting another", "percentage": 84}]'::jsonb, 'SQLite 3.0+, iOS', 'Concurrent access succeeds without lock conflicts', 'Nested database operations, starting queries inside transactions', 0.82, 'haiku', NOW(), 'https://stackoverflow.com/questions/11866154/database-is-locked-error-in-sqlite-iphone', 'admin:1764221368'),

('sqlite3.DatabaseError: database disk image is malformed - concurrent writes', 'sqlite', 'HIGH', '[{"solution": "SQLite does not support distributed filesystems; use network DB (MySQL/PostgreSQL) or local storage", "percentage": 95}, {"solution": "If local storage, reduce concurrent connections and implement WAL mode with timeout", "percentage": 80}]'::jsonb, 'Python 3.6+, Lustre filesystem', 'Database operations succeed without corruption', 'High-volume concurrent writes on network filesystem', 0.78, 'haiku', NOW(), 'https://stackoverflow.com/questions/18237915/database-disk-image-is-malformed-from-many-concurrent-writes', 'admin:1764221368'),

('sqlite3.OperationalError: unable to open database file', 'sqlite', 'MEDIUM', '[{"solution": "Verify file permissions: chmod 644 db.sqlite; parent dir permissions: chmod 755", "percentage": 90}, {"solution": "Check if directory path is writable and file exists; use absolute paths not relative", "percentage": 88}]'::jsonb, 'Python 3.6+', 'Database connection established successfully', 'Relative paths in containerized environments, permission issues', 0.85, 'haiku', NOW(), 'https://stackoverflow.com/questions/33402893/buildozer-sqlite3-operational-error', 'admin:1764221368'),

('PRAGMA journal_mode=WAL resolves SQLITE_BUSY timeout', 'sqlite', 'MEDIUM', '[{"solution": "Enable WAL mode: PRAGMA journal_mode=WAL; increases concurrent read capacity", "percentage": 89}, {"solution": "Increase busy_timeout: PRAGMA busy_timeout=5000; (milliseconds)", "percentage": 86}]'::jsonb, 'SQLite 3.7+', 'Reduced lock contention, higher throughput', 'Defaults to DELETE journal mode with poor concurrency', 0.84, 'haiku', NOW(), 'https://sqlite.org/wal.html', 'admin:1764221368'),

('SQLite SQLITE_CORRUPT: database corruption detection', 'sqlite', 'LOW', '[{"solution": "Run PRAGMA integrity_check; to detect corruption; REINDEX if minor issues found", "percentage": 75}, {"solution": "Restore from backup if integrity_check reports severe issues", "percentage": 80}]'::jsonb, 'SQLite 3.0+', 'integrity_check returns "ok" or REINDEX completes', 'Attempting repairs without backup, power failures during writes', 0.70, 'haiku', NOW(), 'https://www.sqlite.org/pragma.html#pragma_integrity_check', 'admin:1764221368'),

('SQLITE_IOERR: I/O error during disk operations', 'sqlite', 'LOW', '[{"solution": "Check disk space and file permissions; restore from filesystem cache", "percentage": 72}, {"solution": "Enable journal modes that handle I/O better; retry operation after delay", "percentage": 68}]'::jsonb, 'SQLite 3.0+', 'I/O operation succeeds after disk cleanup', 'Full disk, permission changes mid-operation, corrupted filesystem', 0.65, 'haiku', NOW(), 'https://www.sqlite.org/rescode.html#ioerr', 'admin:1764221368'),

('SQLite syntax error: unclosed bracket, quotation issue', 'sqlite', 'MEDIUM', '[{"solution": "Check for unmatched parentheses in SELECT/INSERT statements using editor bracket matching", "percentage": 94}, {"solution": "Verify string literals use proper SQL escaping (single quotes doubled)", "percentage": 91}]'::jsonb, 'SQLite 3.0+', 'Query executes successfully', 'Mismatched parentheses, unescaped quotes in string literals', 0.88, 'haiku', NOW(), 'https://stackoverflow.com/questions/42986836/error-sqlite-error-near-0-syntax-error', 'admin:1764221368'),

('SQLite subquery in FROM clause syntax error', 'sqlite', 'MEDIUM', '[{"solution": "Ensure subquery has alias: SELECT * FROM (SELECT ...) AS alias", "percentage": 96}, {"solution": "Verify parentheses balance in nested subqueries", "percentage": 93}]'::jsonb, 'SQLite 3.8+', 'Subquery executes without syntax errors', 'Missing AS alias for derived table, unbalanced parentheses', 0.92, 'haiku', NOW(), 'https://stackoverflow.com/questions/52348966/uncaught-error-near-syntax-error-when-running-apparently-correct-statement', 'admin:1764221368'),

('SQLite SQLITE_NOTFOUND: resource not found', 'sqlite', 'LOW', '[{"solution": "Verify table/column exists; use sqlite_master query to confirm schema", "percentage": 87}, {"solution": "Reload schema cache if DDL executed in different connection", "percentage": 82}]'::jsonb, 'SQLite 3.0+', 'Resource located, query returns results', 'DDL changes in other connections, cached metadata', 0.80, 'haiku', NOW(), 'https://www.sqlite.org/rescode.html', 'admin:1764221368'),

('SQLITE_MISMATCH: type mismatch in comparison', 'sqlite', 'LOW', '[{"solution": "Ensure comparison operators match column types; use CAST() for conversions", "percentage": 85}, {"solution": "Check for type affinity mismatches between columns in JOINs", "percentage": 79}]'::jsonb, 'SQLite 3.0+', 'Query comparison executes correctly', 'Comparing strings to integers without CAST, type affinity confusion', 0.76, 'haiku', NOW(), 'https://www.sqlite.org/lang_createtable.html#type_affinity', 'admin:1764221368'),

('SQLite transaction rollback due to OOM (out of memory)', 'sqlite', 'MEDIUM', '[{"solution": "Check available memory; reduce batch sizes in large INSERT statements", "percentage": 84}, {"solution": "Use transactions sparingly; commit frequently to release locks", "percentage": 81}]'::jsonb, 'SQLite 3.0+', 'Transaction completes without OOM', 'Single large transaction, memory pressure, no batch processing', 0.79, 'haiku', NOW(), 'https://www.sqlite.org/rescode.html#oom', 'admin:1764221368'),

('SQLITE_NOTADB: file is not a database', 'sqlite', 'MEDIUM', '[{"solution": "Verify file is SQLite database: file command; restore from backup if corrupted", "percentage": 89}, {"solution": "Ensure opening correct file path; check for file encoding issues", "percentage": 86}]'::jsonb, 'SQLite 3.0+', 'Valid SQLite database file recognized', 'Wrong file opened, corruption from unclean shutdown', 0.85, 'haiku', NOW(), 'https://www.sqlite.org/rescode.html#notadb', 'admin:1764221368'),

('SQLite connection timeout during ATTACH DATABASE', 'sqlite', 'LOW', '[{"solution": "Increase timeout PRAGMA: PRAGMA busy_timeout=30000; before ATTACH", "percentage": 82}, {"solution": "Ensure main database not locked; complete pending transactions first", "percentage": 80}]'::jsonb, 'SQLite 3.0+', 'ATTACH succeeds without timeout', 'No timeout set, main DB locked by other connection', 0.78, 'haiku', NOW(), 'https://www.sqlite.org/lang_attach.html', 'admin:1764221368'),

('SQLite full-text search (FTS) setup errors', 'sqlite', 'LOW', '[{"solution": "Use CREATE VIRTUAL TABLE ... USING fts5 syntax for FTS5 support", "percentage": 88}, {"solution": "Ensure FTS module compiled into SQLite; check sqlite3_version()", "percentage": 84}]'::jsonb, 'SQLite 3.8+', 'FTS table created and queries work', 'Missing FTS module, wrong FTS version (fts3 vs fts5)', 0.81, 'haiku', NOW(), 'https://www.sqlite.org/fts5.html', 'admin:1764221368'),

('SQLite JSON1 extension not loaded', 'sqlite', 'LOW', '[{"solution": "Enable JSON1 extension: SELECT load_extension(''json1''); (if compiled)", "percentage": 79}, {"solution": "Use json_extract(), json_array() functions from built-in JSON support", "percentage": 76}]'::jsonb, 'SQLite 3.38+', 'JSON functions available and working', 'JSON functions used before extension load, extension not compiled', 0.74, 'haiku', NOW(), 'https://www.sqlite.org/json1.html', 'admin:1764221368'),

('SQLite EXPLAIN QUERY PLAN slow performance analysis', 'sqlite', 'MEDIUM', '[{"solution": "Create indexes on frequently queried columns: CREATE INDEX idx_col ON table(col)", "percentage": 92}, {"solution": "Use EXPLAIN QUERY PLAN SELECT ... to identify full table scans", "percentage": 90}]'::jsonb, 'SQLite 3.0+', 'Query uses index, execution time improves', 'Missing indexes, poor query plans, ANALYZE not run', 0.87, 'haiku', NOW(), 'https://www.sqlite.org/eqp.html', 'admin:1764221368'),

('SQLite VACUUM command locks database', 'sqlite', 'MEDIUM', '[{"solution": "Run VACUUM outside of peak hours; exclusive lock held during operation", "percentage": 91}, {"solution": "Use PRAGMA auto_vacuum=INCREMENTAL; for incremental cleanup", "percentage": 87}]'::jsonb, 'SQLite 3.0+', 'VACUUM completes, database size reduced', 'VACUUM during active transactions, not monitoring lock time', 0.85, 'haiku', NOW(), 'https://www.sqlite.org/lang_vacuum.html', 'admin:1764221368'),

('SQLite AUTOINCREMENT behavior and gaps in IDs', 'sqlite', 'LOW', '[{"solution": "Use rowid for most cases (faster); AUTOINCREMENT only needed to guarantee uniqueness", "percentage": 85}, {"solution": "Deleted rows leave ID gaps; this is expected behavior", "percentage": 89}]'::jsonb, 'SQLite 3.0+', 'Sequence generates unique IDs as expected', 'Expecting gap-free IDs, confusion between rowid and AUTOINCREMENT', 0.82, 'haiku', NOW(), 'https://www.sqlite.org/autoincrement.html', 'admin:1764221368'),

('SQLite temporary table not persisting across connections', 'sqlite', 'MEDIUM', '[{"solution": "Temporary tables (TEMP) are connection-specific; create in each session needed", "percentage": 93}, {"solution": "Use regular tables if cross-connection access needed; add cleanup logic", "percentage": 91}]'::jsonb, 'SQLite 3.0+', 'Temporary table data available in same connection', 'Using TEMP expecting persistence, sharing connections incorrectly', 0.89, 'haiku', NOW(), 'https://www.sqlite.org/lang_createtable.html#temp_tables', 'admin:1764221368'),

('SQLite GROUP_CONCAT with NULL values', 'sqlite', 'LOW', '[{"solution": "NULL values automatically excluded from GROUP_CONCAT; use IFNULL() to include defaults", "percentage": 88}, {"solution": "Specify custom separator: GROUP_CONCAT(col, '','') for comma-separated output", "percentage": 85}]'::jsonb, 'SQLite 3.0+', 'GROUP_CONCAT returns expected concatenated results', 'NULLs appearing in results, wrong separator usage', 0.84, 'haiku', NOW(), 'https://www.sqlite.org/lang_aggfunc.html#group_concat', 'admin:1764221368'),

('SQLite datetime functions timezone handling', 'sqlite', 'MEDIUM', '[{"solution": "Use ''now'', ''utc'' modifiers for UTC: datetime(''now'', ''utc'')", "percentage": 90}, {"solution": "Store all timestamps in UTC; apply timezone offset at application layer", "percentage": 88}]'::jsonb, 'SQLite 3.0+', 'Datetime calculations return correct values', 'Timezone confusion, mixing UTC and local time in comparisons', 0.86, 'haiku', NOW(), 'https://www.sqlite.org/lang_datefunc.html', 'admin:1764221368');
