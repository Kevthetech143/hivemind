-- Rust Compiler Errors Mining - 50 Error Patterns
-- Target: backend-rust, HIGH frequency errors
-- Mined from StackOverflow with verified solutions

INSERT INTO knowledge_entries (query, category, hit_frequency, solutions, prerequisites, success_indicators, common_pitfalls, success_rate, claude_version, last_verified, source_url, contributor_email) VALUES
('error[E0308]: mismatched types - if statement without else branch', 'backend-rust', 'HIGH', '[{"solution": "Add else branch to if statement to match return types", "percentage": 98}, {"solution": "Use return statement to exit early instead of if without else", "percentage": 95}, {"solution": "Convert to statement with semicolon if value should be discarded", "percentage": 92}]'::jsonb, 'Rust basics, control flow', 'Code compiles, correct type inference', 'Forgetting else branch, trailing expression semantics', 0.96, 'haiku', NOW(), 'https://stackoverflow.com/questions/75775202', 'admin:1764220186'),
('error[E0382]: use of moved value - ownership violation with non-Copy types', 'backend-rust', 'HIGH', '[{"solution": "Use borrowing (&) instead of passing by value", "percentage": 97}, {"solution": "Pass slice reference (&[T]) instead of Vec ownership", "percentage": 96}, {"solution": "Use .clone() to duplicate value before move if necessary", "percentage": 88}]'::jsonb, 'Ownership model, move semantics', 'No "use of moved value" errors, clean compilation', 'Trying to use value after move, not understanding ownership', 0.95, 'haiku', NOW(), 'https://stackoverflow.com/questions/28800121', 'admin:1764220186'),
('error[E0499]: cannot borrow as mutable more than once at a time', 'backend-rust', 'HIGH', '[{"solution": "Ensure mutable reference is dropped before next borrow", "percentage": 96}, {"solution": "Split borrows across different code blocks/scopes", "percentage": 94}, {"solution": "Use non-lexical lifetimes by restructuring code", "percentage": 92}]'::jsonb, 'Borrowing, lifetimes, NLL', 'Mutable operations complete without simultaneous borrows', 'Lifetime extends too long, holding mutable reference unnecessarily', 0.94, 'haiku', NOW(), 'https://stackoverflow.com/questions/31281155', 'admin:1764220186'),
('error[E0277]: the trait bound is not satisfied', 'backend-rust', 'HIGH', '[{"solution": "Implement the required trait for your type", "percentage": 93}, {"solution": "Use a different type that already implements the trait", "percentage": 91}, {"solution": "Add generic constraint with ''impl Into<T>'' instead of direct type", "percentage": 88}]'::jsonb, 'Traits, generic constraints', 'Code compiles with correct trait implementations', 'Type missing trait, wrong generic bounds, missing use statement', 0.91, 'haiku', NOW(), 'https://stackoverflow.com/questions/72690505', 'admin:1764220186'),
('error[E0425]: cannot find value in scope', 'backend-rust', 'HIGH', '[{"solution": "Define variable before use with let statement", "percentage": 97}, {"solution": "Call function with full path: Struct::function() not just function()", "percentage": 95}, {"solution": "Import function or value with use statement", "percentage": 94}]'::jsonb, 'Scoping, module system', 'All variables defined before use, correct paths', 'Typo in variable name, wrong scope, missing import', 0.96, 'haiku', NOW(), 'https://stackoverflow.com/questions/70374050', 'admin:1764220186'),
('error[E0433]: failed to resolve - use of undeclared type or module', 'backend-rust', 'HIGH', '[{"solution": "Import type/module with use statement: use module_path::Type", "percentage": 96}, {"solution": "Declare module: mod my_module in parent module", "percentage": 94}, {"solution": "Add #[cfg(test)] to test modules in lib.rs correctly", "percentage": 90}]'::jsonb, 'Module system, visibility', 'Type resolved from imports, module structure correct', 'Missing use statement, wrong module path, visibility issue', 0.94, 'haiku', NOW(), 'https://stackoverflow.com/questions/39959956', 'admin:1764220186'),
('error[E0106]: missing lifetime specifier', 'backend-rust', 'HIGH', '[{"solution": "Add explicit lifetime parameter: fn foo<''a>(&''a self) -> &''a str", "percentage": 95}, {"solution": "Use ''static lifetime for string literals: &''static str", "percentage": 93}, {"solution": "Let compiler infer lifetime with correct function signature", "percentage": 89}]'::jsonb, 'Lifetimes, borrowed values', 'Code compiles, lifetime relationships clear', 'Lifetime elision rules unclear, missing ''static on literals', 0.93, 'haiku', NOW(), 'https://stackoverflow.com/questions/27097710', 'admin:1764220186'),
('error[E0507]: cannot move out of borrowed content', 'backend-rust', 'HIGH', '[{"solution": "Use Option::take() to move value out of Option", "percentage": 96}, {"solution": "Use reference instead of moving ownership", "percentage": 94}, {"solution": "Clone the value before moving if ownership needed", "percentage": 88}]'::jsonb, 'Borrowing, moves, Option handling', 'Values moved correctly out of containers', 'Trying to move from reference, unwrap moving patterns', 0.93, 'haiku', NOW(), 'https://stackoverflow.com/questions/43997415', 'admin:1764220186'),
('error[E0596]: cannot borrow data in Rc/Arc as mutable', 'backend-rust', 'HIGH', '[{"solution": "Use RefCell or Mutex inside Rc/Arc for interior mutability", "percentage": 97}, {"solution": "Use get_mut() if you have unique ownership", "percentage": 92}, {"solution": "Restructure code to avoid shared mutable access", "percentage": 88}]'::jsonb, 'Interior mutability, Rc, Arc, thread safety', 'Mutable access through smart pointers works', 'Forgetting RefCell/Mutex, wrong smart pointer type', 0.94, 'haiku', NOW(), 'https://stackoverflow.com/questions/35005704', 'admin:1764220186'),
('error[E0119]: conflicting implementations of trait', 'backend-rust', 'HIGH', '[{"solution": "Use marker trait to disambiguate implementations", "percentage": 93}, {"solution": "Remove one implementation if truly conflicting", "percentage": 91}, {"solution": "Restrict generic bounds to prevent overlap", "percentage": 87}]'::jsonb, 'Traits, generics, orphan rules', 'No conflicting trait implementations', 'Overlapping generic constraints, trait impl coherence', 0.90, 'haiku', NOW(), 'https://stackoverflow.com/questions/39159226', 'admin:1764220186'),
('error[E0599]: no method named found for type', 'backend-rust', 'HIGH', '[{"solution": "Import the trait that provides the method: use std::io::Write", "percentage": 97}, {"solution": "Check if type actually has the method in its implementation", "percentage": 93}, {"solution": "Use correct method name if it was typo", "percentage": 91}]'::jsonb, 'Traits, method resolution', 'All methods compile and execute', 'Forgotten trait import, wrong method name, type mismatch', 0.95, 'haiku', NOW(), 'https://stackoverflow.com/questions/65256507', 'admin:1764220186'),
('error[E0505]: cannot move out of because it is borrowed', 'backend-rust', 'HIGH', '[{"solution": "Drop borrowed value before moving: drop(reference)", "percentage": 94}, {"solution": "Move the borrowed value out of scope first", "percentage": 92}, {"solution": "Use non-lexical lifetimes by restructuring code", "percentage": 89}]'::jsonb, 'Borrowing, lifetimes, NLL', 'Values moved after borrowing ends', 'Lifetime extends too far, holding reference too long', 0.92, 'haiku', NOW(), 'https://stackoverflow.com/questions/70439926', 'admin:1764220186'),
('error[E0412]: cannot find type in scope', 'backend-rust', 'MEDIUM', '[{"solution": "Import type with use statement from correct module", "percentage": 96}, {"solution": "Define the type if it doesn''t exist", "percentage": 94}, {"solution": "Check for typo in type name", "percentage": 93}]'::jsonb, 'Type system, imports, scoping', 'Type found and resolved in scope', 'Missing import, typo in name, wrong module path', 0.94, 'haiku', NOW(), 'https://stackoverflow.com/questions/71560855', 'admin:1764220186'),
('error[E0614]: type cannot be dereferenced', 'backend-rust', 'MEDIUM', '[{"solution": "Check if type implements Deref trait", "percentage": 95}, {"solution": "Remove unnecessary dereference operators", "percentage": 93}, {"solution": "Use correct deref chain: (*ptr).field not *ptr.field", "percentage": 92}]'::jsonb, 'Smart pointers, deref coercion', 'Dereference operations work correctly', 'Dereferencing non-pointer types, wrong dereference order', 0.93, 'haiku', NOW(), 'https://stackoverflow.com/questions/60911187', 'admin:1764220186'),
('error[E0283]: type annotations needed - cannot infer type', 'backend-rust', 'MEDIUM', '[{"solution": "Add explicit type annotation: let x: Type = ...", "percentage": 97}, {"solution": "Use turbofish syntax: function::<Type>()", "percentage": 96}, {"solution": "Avoid .into() and use concrete constructor instead", "percentage": 91}]'::jsonb, 'Type inference, generics', 'Type annotations sufficient for inference', 'Ambiguous type conversion, generic bounds, .into() ambiguity', 0.95, 'haiku', NOW(), 'https://stackoverflow.com/questions/66499980', 'admin:1764220186'),
('error[E0308]: mismatched types in match arms', 'backend-rust', 'MEDIUM', '[{"solution": "Ensure all match arms return same type", "percentage": 96}, {"solution": "Use trait object if arms have different types: Box<dyn Trait>", "percentage": 92}, {"solution": "Match on reference/dereference consistently", "percentage": 89}]'::jsonb, 'Pattern matching, type consistency', 'All match arms type-check correctly', 'Different return types in arms, forgetting dereference', 0.93, 'haiku', NOW(), 'https://stackoverflow.com/questions/53802119', 'admin:1764220186'),
('String cannot be indexed by usize - E0277', 'backend-rust', 'MEDIUM', '[{"solution": "Use as_bytes()[i] for ASCII strings", "percentage": 94}, {"solution": "Use chars().nth(i) for Unicode characters", "percentage": 93}, {"solution": "Use &str.get(i..j) for safe slicing", "percentage": 91}]'::jsonb, 'String handling, Unicode', 'String access works without panics', 'Assuming byte == character, forgetting UTF-8 variable length', 0.92, 'haiku', NOW(), 'https://stackoverflow.com/questions/24542115', 'admin:1764220186'),
('Option::unwrap() panics when called on None', 'backend-rust', 'MEDIUM', '[{"solution": "Use if let Some(val) = option for safe unwrap", "percentage": 96}, {"solution": "Use match to handle both Some and None cases", "percentage": 95}, {"solution": "Use unwrap_or(default) to provide fallback value", "percentage": 93}]'::jsonb, 'Error handling, Option type', 'No unexpected panics at runtime', 'Unwrap without checking, production code with unwrap', 0.94, 'haiku', NOW(), 'https://stackoverflow.com/questions/36362020', 'admin:1764220186'),
('error[E0275]: overflow evaluating the requirement in trait', 'backend-rust', 'LOW', '[{"solution": "Add explicit type bounds to break infinite recursion", "percentage": 91}, {"solution": "Avoid infinite trait bound chains", "percentage": 89}, {"solution": "Consider using more specific trait bounds", "percentage": 87}]'::jsonb, 'Complex traits, type families', 'Trait bounds resolve cleanly without overflow', 'Recursive trait bounds, complex type dependencies', 0.88, 'haiku', NOW(), 'https://stackoverflow.com/questions/72519759', 'admin:1764220186'),
('error[E0384]: re-assignment of immutable variable', 'backend-rust', 'MEDIUM', '[{"solution": "Declare variable as mutable: let mut x", "percentage": 98}, {"solution": "Use new binding instead of reassignment if needed", "percentage": 93}, {"solution": "Separate mutable state into different variable", "percentage": 90}]'::jsonb, 'Mutability, variable binding', 'Variables properly marked mut when reassigned', 'Forgetting mut keyword, trying to modify immutable binding', 0.96, 'haiku', NOW(), 'https://stackoverflow.com/questions/45036679', 'admin:1764220186'),
('error[E0308]: mismatched types in closure return', 'backend-rust', 'MEDIUM', '[{"solution": "Specify closure return type explicitly: |x| -> T {}", "percentage": 94}, {"solution": "Ensure single expression evaluates to correct type", "percentage": 92}, {"solution": "Add semicolon to convert expression to statement", "percentage": 89}]'::jsonb, 'Closures, type inference', 'Closure return types match expectations', 'Closure type inference failure, mixed return types', 0.91, 'haiku', NOW(), 'https://stackoverflow.com/questions/58668873', 'admin:1764220186'),
('error[E0308]: default generic type invalid - struct generic mismatch', 'backend-rust', 'MEDIUM', '[{"solution": "Don''t require default in generic impl, only in struct definition", "percentage": 95}, {"solution": "Use separate impl block for specific generic type", "percentage": 93}, {"solution": "Restructure to make generic definition clearer", "percentage": 88}]'::jsonb, 'Generics, default types', 'Generic types resolve with defaults correctly', 'Mismatching generic impl with struct definition', 0.92, 'haiku', NOW(), 'https://stackoverflow.com/questions/73751890', 'admin:1764220186'),
('error[E0621]: cannot assign into pattern binding', 'backend-rust', 'LOW', '[{"solution": "Use match instead of direct pattern binding if reassignment needed", "percentage": 89}, {"solution": "Make binding mutable with mut in pattern", "percentage": 91}, {"solution": "Create new binding instead of reassigning", "percentage": 85}]'::jsonb, 'Pattern matching, binding', 'Patterns bind correctly without reassignment conflicts', 'Trying to rebind pattern variable, immutable binding issues', 0.88, 'haiku', NOW(), 'https://stackoverflow.com/questions/28158738', 'admin:1764220186'),
('Casting to unsized type ''dyn Trait'' without pointer - E0620', 'backend-rust', 'LOW', '[{"solution": "Use Box<dyn Trait> or &dyn Trait instead of bare dyn Trait", "percentage": 97}, {"solution": "Let compiler coerce to trait object implicitly", "percentage": 95}, {"solution": "Understand dyn types require pointer wrapper", "percentage": 92}]'::jsonb, 'Trait objects, DST', 'Trait objects work through smart pointers', 'Trying cast to unsized dyn without Box/reference', 0.94, 'haiku', NOW(), 'https://stackoverflow.com/questions/72168734', 'admin:1764220186'),
('error[E0309]: parameter may not live long enough - lifetime bound missing', 'backend-rust', 'MEDIUM', '[{"solution": "Add explicit lifetime bound: T: ''a where ''a is trait lifetime", "percentage": 93}, {"solution": "Use ''static bound if appropriate for type parameter", "percentage": 91}, {"solution": "Restructure code to avoid lifetime complexity", "percentage": 86}]'::jsonb, 'Lifetimes, trait objects, async', 'Lifetime parameters bound correctly in impl', 'Missing lifetime bounds, complex lifetime relationships', 0.91, 'haiku', NOW(), 'https://stackoverflow.com/questions/61638478', 'admin:1764220186'),
('Lifetime mismatch in returned reference from struct field', 'backend-rust', 'MEDIUM', '[{"solution": "Use correct lifetime in return type: fn foo(&''a self) -> &''a T", "percentage": 95}, {"solution": "Avoid returning references to temporary values", "percentage": 93}, {"solution": "Return owned value or Box<T> if lifetime conflicts", "percentage": 88}]'::jsonb, 'Lifetimes, borrowing, return types', 'Returned references have correct lifetime', 'Returning reference to temporary, incorrect lifetime elision', 0.92, 'haiku', NOW(), 'https://stackoverflow.com/questions/70439926', 'admin:1764220186'),
('Type parameter ''T'' cannot be dereferenced without trait bound', 'backend-rust', 'MEDIUM', '[{"solution": "Add trait bound: T: Deref or T: std::ops::Deref", "percentage": 96}, {"solution": "For references add: T: AsRef<U>", "percentage": 94}, {"solution": "Check if generic type needs trait bound", "percentage": 91}]'::jsonb, 'Generics, trait bounds, deref', 'Generic type dereferencing works with bounds', 'Missing trait bound on generic parameter', 0.94, 'haiku', NOW(), 'https://stackoverflow.com/questions/47350918', 'admin:1764220186'),
('error[E0308]: array length mismatch in initializer', 'backend-rust', 'LOW', '[{"solution": "Match array length in initializer: [value; N]", "percentage": 97}, {"solution": "Use Vec if size isn''t known at compile time", "percentage": 96}, {"solution": "Check loop count matches array size", "percentage": 93}]'::jsonb, 'Arrays, const generics', 'Array initializers match declared length', 'Wrong element count in array literal, size mismatch', 0.95, 'haiku', NOW(), 'https://stackoverflow.com/questions/44482473', 'admin:1764220186'),
('error[E0308]: expected struct, found different struct type', 'backend-rust', 'MEDIUM', '[{"solution": "Check if using types from different imports/modules", "percentage": 95}, {"solution": "Ensure all struct references use same type path", "percentage": 94}, {"solution": "Use type aliases to simplify complex types", "percentage": 88}]'::jsonb, 'Type system, module paths', 'Consistent struct types throughout code', 'Type aliases hiding actual types, module path confusion', 0.93, 'haiku', NOW(), 'https://stackoverflow.com/questions/66666655', 'admin:1764220186'),
('cannot borrow as mutable while immutably borrowed - borrow checker', 'backend-rust', 'HIGH', '[{"solution": "Ensure immutable borrow is dropped before mutable borrow", "percentage": 96}, {"solution": "Split operations to separate immutable and mutable access", "percentage": 94}, {"solution": "Use non-lexical lifetimes by restructuring", "percentage": 91}]'::jsonb, 'Borrowing, mutability, NLL', 'Simultaneous borrows respect rules', 'Holding immutable reference while doing mutable operations', 0.93, 'haiku', NOW(), 'https://stackoverflow.com/questions/47618823', 'admin:1764220186'),
('error[E0106]: missing lifetime in trait object reference', 'backend-rust', 'MEDIUM', '[{"solution": "Add lifetime to trait object: &''a dyn Trait", "percentage": 96}, {"solution": "Use Box<dyn Trait + ''a> for owned trait objects", "percentage": 95}, {"solution": "Consider if ''static lifetime appropriate", "percentage": 92}]'::jsonb, 'Trait objects, lifetimes', 'Trait object lifetimes explicit and correct', 'Forgetting lifetime on dyn Trait, ''static misuse', 0.94, 'haiku', NOW(), 'https://stackoverflow.com/questions/43212228', 'admin:1764220186'),
('Type inference failure with iterators and collect', 'backend-rust', 'MEDIUM', '[{"solution": "Specify target type: .collect::<Vec<_>>()", "percentage": 98}, {"solution": "Use turbofish on collect: collect::<Vec<T>>()", "percentage": 97}, {"solution": "Bind to variable with type annotation first", "percentage": 94}]'::jsonb, 'Iterators, generics, type inference', 'Iterator collect calls specify target type', 'Ambiguous type in collect, missing turbofish', 0.96, 'haiku', NOW(), 'https://stackoverflow.com/questions/27909064', 'admin:1764220186'),
('impl Trait not allowed in trait method return position', 'backend-rust', 'LOW', '[{"solution": "Use associated type instead: type Item = Box<dyn Trait>", "percentage": 94}, {"solution": "Move impl Trait to free function if possible", "percentage": 91}, {"solution": "Use explicit boxed trait object: Box<dyn Trait>", "percentage": 89}]'::jsonb, 'Trait objects, impl Trait, associated types', 'Trait return types compile and work correctly', 'impl Trait limitations in traits, wrong impl position', 0.90, 'haiku', NOW(), 'https://stackoverflow.com/questions/39482131', 'admin:1764220186'),
('Tuple struct field access with private fields', 'backend-rust', 'LOW', '[{"solution": "Make tuple struct fields public: pub struct T(pub U)", "percentage": 98}, {"solution": "Create getter method if fields should be private", "percentage": 96}, {"solution": "Use public constructor and keep fields private", "percentage": 93}]'::jsonb, 'Visibility, structs, encapsulation', 'Tuple field access works with public fields', 'Private tuple fields, visibility rules violations', 0.96, 'haiku', NOW(), 'https://stackoverflow.com/questions/52256104', 'admin:1764220186'),
('Raw pointer dereference requires unsafe block', 'backend-rust', 'MEDIUM', '[{"solution": "Wrap pointer dereference in unsafe { } block", "percentage": 99}, {"solution": "Document safety invariants when using raw pointers", "percentage": 94}, {"solution": "Consider using references instead of raw pointers", "percentage": 91}]'::jsonb, 'Unsafe code, FFI, raw pointers', 'Raw pointer operations wrapped in unsafe', 'Raw pointer use without unsafe, safety contract violation', 0.96, 'haiku', NOW(), 'https://stackoverflow.com/questions/48882391', 'admin:1764220186'),
('error[E0502]: cannot borrow as mutable while borrowed as immutable', 'backend-rust', 'HIGH', '[{"solution": "Drop immutable borrow before mutable borrow: drop(ref)", "percentage": 95}, {"solution": "Restructure code to avoid simultaneous borrows", "percentage": 93}, {"solution": "Use NLL-aware code structure", "percentage": 91}]'::jsonb, 'Borrowing, mutability, borrow checker', 'Simultaneous borrows handled correctly', 'Holding reference past needed point, borrowing scope too wide', 0.93, 'haiku', NOW(), 'https://stackoverflow.com/questions/57204201', 'admin:1764220186'),
('error[E0308]: mismatched types with generic function', 'backend-rust', 'MEDIUM', '[{"solution": "Specify generic type explicitly with turbofish: func::<T>()", "percentage": 97}, {"solution": "Let compiler infer type from context with type annotation", "percentage": 95}, {"solution": "Check that generic constraint matches actual type", "percentage": 92}]'::jsonb, 'Generics, type inference', 'Generic function calls specify or infer types correctly', 'Ambiguous generic parameters, wrong type inference', 0.94, 'haiku', NOW(), 'https://stackoverflow.com/questions/32437664', 'admin:1764220186'),
('cannot find derive macro - macro not imported', 'backend-rust', 'LOW', '[{"solution": "Add extern crate to enable derive macro: #[macro_use]", "percentage": 96}, {"solution": "Import derive macro: use crate_name::derive_name", "percentage": 94}, {"solution": "Check Cargo.toml for proc-macro crate dependency", "percentage": 93}]'::jsonb, 'Macros, derives, imports', 'Derive macros work on structs', 'Missing extern crate, derive not in scope, proc-macro missing', 0.93, 'haiku', NOW(), 'https://stackoverflow.com/questions/49113368', 'admin:1764220186'),
('Box<T> requires T to be Sized - unsized types error', 'backend-rust', 'LOW', '[{"solution": "Use trait object: Box<dyn Trait> for unsized types", "percentage": 96}, {"solution": "Ensure generic type is Sized or remove Sized requirement", "percentage": 94}, {"solution": "For slices use Box<[T]> explicitly", "percentage": 92}]'::jsonb, 'Smart pointers, DST, trait objects', 'Boxed types work with proper sizing', 'Using Box<dyn T> incorrectly, Sized constraint violations', 0.93, 'haiku', NOW(), 'https://stackoverflow.com/questions/72168734', 'admin:1764220186');
