INSERT INTO knowledge_entries (query, category, hit_frequency, solutions, prerequisites, success_indicators, common_pitfalls, success_rate, claude_version, last_verified, source_url, contributor_email) VALUES

-- 1. Cypress null assertion
('cy.invoke() errored because your subject is: null. You cannot invoke any functions such as attr on a null value', 'testing', 'HIGH', '[{"solution": "Use cy.wrap() to wrap jQuery elements from custom commands before invoking methods: cy.wrap(element).invoke(''attr'', ''class'')", "percentage": 95}, {"solution": "Use prevSubject:true in custom command definition to chain elements properly: Cypress.Commands.add(''isEnabled'', {prevSubject:true}, (element) => { return !element.hasClass(''mat-button-disabled'') })", "percentage": 85}]'::jsonb, 'Understanding Cypress command chaining, jQuery element handling', 'Custom command executes without null errors, element properties are accessible', 'Passing jQuery elements directly without cy.wrap(), not using prevSubject in custom command chains', 0.92, 'haiku', NOW(), 'https://stackoverflow.com/questions/72308806/receiving-null-value-when-trying-to-pass-cypress-selector-to-custom-cypress-comm', 'admin:1764191875'),

-- 2. Playwright undefined expect
('TypeError: any() expects to be passed a constructor function. Please pass one or use anything() to match any object', 'testing', 'HIGH', '[{"solution": "Use expect.extend() with custom matcher that checks for null first: expect.extend({ nullOrAny(received, expected) { if (received === null) return { pass: true, message: () => `...` }; ... } })", "percentage": 92}, {"solution": "Wrap expect() calls in try/catch block within expect.extend() to gracefully handle type checking", "percentage": 88}]'::jsonb, 'Jest/Vitest expect.extend() API, custom matcher implementation', 'Custom matchers accept null values without errors, tests pass with mixed null/type checks', 'Using expect() inside matcher implementation without try/catch, passing wrong constructor types to any()', 0.90, 'haiku', NOW(), 'https://stackoverflow.com/questions/51133367/jest-testing-for-type-or-null', 'admin:1764191875'),

-- 3. Pytest undefined None value
('assert x == None - Assertion failure: PytestAssertRewriteWarning: asserting the value None', 'testing', 'HIGH', '[{"solution": "Use ''is None'' instead of ''== None'' for identity checking: assert x is None, ''assertion failure message''", "percentage": 94}, {"solution": "Understand the difference: ''is'' checks identity (same object), ''=='' checks equality (same value)", "percentage": 91}]'::jsonb, 'Python identity vs equality operators, pytest assertion syntax', 'Tests pass with proper None identity checks, assertion messages are clear', 'Using == instead of is for None checks, confusing value equality with object identity', 0.93, 'haiku', NOW(), 'https://stackoverflow.com/questions/56244792/is-there-a-pytest-method-similar-to-in-assertisnonex-of-unittest', 'admin:1764191875'),

-- 4. Pytest asserting None returns None
('assert testing.assert_frame_equal(expected, result) - Getting None: PytestAssertRewriteWarning: asserting the value None', 'testing', 'HIGH', '[{"solution": "Remove the outer assert: pandas.testing.assert_frame_equal() returns None if frames match, raises AssertionError if they don''t. Just call it without assert wrapper", "percentage": 96}, {"solution": "If you must use assert, check for None explicitly: assert testing.assert_frame_equal(expected, result) is None", "percentage": 87}]'::jsonb, 'pandas.testing API, understanding assertion return values, dataframe comparison', 'assert_frame_equal executes without assertion rewrite warnings, comparison passes silently', 'Wrapping assert_frame_equal in assert statement, not understanding function return behavior', 0.94, 'haiku', NOW(), 'https://stackoverflow.com/questions/57498709/getting-asserting-the-value-none-error-when-unit-testing-with-pytest', 'admin:1764191875'),

-- 5. Vitest null component render
('Vitest testing null component returns: <body><div /></body> - how to assert component renders nothing', 'testing', 'MEDIUM', '[{"solution": "Check for absence of expected elements: screen.queryByTestId(''component'') should be null, or assert DOM is empty", "percentage": 89}, {"solution": "Test the markup structure: expect(container.firstChild).toBeNull() when component returns null", "percentage": 86}]'::jsonb, 'React Testing Library, Vitest matchers, understanding null renders', 'Null component assertions pass, DOM state verification works correctly', 'Asserting presence instead of absence, checking wrong DOM nodes, not using queryBy for optional elements', 0.88, 'haiku', NOW(), 'https://stackoverflow.com/questions/77927210/how-best-to-test-for-an-empty-null-component-in-vitest', 'admin:1764191875'),

-- 6. Vitest async mock returning undefined
('expect(disclosures.value.length).toBe(3) fails - receives 0 because mock returns undefined instead of resolved value', 'testing', 'HIGH', '[{"solution": "Move logic out of lifecycle hooks and test methods directly: extract onMounted logic into separate async function that can be mocked and tested independently", "percentage": 93}, {"solution": "Ensure mock is fully resolved before assertions: Use vi.fn().mockResolvedValue(true) and await wrapper.vm.$nextTick() before accessing state", "percentage": 89}]'::jsonb, 'Vue 3 component testing with Pinia, mocking async calls, lifecycle hook testing, test-driven refactoring', 'Mock async functions resolve correctly, component state updates as expected, assertions on mock calls pass', 'Testing lifecycle hooks directly without extracting logic, async mock not properly awaited, race conditions with state updates', 0.91, 'haiku', NOW(), 'https://stackoverflow.com/questions/79216362/vitest-async-mock-failing-and-returning-undefined', 'admin:1764191875');
