-- Docker Compose Errors Mining (25 entries)

INSERT INTO knowledge_entries (query, category, hit_frequency, solutions, prerequisites, success_indicators, common_pitfalls, success_rate, claude_version, last_verified, source_url, contributor_email) VALUES
('exited with code 1', 'docker', 'HIGH', '[{"solution": "Check container logs: docker logs <container_id>", "percentage": 85}, {"solution": "Restart Docker daemon - helps resolve build process issues", "percentage": 70}]'::jsonb, 'Docker installed, container running', 'No exit code 1 errors', 'Not checking logs before restarting', 0.78, 'haiku', NOW(), 'https://stackoverflow.com/questions/62061850/how-can-i-fix-the-error-of-docker-compose-up-exited-with-code-1', 'admin:1764255687'),
('no configuration file provided not found', 'docker', 'MEDIUM', '[{"solution": "Execute docker-compose in directory containing docker-compose.yml", "percentage": 95}, {"solution": "Specify file explicitly: docker-compose -f docker-compose.yml logs", "percentage": 92}, {"solution": "Remove snap version and use official Docker installation", "percentage": 88}]'::jsonb, 'Docker Compose 2.x installed', 'Configuration file recognized', 'Using snap version of Docker', 0.92, 'haiku', NOW(), 'https://stackoverflow.com/questions/70256928/docker-compose-prompted-error-no-configuration-file-provided-not-found', 'admin:1764255687'),
('yaml.scanner.ScannerError mapping values are not allowed here', 'docker', 'HIGH', '[{"solution": "Fix YAML indentation - ensure fields like build, image, depends_on are properly aligned", "percentage": 98}, {"solution": "Validate YAML syntax: docker-compose config", "percentage": 96}]'::jsonb, 'docker-compose.yml file present', 'docker-compose config succeeds', 'Misaligned YAML fields, tabs vs spaces', 0.97, 'haiku', NOW(), 'https://stackoverflow.com/questions/58563024/how-to-fix-error-into-my-docker-compose-file', 'admin:1764255687'),
('service failed to build context mismatch', 'docker', 'HIGH', '[{"solution": "Match build context to Dockerfile location: build context . with Dockerfile in root", "percentage": 94}, {"solution": "Use simplified build syntax if only changing context: build: ./proj", "percentage": 90}]'::jsonb, 'Dockerfile and docker-compose.yml exist', 'docker-compose build succeeds', 'Using different context than docker build command', 0.92, 'haiku', NOW(), 'https://stackoverflow.com/questions/72889184/why-does-building-and-image-with-docker-compose-fail-but-succeeds-without-it', 'admin:1764255687'),
('COPY failed no such file or directory', 'docker', 'HIGH', '[{"solution": "Verify build context directory contains the file - paths relative to context", "percentage": 95}, {"solution": "Fix docker-compose context: adjust to point to directory containing required files", "percentage": 92}, {"solution": "Run docker build with matching context to test locally", "percentage": 88}]'::jsonb, 'go.mod, go.sum files in correct location', 'docker-compose build succeeds', 'Build context points to wrong directory', 0.92, 'haiku', NOW(), 'https://stackoverflow.com/questions/58449076/docker-compose-build-fails-with-no-such-file-or-directory', 'admin:1764255687'),
('Unable to locate package apt-get', 'docker', 'HIGH', '[{"solution": "Remove backslash from middle of RUN command - continuation character splits packages", "percentage": 98}, {"solution": "Single RUN with && for multiple commands", "percentage": 96}]'::jsonb, 'Ubuntu base image, apt available', 'apt-get install completes', 'Stray backslash after package in RUN command', 0.97, 'haiku', NOW(), 'https://stackoverflow.com/questions/44442928/docker-compose-service-web-failed-to-build', 'admin:1764255687'),
('COPY destination must be directory', 'docker', 'MEDIUM', '[{"solution": "Use full jar filename instead of wildcard: target/app-0.0.1-SNAPSHOT.jar", "percentage": 95}, {"solution": "Rebuild with docker-compose up --build", "percentage": 93}]'::jsonb, 'JAR file exists in target directory', 'COPY command executes without error', 'Using ${JAR_FILE} with wildcard pattern in docker build vs docker-compose', 0.94, 'haiku', NOW(), 'https://stackoverflow.com/questions/65252894/docker-compose-failed-to-build-on-windows-10', 'admin:1764255687'),
('OSError Invalid argument node_modules', 'docker', 'MEDIUM', '[{"solution": "Add .dockerignore file excluding node_modules and other local artifacts", "percentage": 97}, {"solution": "Separate COPY of package.json before npm install from COPY of full source", "percentage": 95}]'::jsonb, 'Node.js project with package.json', 'docker-compose build completes', 'Copying local node_modules over fresh install', 0.96, 'haiku', NOW(), 'https://stackoverflow.com/questions/53177664/docker-compose-build-fail-if-node-modules-are-present-in-the-local-project', 'admin:1764255687'),
('network not found after restart docker', 'docker', 'HIGH', '[{"solution": "Remove old containers: docker rm $(docker ps -qa)", "percentage": 91}, {"solution": "Run docker network prune to clean orphaned networks", "percentage": 88}, {"solution": "Recreate containers - Docker sets up network again", "percentage": 85}]'::jsonb, 'Docker service restarted', 'docker-compose up succeeds', 'Old container instances not removed on restart', 0.88, 'haiku', NOW(), 'https://stackoverflow.com/questions/51242398/docker-compose-can-not-start-service-network-not-found-after-restart-docker', 'admin:1764255687'),
('port 8080 was already in use', 'docker', 'CRITICAL', '[{"solution": "Find and kill process on port: netstat -ano | findstr 8080 then kill PID", "percentage": 93}, {"solution": "Check application logs - service may start twice (like SpringApplication.run() called twice)", "percentage": 85}]'::jsonb, 'Port 8080 free on host', 'Application starts on port 8080', 'Previous application instances still running', 0.89, 'haiku', NOW(), 'https://stackoverflow.com/questions/58212153/getting-port-8080-was-already-in-use-error-from-docker-compose', 'admin:1764255687'),
('bind address already in use port already allocated', 'docker', 'CRITICAL', '[{"solution": "Stop existing container: docker container ls then docker stop <id>", "percentage": 95}, {"solution": "Remove duplicate port mappings in docker-compose.yml", "percentage": 93}]'::jsonb, 'Port available on host', 'docker-compose up succeeds', 'Previous container still running with same port', 0.94, 'haiku', NOW(), 'https://stackoverflow.com/questions/46176584/docker-bind-for-0-0-0-04000-failed-port-is-already-allocated', 'admin:1764255687'),
('listen tcp bind address already in use', 'docker', 'HIGH', '[{"solution": "Find process: lsof -i :5672, then kill the PID", "percentage": 96}, {"solution": "Check netstat for port usage: netstat -pna | grep <port>", "percentage": 92}]'::jsonb, 'Port available or killable process', 'docker-compose up succeeds', 'Not running as root to find process ID', 0.94, 'haiku', NOW(), 'https://stackoverflow.com/questions/40266556/address-already-in-use-error-upon-docker-compose-up', 'admin:1764255687'),
('Bind for 0.0.0.0 failed port is already allocated', 'docker', 'CRITICAL', '[{"solution": "Remove duplicate/conflicting port mappings - shorten ports section", "percentage": 97}, {"solution": "Docker defaults to 0.0.0.0 - remove explicit binding if using same port", "percentage": 96}]'::jsonb, 'Port unique in compose file', 'Port mappings simplified', 'Duplicate port allocations (tcp and explicit 0.0.0.0)', 0.96, 'haiku', NOW(), 'https://stackoverflow.com/questions/56285989/docker-compose-bind-failed-port-is-already-allocated', 'admin:1764255687'),
('depends_on wait for container not starting service', 'docker', 'HIGH', '[{"solution": "Add wait condition or healthcheck to dependency service", "percentage": 88}, {"solution": "Use docker-compose 1.27.0+ with condition: service_started", "percentage": 85}]'::jsonb, 'docker-compose 1.27.0+', 'Dependent service starts after dependency healthy', 'depends_on only waits for startup, not readiness', 0.87, 'haiku', NOW(), 'https://stackoverflow.com/questions/31746182/docker-compose-wait-for-container-x-before-starting-y', 'admin:1764255687'),
('depends_on not waiting until service fully started', 'docker', 'HIGH', '[{"solution": "Add waiting logic or healthcheck to ensure service is ready", "percentage": 90}, {"solution": "Implement wait script in entrypoint to retry connections", "percentage": 87}]'::jsonb, 'Database or dependency service available', 'Dependent services communicate successfully', 'depends_on waits for container start, not readiness', 0.88, 'haiku', NOW(), 'https://stackoverflow.com/questions/52699899/depends-on-doesnt-wait-for-another-service-in-docker-compose-1-22-0', 'admin:1764255687'),
('environment variable not set in container', 'docker', 'HIGH', '[{"solution": "Verify .env file exists in compose directory with variables defined", "percentage": 93}, {"solution": "Environment variables only available during service startup, not in build", "percentage": 91}, {"solution": "Use docker-compose up with --env-file flag if needed", "percentage": 87}]'::jsonb, '.env file or env-file option configured', 'Environment variables accessible in container', 'Setting vars after build, only in build context', 0.91, 'haiku', NOW(), 'https://stackoverflow.com/questions/74315381/docker-compose-environment-variable-is-not-set', 'admin:1764255687'),
('environment variables not setting docker-compose', 'docker', 'HIGH', '[{"solution": "Check environment list format in compose - should be key=value pairs", "percentage": 94}, {"solution": "Verify .env file is in compose directory and properly formatted", "percentage": 92}]'::jsonb, 'Shell environment or .env file valid', 'Environment variables visible in container', 'Wrong environment list syntax, .env not found', 0.93, 'haiku', NOW(), 'https://stackoverflow.com/questions/33107164/docker-compose-not-setting-environment-variables', 'admin:1764255687'),
('volumes not mounting to host directories', 'docker', 'HIGH', '[{"solution": "Ensure host path exists and is readable/writable by container user", "percentage": 90}, {"solution": "Use absolute paths for volume mounts, not relative", "percentage": 88}]'::jsonb, 'Host directory exists and accessible', 'Files visible in container and on host', 'Host path missing or wrong permissions', 0.89, 'haiku', NOW(), 'https://stackoverflow.com/questions/40157756/docker-compose-volumes-not-mounting-to-host-directories', 'admin:1764255687'),
('failed to mount volumes permission error', 'docker', 'MEDIUM', '[{"solution": "Check volume syntax: o:bind is invalid, use proper Docker options", "percentage": 95}, {"solution": "Ensure container user has permission to host directory", "percentage": 92}]'::jsonb, 'Host directory exists, container running', 'Volume mounted and accessible', 'Invalid volume options, permission denied', 0.93, 'haiku', NOW(), 'https://stackoverflow.com/questions/60848591/docker-compose-up-failed-to-mount-volumes', 'admin:1764255687'),
('mounting volume error no such file or directory', 'docker', 'MEDIUM', '[{"solution": "Remove invalid volume options like o:bind - use docker syntax", "percentage": 96}, {"solution": "Verify host path exists before specifying in volumes", "percentage": 94}]'::jsonb, 'Host path accessible', 'Volume mounts in container', 'Invalid volume option syntax, host path missing', 0.95, 'haiku', NOW(), 'https://stackoverflow.com/questions/50265014/docker-compose-mounting-volume-error-no-such-file-or-directory', 'admin:1764255687'),
('failed to mount local volume path', 'docker', 'MEDIUM', '[{"solution": "Ensure volume source path exists and has correct permissions", "percentage": 93}, {"solution": "Use docker volume create or let Docker create named volume", "percentage": 91}]'::jsonb, 'Volume target path valid', 'Mount succeeds without errors', 'Source path doesn''t exist, permission denied', 0.92, 'haiku', NOW(), 'https://stackoverflow.com/questions/71360818/failed-to-mount-local-volume', 'admin:1764255687'),
('elasticsearch healthcheck failing docker-compose', 'docker', 'MEDIUM', '[{"solution": "Add startup probe or initial delay to healthcheck", "percentage": 87}, {"solution": "Elasticsearch takes time to start - increase timeout and interval", "percentage": 85}]'::jsonb, 'Elasticsearch running, port open', 'Healthcheck passes within timeout', 'Healthcheck timeout too short for startup', 0.86, 'haiku', NOW(), 'https://stackoverflow.com/questions/68202592/elasticsearch-healthcheck-on-docker-compose-failing', 'admin:1764255687'),
('mongodb healthcheck always fail docker-compose', 'docker', 'MEDIUM', '[{"solution": "Update compose version to 3+ and use proper healthcheck syntax", "percentage": 92}, {"solution": "Add delay before first healthcheck - MongoDB needs startup time", "percentage": 89}]'::jsonb, 'MongoDB container running', 'Healthcheck passes and service becomes healthy', 'Old compose version syntax, healthcheck runs too early', 0.90, 'haiku', NOW(), 'https://stackoverflow.com/questions/54384042/why-does-the-docker-compose-healthcheck-of-my-mongo-container-always-fail', 'admin:1764255687'),
('invalid interpolation format environment option', 'docker', 'HIGH', '[{"solution": "In docker-compose 2.7+, use ${VAR} syntax for variable substitution", "percentage": 94}, {"solution": "Values in .env files are expanded - escape special characters if needed", "percentage": 91}, {"solution": "Use $$VAR to escape dollar sign when literal $ needed", "percentage": 89}]'::jsonb, '.env file with valid variable syntax', 'docker-compose config succeeds without interpolation errors', 'Using unsupported variable syntax, unescaped special chars', 0.91, 'haiku', NOW(), 'https://stackoverflow.com/questions/49897503/docker-compose-invalid-interpolation-format-for-environment-option-in-service', 'admin:1764255687'),
('yaml parser error while parsing block mapping', 'docker', 'HIGH', '[{"solution": "Validate YAML on yaml-online-parser.appspot.com", "percentage": 93}, {"solution": "Check line endings are LF not CRLF", "percentage": 91}, {"solution": "Ensure consistent indentation - 2 spaces, no tabs", "percentage": 90}]'::jsonb, 'Text editor with YAML support', 'docker-compose config validates successfully', 'Mixed line endings, inconsistent indentation', 0.91, 'haiku', NOW(), 'https://stackoverflow.com/questions/59078627/yaml-parser-parsererror-while-parsing-a-block-mapping-line-1-column-1', 'admin:1764255687'),
('docker-compose yaml wont parse syntax error', 'docker', 'HIGH', '[{"solution": "Check indentation consistency - use online YAML parser to verify", "percentage": 94}, {"solution": "Open in editor that shows whitespace to spot tab/space issues", "percentage": 92}]'::jsonb, 'YAML validator tool available', 'docker-compose config parses without errors', 'Mixed tabs and spaces, wrong indentation depth', 0.93, 'haiku', NOW(), 'https://stackoverflow.com/questions/55541453/docker-compose-yaml-wont-parse', 'admin:1764255687'),
('compose file invalid version unsupported', 'docker', 'MEDIUM', '[{"solution": "Update compose version to supported one: 2.2, 3.3, 3.8+", "percentage": 96}, {"solution": "Use docker-compose config to see supported versions on system", "percentage": 94}]'::jsonb, 'Docker Compose latest version', 'docker-compose config succeeds', 'Using unsupported compose version, old Docker Compose', 0.95, 'haiku', NOW(), 'https://stackoverflow.com/questions/59684405/error-the-compose-file-docker-compose-yml-is-invalid', 'admin:1764255687');
