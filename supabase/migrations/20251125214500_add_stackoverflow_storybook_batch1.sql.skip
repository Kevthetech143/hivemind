-- Stack Overflow Storybook solutions batch 1
-- 12 highest-voted Storybook questions with accepted answers
-- Extracted: 2025-11-25

INSERT INTO knowledge_entries (
    query, category, hit_frequency, solutions, prerequisites, success_indicators,
    common_pitfalls, success_rate, claude_version, last_verified, source_url
) VALUES
(
    'Storybook Tailwind CSS integration - styling not applied',
    'stackoverflow-storybook',
    'HIGH',
    '[
        {"solution": "Install @storybook/addon-postcss: npm i -D @storybook/addon-postcss", "percentage": 95, "note": "Official Storybook approach for PostCSS"},
        {"solution": "Create postcss.config.js in project root with tailwindcss and autoprefixer plugins", "percentage": 93, "note": "Required for Tailwind directive processing"},
        {"solution": "Update .storybook/main.js to register addon-postcss with PostCSS implementation", "percentage": 92, "note": "Enable PostCSS loader in Storybook webpack"},
        {"solution": "Import CSS file in .storybook/preview.js: import \"../src/styles.css\"", "percentage": 91, "note": "Makes compiled Tailwind available to stories"}
    ]'::jsonb,
    'Create React App with Tailwind CSS already configured, Storybook initialized',
    'Tailwind utility classes render correctly in stories, Hot module reloading works, Built Storybook includes compiled styles',
    'PostCSS version mismatch with Tailwind v3 causes "Unknown word" errors. Missing CSS import results in unstyled components. Older configs use incorrect options structure (options vs postcssOptions).',
    0.93,
    'sonnet-4',
    NOW(),
    'https://stackoverflow.com/questions/65495912/storybook-tailwind-how-should-i-add-tailwind-to-storybook'
),
(
    'Storybook stories not loading - sidebar empty',
    'stackoverflow-storybook',
    'HIGH',
    '[
        {"solution": "Fix story pattern in .storybook/main.js: stories: [\"../src/**/*.stories.@(js|jsx|ts|tsx)\"]", "percentage": 94, "note": "Regex @(js|jsx|ts|tsx) properly matches all file extensions"},
        {"solution": "Verify story files follow naming convention: ComponentName.stories.js(x|ts|tsx)", "percentage": 90, "note": "Storybook auto-discovers files matching this pattern"},
        {"solution": "Clear Storybook cache and restart dev server", "percentage": 85, "note": "Removes old build artifacts preventing discovery"},
        {"solution": "Check excludeStories regex is not accidentally filtering valid files", "percentage": 80, "note": "Verify exclusion patterns with actual file names"}
    ]'::jsonb,
    'Storybook v5.3+ installed, Story files following naming convention, .storybook/main.js present',
    'Stories appear in left sidebar, Story names render in preview panel, No import errors in console, Resaving files triggers updates',
    'Pattern mismatch with jsx? syntax excludes .js files. Storybook builds successfully despite broken stories causing silent failures. Cache issues prevent story discovery. Parent directories as story paths confuse tree structure.',
    0.92,
    'sonnet-4',
    NOW(),
    'https://stackoverflow.com/questions/61011265/how-to-troubleshoot-storybook-not-loading-stories'
),
(
    'React Router Link component error in Storybook - "should not use Link outside Router"',
    'stackoverflow-storybook',
    'HIGH',
    '[
        {"solution": "Wrap stories with MemoryRouter decorator in .storybook/preview.tsx: export const decorators = [(Story) => <MemoryRouter><Story /></MemoryRouter>]", "percentage": 94, "note": "Applies router context globally to all stories"},
        {"solution": "Use MemoryRouter with initialEntries prop: <MemoryRouter initialEntries={[\"/\"]}>", "percentage": 92, "note": "Required for proper route initialization"},
        {"solution": "Import from react-router-dom not react-router", "percentage": 90, "note": "Common mistake using wrong package"}
    ]'::jsonb,
    'react-router-dom installed, Storybook v5.3+',
    'Stories render without console errors, Link components display properly, Navigation hooks like useNavigate() function',
    'Importing from react-router instead of react-router-dom. Using deprecated addDecorator() in v7 instead of decorators array. Forgetting initialEntries prop on MemoryRouter.',
    0.93,
    'sonnet-4',
    NOW(),
    'https://stackoverflow.com/questions/58909666/storybook-w-react-router-you-should-not-use-link-outside-router'
),
(
    'Storybook addon panels not visible - "No panels available" message',
    'stackoverflow-storybook',
    'MEDIUM',
    '[
        {"solution": "Press D key to toggle addon panel visibility, S to toggle sidebar, A to adjust orientation", "percentage": 88, "note": "Keyboard shortcuts built into Storybook UI"},
        {"solution": "Clear browser storage: execute sessionStorage.clear() in console and refresh", "percentage": 85, "note": "Fixes corrupted UI state"},
        {"solution": "Add showPanel configuration to .storybook/manager.js: addons.setConfig({ showPanel: true })", "percentage": 82, "note": "Persistent configuration approach"},
        {"solution": "Install missing addon dependencies: npm i -D @storybook/addons @storybook/addon-controls", "percentage": 78, "note": "Ensures all required packages present"}
    ]'::jsonb,
    'Proper .storybook/addons.js with addon registration, Required addon packages installed',
    'Addon panel visible at bottom or side with controls rendered and functional',
    'Panels hidden due to high browser zoom. Incorrect panel orientation causes off-screen rendering. Missing or corrupted localStorage/sessionStorage. Using Docs tab instead of Canvas (controls don\'t render in Docs).',
    0.84,
    'sonnet-4',
    NOW(),
    'https://stackoverflow.com/questions/49468813/panels-not-visible-in-react-storybook'
),
(
    'Storybook style-loader error - "this.getOptions is not a function"',
    'stackoverflow-storybook',
    'MEDIUM',
    '[
        {"solution": "Downgrade to Webpack 4-compatible versions: npm i style-loader@2.0.0 css-loader@5.2.7 sass-loader@10.1.1", "percentage": 95, "note": "Fixes incompatibility with Webpack 4"},
        {"solution": "Use yarn add -D @storybook/preset-scss style-loader@2.0.0 sass css-loader@5.2.7", "percentage": 93, "note": "Includes preset for SCSS support"},
        {"solution": "Restart dev server after downgrading all loaders: npm start", "percentage": 90, "note": "Server must rebundle with new versions"},
        {"solution": "Ensure all related loaders (style, css, sass) downgraded simultaneously", "percentage": 88, "note": "Partial updates leave version conflicts"}
    ]'::jsonb,
    'Storybook project with SCSS imports in components, Node.js and npm/yarn installed',
    'Build completes without getOptions error, SCSS files compile and styles load, No console warnings about loader versions',
    'Installing latest major versions without checking Webpack compatibility. Forgetting to restart server after downgrade. Attempting fixes without downgrading all loaders simultaneously.',
    0.94,
    'sonnet-4',
    NOW(),
    'https://stackoverflow.com/questions/68580273/type-error-this-getoptions-is-not-a-function-for-style-loader'
),
(
    'Jest "require.requireActual is not a function" with Storybook addon-storyshots',
    'stackoverflow-storybook',
    'MEDIUM',
    '[
        {"solution": "Upgrade Storybook to v6.0.0-beta.3+ which includes Jest v26 support", "percentage": 92, "note": "Official fix for deprecated API removal"},
        {"solution": "Downgrade Jest to version 25.5 or earlier as temporary workaround", "percentage": 75, "note": "Quick fix but not recommended for long-term"},
        {"solution": "Verify Storybook and Jest versions are compatible via release notes", "percentage": 85, "note": "Check compatibility matrix before updating"}
    ]'::jsonb,
    'Node.js with Jest and Storybook installed, Understanding of package version management',
    'Test suite runs without requireActual error, Storyshots snapshot tests execute successfully, Jest and Storybook versions align',
    'Assuming error originates in own code when it\'s actually in Storybook dependencies. Mixing incompatible versions without checking compatibility. Not verifying beta versions fully resolve issues.',
    0.89,
    'sonnet-4',
    NOW(),
    'https://stackoverflow.com/questions/61706963/typeerror-require-requireactual-is-not-a-function'
),
(
    'Storybook path aliases not resolving - @components, @api imports fail',
    'stackoverflow-storybook',
    'MEDIUM',
    '[
        {"solution": "Add webpack alias resolution to .storybook/main.js using config.resolve.alias with correct relative paths (../)", "percentage": 94, "note": "Storybook config has different relative positioning than root"},
        {"solution": "Use TsconfigPathsPlugin: new TsconfigPathsPlugin() in config.resolve.plugins", "percentage": 91, "note": "Automatically reads tsconfig.json paths"},
        {"solution": "For Vite: add vite-tsconfig-paths plugin in viteFinal config option", "percentage": 88, "note": "Vite-specific implementation"},
        {"solution": "Ensure all existing config.resolve.plugins preserved when adding new ones", "percentage": 85, "note": "Spreading prevents overwriting other plugins"}
    ]'::jsonb,
    'React/TypeScript project with path aliases in webpack.config.js and tsconfig.json, Storybook 6.1.20+, Webpack 5.24.2+ or Vite builder',
    'Imports using aliases resolve without crashes, Storybook builds successfully, Components render properly, No module resolution errors',
    'Wrong relative paths in Storybook config (forgetting ../ prefix). Missing plugin spread overwrites other resolvers. Failing to declare builder type (webpack5). Incorrect Vite vs Webpack approach.',
    0.91,
    'sonnet-4',
    NOW(),
    'https://stackoverflow.com/questions/66444895/how-to-resolve-aliases-in-storybook'
),
(
    'Storybook controls - hide specific control per story',
    'stackoverflow-storybook',
    'MEDIUM',
    '[
        {"solution": "Disable control only (keep documentation): argTypes={{ tooltip: { control: false } }}", "percentage": 93, "note": "Recommended for selective hiding"},
        {"solution": "Disable both control and documentation: argTypes={{ tooltip: { table: { disable: true } } }}", "percentage": 91, "note": "Complete removal approach"},
        {"solution": "Apply settings at story level in metadata, not globally", "percentage": 88, "note": "Granular control per story"}
    ]'::jsonb,
    'Storybook project with MDX or component story format, Understanding of argTypes configuration',
    'Specified control no longer appears in Controls panel, Other controls remain visible, Documentation displays appropriately, Component renders correctly',
    'Confusing control: false (hides input) with table: { disable: true } (hides both). Attempting CSS-based hiding instead of configuration. Applying settings globally when story-level control needed.',
    0.91,
    'sonnet-4',
    NOW(),
    'https://stackoverflow.com/questions/69061079/how-can-hide-storybook-control-per-story-arg'
),
(
    'Create React App with Storybook - babel-loader dependency conflict',
    'stackoverflow-storybook',
    'MEDIUM',
    '[
        {"solution": "Add resolutions field to package.json: \"resolutions\": { \"babel-loader\": \"8.1.0\" }", "percentage": 96, "note": "Yarn-specific solution, forces consistent version"},
        {"solution": "Run yarn install after adding resolutions to update yarn.lock", "percentage": 95, "note": "Must rebuild lock file with new constraint"},
        {"solution": "For npm users: use npm dedupe to resolve dependency tree", "percentage": 85, "note": "Alternative for npm package manager"},
        {"solution": "Avoid SKIP_PREFLIGHT_CHECK which masks the underlying issue", "percentage": 90, "note": "Band-aid solution, not recommended"}
    ]'::jsonb,
    'Yarn package manager (npm users need alternative), Create React App with TypeScript, Storybook initialized via npx sb init',
    'yarn build completes without dependency tree errors, No preflight check warnings, Storybook and build both function normally',
    'Using SKIP_PREFLIGHT_CHECK masks real issue. Manually installing babel-loader violates CRA design. Specifying wrong version (use CRA requirement, not Storybook). Running only npm i without npm dedupe.',
    0.95,
    'sonnet-4',
    NOW(),
    'https://stackoverflow.com/questions/65280848/yarn-build-babel-loader-issues-with-storybook'
),
(
    'Storybook v6 dynamically update args on component action',
    'stackoverflow-storybook',
    'MEDIUM',
    '[
        {"solution": "Import useArgs hook: import { useArgs } from \"@storybook/preview-api\" (v7+) or \"@storybook/client-api\"", "percentage": 92, "note": "API path varies by Storybook version"},
        {"solution": "Call [args, updateArgs] = useArgs() in render function to get update mechanism", "percentage": 91, "note": "Must be inside render, not outside"},
        {"solution": "Create handler that calls updateArgs: const handleToggle = () => updateArgs({ value: !args.value })", "percentage": 89, "note": "Updates state immediately"},
        {"solution": "Pass handler to component instead of using automatic action binding", "percentage": 87, "note": "Gives manual control over updates"}
    ]'::jsonb,
    'Storybook v6 or higher, Understanding of component lifecycle, Knowledge of Storybook args and controls',
    'Component visually updates when action fires, Args panel reflects state changes, No console errors, Toggle functionality works repeatedly',
    'Using outdated import paths (@storybook/addons instead of @storybook/preview-api). Calling useArgs outside render function. Args update but controls panel doesn\'t sync immediately. Creating unnecessary wrappers instead of using hook.',
    0.89,
    'sonnet-4',
    NOW(),
    'https://stackoverflow.com/questions/63708208/how-to-dynamically-mutate-args-in-storybook-v6-from-the-components-action'
),
(
    'Storybook "start-storybook: not found" command error',
    'stackoverflow-storybook',
    'MEDIUM',
    '[
        {"solution": "For Storybook v7+: update npm scripts to new command syntax: \"storybook\": \"sb dev\", \"build-storybook\": \"sb build\"", "percentage": 95, "note": "start-storybook command removed in v7.0.0-alpha.0"},
        {"solution": "For v6 and earlier: install CLI package: npm i -D @storybook/cli", "percentage": 93, "note": "Explicit CLI dependency required"},
        {"solution": "Reinstall dependencies: rm -rf node_modules && npm install", "percentage": 88, "note": "Fixes incomplete installation"},
        {"solution": "Verify running command from project root directory", "percentage": 85, "note": "Wrong working directory causes command lookup failure"}
    ]'::jsonb,
    'Node.js and npm/yarn installed, Storybook package in package.json, Proper project structure with node_modules',
    'Command executes without not found error, Storybook dev server starts at designated port, UI renders without additional errors',
    'Deleted node_modules without reinstalling. Using v7 scripts with outdated v6 command names. Running command outside project root. Storybook installed but CLI package missing.',
    0.92,
    'sonnet-4',
    NOW(),
    'https://stackoverflow.com/questions/48418007/error-running-storybook-sh-1-start-storybook-not-found'
),
(
    'Storybook build - Tailwind CSS classes not showing in production',
    'stackoverflow-storybook',
    'MEDIUM',
    '[
        {"solution": "Update tailwind.config.js content paths to include story files: \"./stories/**/*.{js,ts,jsx,tsx}\"", "percentage": 94, "note": "Ensures Tailwind scans story files for class usage"},
        {"solution": "Import CSS in .storybook/preview.js: import \"../src/index.css\" or direct Tailwind import", "percentage": 92, "note": "Makes compiled Tailwind available globally"},
        {"solution": "Verify @storybook/addon-postcss installed and postcss.config.js configured", "percentage": 90, "note": "Required for PostCSS processing"},
        {"solution": "Use newer content config syntax instead of deprecated purge option", "percentage": 88, "note": "Purge replaced by content in Tailwind v3"}
    ]'::jsonb,
    '@storybook/addon-postcss installed, postcss.config.js with Tailwind, Valid tailwind.config.js with content paths',
    'Tailwind classes display when running npm run storybook, Styled components appear in storybook-static, Hot reload works, No CSS warnings',
    'Incomplete content paths excludes Storybook files from purge/content. Missing CSS import in preview.js. Purge misconfiguration conflicts with newer content syntax. Variant extensions like disabled: require explicit configuration.',
    0.91,
    'sonnet-4',
    NOW(),
    'https://stackoverflow.com/questions/68020712/tailwind-css-classes-not-showing-in-storybook-build'
),
(
    'Storybook argTypes for nested object properties',
    'stackoverflow-storybook',
    'LOW',
    '[
        {"solution": "Use render() function with flattened argument names and reconstruct nested objects", "percentage": 92, "note": "Direct nested argTypes not supported"},
        {"solution": "Create custom argTypes with mapped names: myCustomArg control, then assign in render: props.axis.color = myCustomArg", "percentage": 90, "note": "Maps flat controls to nested structure"},
        {"solution": "Avoid attempting dot-notation in argTypes definition", "percentage": 88, "note": "Not supported, use flatten-reconstruct pattern"}
    ]'::jsonb,
    'Storybook v6.3.8+, Understanding of component prop structure, Access to story render/template function',
    'Individual controls appear for each nested property, Controls are interactive (dropdowns, text inputs), Component updates with control changes, Initial state reflects nested values',
    'Attempting to use nested argType definitions directly (not supported). Failing to reconstruct object in render function. Not mapping flattened argument names back to nested paths. Using dot-notation without corresponding render logic.',
    0.89,
    'sonnet-4',
    NOW(),
    'https://stackoverflow.com/questions/69220096/storybook-how-to-define-argtypes-for-properties-that-are-objects'
),
(
    'Storybook specify default page on startup',
    'stackoverflow-storybook',
    'LOW',
    '[
        {"solution": "Place desired story file first in stories array in .storybook/main.js", "percentage": 91, "note": "Import order determines default selection"},
        {"solution": "Example: stories: [\"../packages/intro.stories.mdx\", \"../packages/**/*.stories.mdx\"]", "percentage": 90, "note": "Specific file before glob pattern"},
        {"solution": "Restart Storybook dev server after changing configuration", "percentage": 88, "note": "Changes don\'t apply without restart"},
        {"solution": "Check storySort custom configuration doesn\'t override file order", "percentage": 82, "note": "Custom sorting may take precedence"}
    ]'::jsonb,
    'Storybook v6+ installed, Access to .storybook/main.js, Story files with .stories.mdx or .stories.jsx extensions',
    'Desired story loads automatically on startup, No manual URL parameters needed, Story selection persists across restarts',
    'Server restart required for changes (not applied without it). Mixed story formats confuse load order. Custom storySort configuration overrides file order precedence.',
    0.87,
    'sonnet-4',
    NOW(),
    'https://stackoverflow.com/questions/53724555/specify-default-page-for-storybook'
);
