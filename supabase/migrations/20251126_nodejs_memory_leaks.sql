INSERT INTO knowledge_entries (query, category, hit_frequency, solutions, prerequisites, success_indicators, common_pitfalls, success_rate, claude_version, last_verified, source_url, contributor_email) VALUES
('MaxListenersExceededWarning: Possible EventEmitter memory leak detected', 'nodejs', 'HIGH', '[{"solution": "Use emitter.setMaxListeners() to increase the limit: emitter.setMaxListeners(0) to disable limit", "percentage": 92}, {"solution": "Remove unused event listeners with emitter.removeListener(event, callback)", "percentage": 88}, {"solution": "Update npm to latest version to fix transitive dependency leaks", "percentage": 85}]'::jsonb, 'Node.js EventEmitter, npm', 'No MaxListenersExceeded warning', 'Forgetting to remove listeners when done, not updating npm packages', 0.88, 'haiku', NOW(), 'https://stackoverflow.com/questions/77411035/memory-leak-detected-nodejs', 'admin:1764194208'),
('FATAL ERROR: CALL_AND_RETRY_LAST Allocation failed - JavaScript heap out of memory', 'nodejs', 'CRITICAL', '[{"solution": "Increase Node.js heap size: node --max-old-space-size=4096 app.js", "percentage": 94}, {"solution": "Find memory leak using heap snapshots with --inspect flag", "percentage": 89}, {"solution": "Reduce cache size or implement cache eviction strategy", "percentage": 86}]'::jsonb, 'Node.js 6.0+, heap dump tools', 'Application runs without FATAL ERROR', 'Not monitoring long-term memory growth, ignoring early warnings', 0.91, 'haiku', NOW(), 'https://stackoverflow.com/questions/32627053/find-memory-leaks-in-nodejs-in-production', 'admin:1764194208'),
('Memory leak: global variable accumulation in closures', 'nodejs', 'HIGH', '[{"solution": "Null out large objects when no longer needed: variable = null", "percentage": 91}, {"solution": "Avoid storing large objects in closure scope unintentionally", "percentage": 87}, {"solution": "Use WeakMap for caches instead of regular Map to allow GC", "percentage": 84}]'::jsonb, 'JavaScript closures, GC concepts', 'No memory growth after GC cycle', 'Not understanding closure retention, circular references', 0.89, 'haiku', NOW(), 'https://stackoverflow.com/questions/19550253/memory-leaks-and-closures-in-javascript-when-and-why', 'admin:1764194208'),
('Memory continuously increases from 600MB to 3GB over 3 days in production', 'nodejs', 'CRITICAL', '[{"solution": "Use heapdump module and kill -USR2 signal to compare snapshots", "percentage": 90}, {"solution": "Enable --inspect flag and connect Chrome DevTools to analyze retaining paths", "percentage": 88}, {"solution": "Profile with node --heap-prof and analyze in Chrome DevTools", "percentage": 85}]'::jsonb, 'Production Node.js app, heapdump module', 'Memory stabilizes after fixing leak, snapshots show no growth', 'Not comparing multiple heap snapshots, assuming false positives', 0.87, 'haiku', NOW(), 'https://stackoverflow.com/questions/32627053/find-memory-leaks-in-nodejs-in-production', 'admin:1764194208'),
('Event listeners not removed causing accumulation: module.on(''event'', callback) in loops', 'nodejs', 'HIGH', '[{"solution": "Remove listeners before reattaching: emitter.removeListener(event, callback) or removeAllListeners()", "percentage": 93}, {"solution": "Use once() method for single-use listeners: emitter.once(event, callback)", "percentage": 89}, {"solution": "Track and manage listener lifecycle in module initialization", "percentage": 86}]'::jsonb, 'Node.js EventEmitter, callbacks', 'Consistent listener count, no warnings on reload', 'Adding listeners without cleanup, duplicate listener registration', 0.90, 'haiku', NOW(), 'https://stackoverflow.com/questions/77411035/memory-leak-detected-nodejs', 'admin:1764194208'),
('require() module repeated in loops without caching causes accumulation', 'nodejs', 'MEDIUM', '[{"solution": "Cache required module at module level instead of in loops", "percentage": 92}, {"solution": "Use a single require() at top of file and reuse the reference", "percentage": 90}, {"solution": "Monitor require() calls to avoid repeated parsing of same module", "percentage": 87}]'::jsonb, 'Node.js module system, require()', 'Memory stable despite repeated operations', 'Not understanding require() caching behavior, requiring in callbacks', 0.88, 'haiku', NOW(), 'https://stackoverflow.com/questions/30967391/memory-leak-with-nodejs', 'admin:1764194208'),
('Circular references in object graph preventing garbage collection', 'nodejs', 'MEDIUM', '[{"solution": "Break circular refs by setting one reference to null: obj.parent = null", "percentage": 89}, {"solution": "Use WeakMap for parent references to prevent GC blocking", "percentage": 86}, {"solution": "Redesign object hierarchy to avoid circular dependencies", "percentage": 83}]'::jsonb, 'JavaScript object model, GC algorithm', 'Heap snapshot shows no circular refs, memory freed after GC', 'Creating self-referential objects, complex linked structures', 0.85, 'haiku', NOW(), 'https://stackoverflow.com/questions/66473378/memory-leaks-in-node-js-how-to-analyze-allocation-tree-roots', 'admin:1764194208'),
('Data structure (array or object) grows unbounded without bounds check or cleanup', 'nodejs', 'HIGH', '[{"solution": "Implement max size limit with deletion of oldest entries: if (arr.length > 1000) arr.shift()", "percentage": 91}, {"solution": "Use LRU cache with automatic eviction: npm install lru-cache", "percentage": 88}, {"solution": "Clear accumulated data on timer intervals or explicit cleanup", "percentage": 85}]'::jsonb, 'Data structures, memory management', 'Array/object size remains bounded, no continuous growth', 'No size limits on caches, forgetting cleanup logic', 0.87, 'haiku', NOW(), 'https://stackoverflow.com/questions/30967391/memory-leak-with-nodejs', 'admin:1764194208'),
('Heap snapshot analysis: How to identify retained objects and GC roots', 'nodejs', 'MEDIUM', '[{"solution": "Use Chrome DevTools Memory tab with --inspect flag to view retaining paths", "percentage": 90}, {"solution": "Run node --heap-prof and load profile in Chrome DevTools to see allocation timeline", "percentage": 87}, {"solution": "Analyze detached DOM nodes and JavaScript object references in heap snapshot", "percentage": 84}]'::jsonb, 'Chrome DevTools, --inspect flag, heap profiling', 'Identified root cause of leak from snapshot analysis', 'Not understanding snapshot formats, ignoring retaining paths', 0.86, 'haiku', NOW(), 'https://stackoverflow.com/questions/66473378/memory-leaks-in-node-js-how-to-analyze-allocation-tree-roots', 'admin:1764194208'),
('setTimeout/setInterval callbacks creating closure references that prevent GC', 'nodejs', 'HIGH', '[{"solution": "Clear intervals with clearInterval() when timer is no longer needed", "percentage": 93}, {"solution": "Use clearTimeout() to cancel pending timeouts", "percentage": 91}, {"solution": "Avoid storing large objects in callback closure, pass by reference instead", "percentage": 88}]'::jsonb, 'JavaScript timers, callbacks, closures', 'No pending timeouts, intervals cleared properly, memory stable', 'Forgetting to clear timers, storing large closures in callbacks', 0.91, 'haiku', NOW(), 'https://stackoverflow.com/questions/10577704/detecting-memory-leaks-in-nodejs', 'admin:1764194208');
