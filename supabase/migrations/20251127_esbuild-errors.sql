INSERT INTO knowledge_entries (query, category, hit_frequency, solutions, prerequisites, success_indicators, common_pitfalls, success_rate, claude_version, last_verified, source_url, contributor_email) VALUES
('esbuild@npm couldn''t be built successfully postinstall EACCES permission denied', 'bundler', 'HIGH', '[{"solution": "Set executable bit manually: chmod +x node_modules/.store/@esbuild-linux-x64-npm-VERSION/package/bin/esbuild", "percentage": 95}, {"solution": "Use sudo yarn install to install with root access", "percentage": 85}, {"solution": "Change nodeLinker from pnpm to node-modules in yarnrc", "percentage": 80}]'::jsonb, 'Yarn 4.0+, esbuild 0.18+, node v20+', 'Build completes without EACCES errors', 'Not checking exact esbuild version in node_modules path, assuming same platform', 0.88, 'haiku', NOW(), 'https://stackoverflow.com/questions/77521525/esbuild-couldnt-be-built-successfully-using-node-v20-yarn-v4-nodelinker-pnpm', 'admin:1764226955'),
('cannot find esbuild AWS SAM build failed', 'bundler', 'HIGH', '[{"solution": "Move esbuild to non-dev dependency: npm install esbuild", "percentage": 95}, {"solution": "Install esbuild globally: npm install -g esbuild", "percentage": 90}]'::jsonb, 'AWS SAM CLI, Node.js 14+, esbuild installed', 'sam build completes successfully with no cannot find esbuild error', 'Installing esbuild as devDependency only, forgetting it''s needed at build time', 0.92, 'haiku', NOW(), 'https://stackoverflow.com/questions/72557584/aws-sam-esbuild-failed-cannot-find-esbuild', 'admin:1764226955'),
('Could not resolve "events" when bundling for browser', 'bundler', 'MEDIUM', '[{"solution": "Use esbuild-plugin-polyfill-node to provide node builtins: import { polyfillNode } from esbuild-plugin-polyfill-node", "percentage": 85}, {"solution": "Configure external dependencies: external: [''events'']", "percentage": 75}]'::jsonb, 'esbuild, browser target, CommonJS dependencies', 'Bundle completes with events module resolved', 'Using --platform=node flag which disables ESM features, not checking dependency source code', 0.82, 'haiku', NOW(), 'https://stackoverflow.com/questions/68860431/esbuild-cannot-resolve-the-node-js-module-events', 'admin:1764226955'),
('Could not resolve @platform/bar in monorepo Docker build', 'bundler', 'MEDIUM', '[{"solution": "Mark workspace dependencies as external: external: [''@platform/bar'', ''@platform/xyz'']", "percentage": 90}, {"solution": "Use resolveFrom: cwd in esbuild-plugin-copy", "percentage": 80}]'::jsonb, 'Yarn workspaces, Docker, monorepo structure', 'Docker build completes with workspace dependencies resolved', 'Not understanding workspace resolution differs in Docker, forgetting to mark internal dependencies external', 0.85, 'haiku', NOW(), 'https://stackoverflow.com/questions/75438651/esbuilld-could-not-resolve-package-error-when-building-from-docker', 'admin:1764226955'),
('Could not resolve "aws-sdk" with esbuild', 'bundler', 'HIGH', '[{"solution": "Add External property to SAM template metadata: External: [''@aws-sdk/client-*'']", "percentage": 92}, {"solution": "Delete .aws-sam/ cache folder before rebuilding", "percentage": 88}]'::jsonb, 'AWS SAM, esbuild, AWS SDK v3', 'sam build completes without aws-sdk resolution error', 'Installing aws-sdk as devDependency instead of marking as external, caching old node_modules', 0.90, 'haiku', NOW(), 'https://stackoverflow.com/questions/74115161/error-nodejsnpmesbuildbuilderesbuildbundle-esbuild-failed-x-error-could-n', 'admin:1764226955'),
('Could not resolve "./components" in Rails esbuild', 'bundler', 'MEDIUM', '[{"solution": "Ensure @hotwired/turbo-rails is installed: npm i @hotwired/turbo-rails", "percentage": 88}, {"solution": "Verify components folder exists and contains index.js", "percentage": 85}]'::jsonb, 'Rails 7+, esbuild, React', 'esbuild compiles without resolve errors for components folder', 'Missing turbo-rails dependency, wrong folder structure, case sensitivity in import paths', 0.83, 'haiku', NOW(), 'https://stackoverflow.com/questions/74904688/esbuild-throwing-error-could-not-resolve-import-statement-while-setting-up', 'admin:1764226955'),
('Vite esbuild expected ")" but found "as" TypeScript', 'typescript', 'MEDIUM', '[{"solution": "Change jsx setting in tsconfig.json from preserve to react: \"jsx\": \"react\"", "percentage": 91}, {"solution": "Set esbuild loader to tsx in vite.config.ts: loader: {''tsx'': ''tsx'', ''.ts'': ''tsx''}", "percentage": 87}]'::jsonb, 'Vite, esbuild, TypeScript 5.0+, React', 'JSX compiles without syntax errors, type assertions work', 'Using preserve instead of react jsx setting, not configuring esbuild loader for tsx', 0.89, 'haiku', NOW(), 'https://stackoverflow.com/questions/75773036/having-issue-while-migrating-javascript-to-typescript-react-component', 'admin:1764226955'),
('Unexpected token "<" in JSX esbuild bundle', 'typescript', 'MEDIUM', '[{"solution": "Change tsconfig.json jsx from ''preserve'' to ''react''", "percentage": 93}, {"solution": "Update esbuild loader config: loader: {''tsx'': ''tsx''}", "percentage": 88}]'::jsonb, 'esbuild with React, TypeScript, CommonJS loader config', 'Bundle parses JSX correctly in browser without syntax error', 'Migrating from webpack without updating jsx setting, wrong loader configuration', 0.91, 'haiku', NOW(), 'https://stackoverflow.com/questions/74272083/typescript-esbuild-unexpected-token', 'admin:1764226955'),
('does not provide an export named ''default'' esbuild bundle', 'bundler', 'MEDIUM', '[{"solution": "Add format: ''esm'' to esbuild options to generate proper ES module exports", "percentage": 86}, {"solution": "Manually add export default at beginning of bundled file", "percentage": 70}]'::jsonb, 'esbuild bundled library, React components', 'Bundled JS file exports default, can be imported in consuming app', 'Bundling without specifying output format, forgetting to configure exports', 0.79, 'haiku', NOW(), 'https://stackoverflow.com/questions/69588884/typescript-react-esbuild-unable-to-build', 'admin:1764226955'),
('esbuild not tree-shaking AWS SDK commands', 'bundler', 'MEDIUM', '[{"solution": "Import directly from dist: import { S3Client } from ''@aws-sdk/client-s3/dist-es/S3Client.js''", "percentage": 91}, {"solution": "Set treeShaking: true with mainFields: [''module'', ''main'']", "percentage": 80}]'::jsonb, 'AWS SDK v3, esbuild with ESM, tree-shaking enabled', 'Bundle size significantly reduced (42kb vs 198kb example)', 'Importing from barrel exports with command injection, not using dist path', 0.84, 'haiku', NOW(), 'https://stackoverflow.com/questions/79169593/esbuild-not-tree-shaking-aws-sdk-comand-injected-client', 'admin:1764226955'),
('esbuild SCSS configuration without plugins', 'bundler', 'MEDIUM', '[{"solution": "Install esbuild-sass-plugin: npm i -D esbuild-sass-plugin postcss", "percentage": 89}, {"solution": "Configure plugins in esbuild config file", "percentage": 85}]'::jsonb, 'esbuild, SCSS, PostCSS, PurgeCSS', 'SCSS files bundle with CSS output, no style errors', 'Not installing required plugin dependencies, missing plugin configuration in esbuild.mjs', 0.87, 'haiku', NOW(), 'https://stackoverflow.com/questions/70325815/how-to-setup-custom-esbuild-with-scss-purgecss-liveserver', 'admin:1764226955'),
('Invalid option in build call watch in esbuild', 'bundler', 'HIGH', '[{"solution": "Use context API instead of build for watch: const ctx = await esbuild.context(); await ctx.watch()", "percentage": 93}, {"solution": "Downgrade esbuild below v0.16 for legacy watch option", "percentage": 75}]'::jsonb, 'esbuild 0.16+, Node.js 14+', 'esbuild watch mode runs without invalid option error', 'Using old watch: true syntax, not using context API for newer versions', 0.90, 'haiku', NOW(), 'https://stackoverflow.com/questions/75221520/invalid-option-in-build-call-watch', 'admin:1764226955'),
('copy is not a function esbuild-plugin-copy', 'bundler', 'LOW', '[{"solution": "Change import to destructured form: import { copy } from esbuild-plugin-copy", "percentage": 94}, {"solution": "Update esbuild-plugin-copy to latest version", "percentage": 88}]'::jsonb, 'esbuild-plugin-copy, Node.js, ESM imports', 'Plugin runs without is not a function error', 'Using default import instead of named import, plugin version mismatch', 0.92, 'haiku', NOW(), 'https://stackoverflow.com/questions/71218166/copy-plugin-for-esbuild-is-not-a-function', 'admin:1764226955'),
('Expected identifier but found import esbuild 0.24.1', 'bundler', 'MEDIUM', '[{"solution": "Override esbuild version in pnpm: add pnpm.overrides.esbuild to 0.24.0 in package.json", "percentage": 92}, {"solution": "Downgrade esbuild from 0.24.1 to 0.24.0", "percentage": 89}]'::jsonb, 'esbuild 0.24.1, pnpm workspaces, tsup', 'Build completes without import.meta.url parsing error', 'Allowing pnpm to auto-update esbuild, not pinning version with override', 0.88, 'haiku', NOW(), 'https://stackoverflow.com/questions/79296652/updating-esbuild-from-0-24-0-to-0-24-1-throws-strange-errors', 'admin:1764226955'),
('[plugin:vite:esbuild] The service is no longer running', 'bundler', 'MEDIUM', '[{"solution": "Replace @vitejs/plugin-react-swc with @vitejs/plugin-react in vite.config", "percentage": 90}, {"solution": "Install all @swc/core platform variants with --force flag", "percentage": 85}]'::jsonb, 'Vite, TailwindCSS v4, React, esbuild', 'npm run dev starts without service crash', 'Using PostCSS plugin with TailwindCSS v4, missing platform-specific SWC packages', 0.85, 'haiku', NOW(), 'https://stackoverflow.com/questions/79429572/whenever-i-run-my-react-vite-it-says-pluginviteesbuild-the-service-is-no-lon', 'admin:1764226955'),
('Could not resolve absolute path in Angular esbuild', 'bundler', 'MEDIUM', '[{"solution": "Add stylePreprocessorOptions to angular.json: stylePreprocessorOptions: { includePaths: [''''] }", "percentage": 89}, {"solution": "Remove tilde prefix and use relative paths to assets", "percentage": 82}]'::jsonb, 'Angular 16+, nx workspace, SCSS, esbuild', 'Assets resolve without tilde prefix errors, build completes', 'Using ~ prefix without configuring includePaths, wrong asset path structure', 0.84, 'haiku', NOW(), 'https://stackoverflow.com/questions/76243406/angular-browser-esbuild-error-could-not-resolve-absolute-path-plugin-angular-c', 'admin:1764226955'),
('jQuery is not defined in esbuild bundled modules', 'bundler', 'MEDIUM', '[{"solution": "Use ProvidePlugin equivalent: configure globals in esbuild, or use jquery-ui-dist instead of jquery-ui", "percentage": 87}, {"solution": "Set window.jQuery before importing jQuery-dependent plugins", "percentage": 81}]'::jsonb, 'esbuild, jQuery, jQuery UI, Phoenix/Rails', 'jQuery plugins load without reference error', 'Not globalizing jQuery before dependent plugin imports, wrong jQuery package version', 0.83, 'haiku', NOW(), 'https://stackoverflow.com/questions/70250317/esbuild-in-phoenix-jquery', 'admin:1764226955'),
('i.default.info is not a function hybrid ESM/CJS module', 'bundler', 'LOW', '[{"solution": "Check tsconfig moduleResolution: set to bundler or node16 for proper ESM interop", "percentage": 88}, {"solution": "Verify package.json type field matches module system, use named imports for CommonJS", "percentage": 84}]'::jsonb, 'esbuild with hybrid modules, TypeScript, CommonJS format', 'Module imports resolve correctly without default export type mismatch', 'Assuming automatic ESM/CJS interop without checking package.json type field', 0.81, 'haiku', NOW(), 'https://stackoverflow.com/questions/75690800/esbuild-cjs-not-working-when-importing-the-default-of-an-hybrid-module', 'admin:1764226955'),
('require() of ES Module not supported ERR_REQUIRE_ESM', 'bundler', 'HIGH', '[{"solution": "Use dynamic import for ESM: const module = await import(''esm-package'')", "percentage": 91}, {"solution": "Configure conditional exports in package.json with exports field", "percentage": 85}]'::jsonb, 'CommonJS project, ESM dependencies, Node.js 14+', 'ESM packages load via dynamic import without require error', 'Attempting direct require of ESM module, not using dynamic import or conditional exports', 0.89, 'haiku', NOW(), 'https://stackoverflow.com/questions/78024212/import-esm-libraries-into-commonjs-project-error-err-require-esm-require-of', 'admin:1764226955'),
('Vue component template option runtime compilation not supported', 'bundler', 'MEDIUM', '[{"solution": "Configure alias in esbuild: import directly from vue/dist/vue.esm-bundler.js or use esbuild-plugin-alias", "percentage": 89}, {"solution": "Import from: import { createApp } from ''vue/dist/vue.esm-bundler.js''", "percentage": 86}]'::jsonb, 'Vue 3, esbuild, Rails/SPA apps', 'Vue components render without template compilation error', 'Not using esm-bundler variant of Vue, missing alias configuration in esbuild', 0.87, 'haiku', NOW(), 'https://stackoverflow.com/questions/72889545/vue-js-3-with-esbuild-a', 'admin:1764226955');