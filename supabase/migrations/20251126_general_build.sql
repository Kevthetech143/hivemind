INSERT INTO knowledge_entries (query, category, hit_frequency, solutions, prerequisites, success_indicators, common_pitfalls, success_rate, claude_version, last_verified, source_url, contributor_email) VALUES
('Esbuild Failed: Could not resolve "@aws-sdk/lib-dynamodb"', 'general', 'HIGH', '[{"solution": "Install the correct package @aws-sdk/client-dynamodb instead of @aws-sdk/lib-dynamodb. Run: npm install @aws-sdk/client-dynamodb and update imports to use @aws-sdk/client-dynamodb in your TypeScript code.", "percentage": 95}, {"solution": "Clear node_modules and package-lock.json, then run npm install to resolve dependency conflicts.", "percentage": 85}]'::jsonb, 'Node.js/npm project with AWS Lambda, aws-cli SAM build configured', 'npm run build completes successfully without EsbuildBundle errors, import statement resolves without ERROR', 'Using wrong package name lib-dynamodb instead of client-dynamodb, stale package-lock.json not reflecting changes', 0.95, 'haiku', NOW(), 'https://stackoverflow.com/questions/74632611/node-cant-seem-to-import-aws-dynamodb-package-into-project', 'admin:1764191816'),
('Property AttributeType does not exist in CloudFormation DynamoDB template', 'general', 'HIGH', '[{"solution": "Delete the build folder and redeploy. CloudFormation may not detect changes to compiled YAML templates automatically. Clear build artifacts before redeployment: rm -rf build && aws cloudformation deploy...", "percentage": 90}, {"solution": "Ensure AttributeDefinitions use correct properties (AttributeName and AttributeType with values like S, N, B) and verify KeySchema references match defined attributes.", "percentage": 80}]'::jsonb, 'CloudFormation template for DynamoDB table, AWS CLI access', 'DynamoDB table deploys without CREATE_FAILED status, stack completes without rollback', 'Modified template without clearing build folder, stale compiled YAML preventing changes from applying, using incorrect property names', 0.90, 'haiku', NOW(), 'https://stackoverflow.com/questions/56140503/unsupported-property-attributetype-in-cloudformation-dynamo-db-deployment', 'admin:1764191816'),
('DynamoDB create-table error: Expected empty string, received empty string for AttributeName', 'general', 'HIGH', '[{"solution": "Remove spaces after comma-separated values in AWS CLI command. Change: AttributeName=orderId, AttributeType=S to: AttributeName=orderId,AttributeType=S. Also capitalize KeyType correctly (KeyType=HASH not keyType=HASH) and pluralize capacity units (ReadCapacityUnits not ReadCapacityUnit).", "percentage": 92}, {"solution": "Use JSON format instead of shorthand CLI syntax: aws dynamodb create-table --cli-input-json file://table-definition.json", "percentage": 75}]'::jsonb, 'AWS CLI configured with credentials, valid table design parameters', 'aws dynamodb create-table command executes without parse errors, table is created with ACTIVE status', 'Spaces in CLI parameters, incorrect capitalization of KeyType, missing Units suffix on capacity parameters, typos in attribute names', 0.92, 'haiku', NOW(), 'https://stackoverflow.com/questions/67188819/unable-to-create-dynamodb-table-from-aws-cli', 'admin:1764191816'),
('Property AttributeDefinitions is inconsistent with KeySchema and secondary indexes', 'general', 'HIGH', '[{"solution": "Remove all non-key attributes from AttributeDefinitions. Define only attributes used in KeySchema and secondary index keys. For example, if uuid is HASH and timestamp is RANGE, only define those two attributes. Remove pros, cons, comments, options, luaA, luaB, luaC from AttributeDefinitions.", "percentage": 93}, {"solution": "Verify no undefined attributes are referenced in secondary indexes (GlobalSecondaryIndexes or LocalSecondaryIndexes) - all referenced attributes must exist in AttributeDefinitions.", "percentage": 85}]'::jsonb, 'CloudFormation DynamoDB table template, understanding of primary and secondary keys', 'CloudFormation stack creates successfully without validation errors, DynamoDB table attributes match schema requirements', 'Defining non-key attributes in AttributeDefinitions, forgetting that DynamoDB is schemaless for non-key attributes, referencing undefined index attributes', 0.93, 'haiku', NOW(), 'https://stackoverflow.com/questions/51012300/creating-a-dynamodb-table-in-cloudformation-fails', 'admin:1764191816'),
('ResourceNotFoundException: Requested resource not found when accessing DynamoDB table', 'general', 'MEDIUM', '[{"solution": "Verify three prerequisites: 1) The table exists in the target DynamoDB instance (check with aws dynamodb describe-table --table-name <name>), 2) The table is in ACTIVE status (not CREATING), 3) Credentials and endpoint configuration are correct for your target region.", "percentage": 88}, {"solution": "For DynamoDB Local with Testcontainers and Dynalite, ensure Spring @Component beans creating tables are not lazily loaded in tests. Explicitly call or initialize the component that creates tables before attempting queries.", "percentage": 70}]'::jsonb, 'DynamoDB client configured with endpoint and credentials, table schema defined', 'DynamoDB operations (put, get, scan) execute without ResourceNotFoundException', 'Table not fully created before operations, wrong region in credentials, invalid endpoint URL, lazy-loaded Spring components not initializing tables in test environments', 0.88, 'haiku', NOW(), 'https://stackoverflow.com/questions/40192304/aws-dynamodb-resource-not-found-exception', 'admin:1764191816'),
('DynamoDB Local InternalFailure: unknown error, exception or failure (Service: AmazonDynamoDBv2; Status Code: 500)', 'general', 'HIGH', '[{"solution": "Use Docker to run DynamoDB Local instead of embedded JAR: docker run -p 8000:8000 amazon/dynamodb-local. This avoids platform-specific sqlite4java binary issues and port configuration problems with Jetty.", "percentage": 92}, {"solution": "If using embedded DynamoDB, manually configure DynamoDBProxyServer instead of relying on ServerRunner command-line parsing, which has bugs with -port parameter not applying correctly.", "percentage": 80}]'::jsonb, 'DynamoDB Local setup, Java SDK or Node.js SDK, test environment configuration', 'DynamoDB Local connections succeed (verify with ListTables), test database operations complete without InternalFailure errors', 'Jetty port not binding correctly due to CLI parsing bug, sqlite4java binary incompatibility on Mac OSX, using ServerRunner CLI which bypasses proper initialization', 0.92, 'haiku', NOW(), 'https://stackoverflow.com/questions/34137043/amazon-dynamodb-local-unknown-error-exception-or-failure', 'admin:1764191816'),
('CloudFormation DynamoDB deployment fails: too many attributes in KeySchema (only HASH and RANGE allowed)', 'general', 'MEDIUM', '[{"solution": "DynamoDB tables support exactly two key types: one HASH key (partition key) and optionally one RANGE key (sort key). If you need additional attributes, remove them from KeySchema and add them only to GlobalSecondaryIndexes if needed. Example: HASH=id, RANGE=sortKey only.", "percentage": 91}, {"solution": "If you require three or more key attributes, redesign your key structure using composite keys (e.g., store client_id and department_name as single composite attribute) or use GlobalSecondaryIndexes with different key combinations.", "percentage": 75}]'::jsonb, 'CloudFormation DynamoDB table definition, understanding of key schema constraints', 'CloudFormation stack deploys without validation errors, DynamoDB table created with proper HASH and optional RANGE key', 'Attempting to add 3+ attributes to KeySchema, confusing secondary index attributes with primary key requirements, adding non-key attributes to KeySchema', 0.91, 'haiku', NOW(), 'https://stackoverflow.com/questions/77051765/cloudformation-dynamodb-failure-to-deploy', 'admin:1764191816'),
('Drizzle ORM npm install fails: ERESOLVE could not resolve dependency conflict with React version', 'general', 'MEDIUM', '[{"solution": "Run npm update --save && npm update --save-dev to upgrade all dependencies to compatible versions, then npm install drizzle-orm. This resolves peer dependency conflicts between Drizzle, Next.js, and React versions.", "percentage": 87}, {"solution": "If updates don''t work, explicitly set compatible versions in package.json: drizzle-orm ^0.30.10, react ^18.3.1, react-dom ^18.3.1, then run npm install.", "percentage": 82}]'::jsonb, 'Node.js project with Next.js and React, npm/pnpm package manager', 'npm install completes without ERESOLVE errors, Drizzle ORM is available in node_modules, application builds successfully', 'Using incompatible Drizzle version with Next.js version, react peer dependency conflict with op-engineering packages, not updating dependencies before installing new packages', 0.87, 'haiku', NOW(), 'https://stackoverflow.com/questions/78412358/i-am-getting-an-error-when-install-the-drizzle-orm-npm-package-in-my-nextjs-14-a', 'admin:1764191816');
