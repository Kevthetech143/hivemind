-- Migration: React Errors Knowledge Base
-- Mined: 2025-11-27
-- Total entries: 35

INSERT INTO knowledge_entries (query, category, hit_frequency, solutions, prerequisites, success_indicators, common_pitfalls, success_rate, claude_version, last_verified, source_url, contributor_email) VALUES
('Invariant Violation: Objects are not valid as a React child', 'react', 'VERY_HIGH', '[{"solution": "Check if you''re rendering an object directly in JSX. Use .map() for arrays or access specific properties like object.property", "percentage": 95}, {"solution": "Convert Date objects to strings: new Date().toString() or use moment.js formatting", "percentage": 90}, {"solution": "For JSON objects, use JSON.stringify() only for debugging or restructure to render specific properties", "percentage": 85}]'::jsonb, 'JSX rendering fundamentals, JavaScript objects', 'Component renders without error, only strings/arrays/valid JSX children displayed', 'Rendering entire objects instead of properties, forgetting .map() for arrays, rendering Date objects directly', 0.93, 'haiku', NOW(), 'https://stackoverflow.com/questions/33117449/invariant-violation-objects-are-not-valid-as-a-react-child', 'admin:1764222995'),
('Promise error: Objects are not valid as a React child', 'react', 'HIGH', '[{"solution": "Use useState and useEffect to handle async data: setState when fetch completes", "percentage": 95}, {"solution": "Never call async function directly in render, use useEffect hook or componentDidMount", "percentage": 93}, {"solution": "Render promise result, not the promise itself: {data} not {fetchData()}", "percentage": 90}]'::jsonb, 'Async/await, useEffect, useState hooks', 'Data loads and renders without Promise errors', 'Rendering promises instead of their resolved values, calling async functions in render', 0.91, 'haiku', NOW(), 'https://stackoverflow.com/questions/37997893/promise-error-objects-are-not-valid-as-a-react-child', 'admin:1764222995'),
('Objects are not valid as React child with array response', 'react', 'HIGH', '[{"solution": "Array of objects must be mapped to JSX elements: arr.map(item => <Component key={item.id} data={item} />)", "percentage": 96}, {"solution": "Cannot render entire array directly. Use array.map() to transform each element", "percentage": 94}]'::jsonb, 'Array methods, JSX rendering, React components', 'Array data renders as list without errors', 'Trying to render array of objects directly, missing .map() transformation', 0.92, 'haiku', NOW(), 'https://stackoverflow.com/questions/52428879/objects-are-not-valid-as-a-react-child-if-you-meant-to-render-a-collection-of-c/69823461', 'admin:1764222995'),
('TypeError: Cannot render object as child without property access', 'react', 'MEDIUM', '[{"solution": "Access specific property from object: {data.name} instead of {data}", "percentage": 94}, {"solution": "Check if object has expected properties before rendering", "percentage": 88}]'::jsonb, 'Object destructuring, property access', 'Only strings rendered, no object errors', 'Missing property name in JSX, rendering whole object instead of property', 0.90, 'haiku', NOW(), 'https://stackoverflow.com/questions/41604539/objects-are-not-valid-as-a-react-child', 'admin:1764222995'),
('Cannot map over JSON object response', 'react', 'HIGH', '[{"solution": "API response is object, not array. Use response.data or response.items if array property exists", "percentage": 92}, {"solution": "Only arrays are iterable with .map(). Verify API returns array, not single object", "percentage": 91}]'::jsonb, 'Array vs object distinction, API responses', '.map() executes without errors', 'Trying to .map() over object instead of array', 0.89, 'haiku', NOW(), 'https://stackoverflow.com/questions/69987724/reactjs-error-objects-are-not-valid-as-a-react-child-found-object-promise/69987873', 'admin:1764222995'),
('Too many re-renders: React limits renders to prevent infinite loop', 'react', 'VERY_HIGH', '[{"solution": "Remove setState from render method. Use useEffect for side effects", "percentage": 97}, {"solution": "Wrap onClick handler in arrow function: onClick={() => setState(value)} not onClick={setState(value)}", "percentage": 95}]'::jsonb, 'React render lifecycle, event handlers, hooks', 'Component renders exactly once per state change', 'Calling setState in render, executing function immediately in onClick prop', 0.94, 'haiku', NOW(), 'https://stackoverflow.com/questions/55265604/uncaught-invariant-violation-too-many-re-renders-react-limits-the-number-of-re', 'admin:1764222995'),
('onClick calling setState directly causes infinite loop', 'react', 'HIGH', '[{"solution": "Use arrow function in onClick: onClick={() => setState(value)}", "percentage": 96}, {"solution": "Separate handler function: const handleClick = () => setState(val); then onClick={handleClick}", "percentage": 94}]'::jsonb, 'Event handler syntax, React hooks', 'Button clicks trigger setState once without infinite loop', 'Calling function directly in onClick: onClick={setState()} instead of onClick={() => setState()}', 0.93, 'haiku', NOW(), 'https://stackoverflow.com/questions/59304283/error-too-many-re-renders-react-limits-the-number-of-renders-to-prevent-an-in', 'admin:1764222995'),
('Fix too many re-renders errors in React', 'react', 'HIGH', '[{"solution": "Use useEffect for async operations and state updates", "percentage": 94}, {"solution": "Avoid manipulating state in component body outside of event handlers or effects", "percentage": 92}]'::jsonb, 'useEffect hook, event handlers', 'No re-render warnings in console', 'State manipulation in render method, async calls in render', 0.91, 'haiku', NOW(), 'https://stackoverflow.com/questions/74589770/how-to-fix-the-following-too-many-re-renders-error-in-react', 'admin:1764222995'),
('Invalid hook call: Hooks can only be called inside function component', 'react', 'VERY_HIGH', '[{"solution": "Move hooks from class component to functional component", "percentage": 95}, {"solution": "Cannot use hooks (useState, useEffect) in class components. Use state and lifecycle methods instead", "percentage": 94}]'::jsonb, 'Functional vs class components, React hooks', 'Hooks work without errors in functional component', 'Using hooks in class components, calling hooks conditionally', 0.92, 'haiku', NOW(), 'https://stackoverflow.com/questions/56663785/invalid-hook-call-hooks-can-only-be-called-inside-of-the-body-of-a-function-com', 'admin:1764222995'),
('Mismatching versions of React and ReactDOM', 'react', 'MEDIUM', '[{"solution": "Install matching versions: npm install react@latest react-dom@latest", "percentage": 90}, {"solution": "Check package.json versions match for react and react-dom", "percentage": 88}]'::jsonb, 'Package management, npm/yarn', 'No version mismatch warnings, hooks work', 'Different major versions of React and ReactDOM', 0.85, 'haiku', NOW(), 'https://stackoverflow.com/questions/70102436/unable-to-figure-out-cause-of-invalid-hook-call-react-error/70317107', 'admin:1764222995'),
('Breaking rules of hooks: conditional hook calls', 'react', 'HIGH', '[{"solution": "Never call hooks conditionally. Move condition outside hook", "percentage": 96}, {"solution": "Valid: if (x) { useEffect(...) } inside function. Invalid: useEffect if inside", "percentage": 92}]'::jsonb, 'React hooks rules, conditional logic', 'Hooks execute in consistent order every render', 'Calling hooks inside if/for statements', 0.90, 'haiku', NOW(), 'https://stackoverflow.com/questions/70410262/use-hook-in-function-result-in-invalid-hook-call', 'admin:1764222995'),
('Warning: Cannot update component while rendering different component', 'react', 'HIGH', '[{"solution": "Move state updates to useEffect instead of render body", "percentage": 94}, {"solution": "Use useEffect with proper dependencies instead of direct dispatch/setState in render", "percentage": 92}]'::jsonb, 'useEffect dependencies, component lifecycle', 'No warnings about component updates during render', 'Updating parent state from child render, redux dispatch in render', 0.89, 'haiku', NOW(), 'https://stackoverflow.com/questions/62336340/cannot-update-a-component-while-rendering-a-different-component-warning', 'admin:1764222995'),
('Cannot update component X while rendering component Y', 'react', 'HIGH', '[{"solution": "Wrap dispatch/setState in useEffect: useEffect(() => { dispatch(...) }, [])", "percentage": 95}, {"solution": "Defer state updates to after render completes using useEffect", "percentage": 93}]'::jsonb, 'useEffect timing, component hierarchy', 'No update warnings in console', 'Synchronous state updates during parent render', 0.90, 'haiku', NOW(), 'https://stackoverflow.com/questions/70556785/warning-cannot-update-a-component-x-while-rendering-a-different-y-component-to/70589600', 'admin:1764222995'),
('Rendering promises as JSX elements', 'react', 'MEDIUM', '[{"solution": "Async functions return promises, not JSX. Store result in state first", "percentage": 96}, {"solution": "Use async/await in useEffect, then setState with result", "percentage": 94}]'::jsonb, 'Promises, async/await, useEffect', 'Async data renders after fetch completes', 'Rendering function calls that return promises directly in JSX', 0.92, 'haiku', NOW(), 'https://stackoverflow.com/questions/47658765/objects-are-not-valid-as-a-react-child-found-object-promise', 'admin:1764222995'),
('Date objects cannot be rendered as children', 'react', 'MEDIUM', '[{"solution": "Convert to string: {new Date().toString()}", "percentage": 93}, {"solution": "Use moment or date formatting: {moment(date).format(''YYYY-MM-DD'')}", "percentage": 91}]'::jsonb, 'Date handling, string conversion', 'Dates display as formatted strings', 'Trying to render Date object directly', 0.90, 'haiku', NOW(), 'https://stackoverflow.com/questions/40161482/objects-are-not-valid-as-react-child', 'admin:1764222995'),
('Trying to stringify object for display', 'react', 'MEDIUM', '[{"solution": "For debugging: JSON.stringify(obj, null, 2)", "percentage": 95}, {"solution": "For production: access specific properties instead", "percentage": 93}]'::jsonb, 'JSON methods, object inspection', 'Object data displays as formatted string', 'Using stringify in production code, rendering entire state object', 0.88, 'haiku', NOW(), 'https://stackoverflow.com/questions/46955975/objects-are-not-valid-as-a-react-child', 'admin:1764222995'),
('Setting state directly in onClick handler', 'react', 'HIGH', '[{"solution": "Wrap in arrow function: onClick={() => setState(value)}", "percentage": 97}, {"solution": "Define handler outside JSX: const handler = () => setState(value); onClick={handler}", "percentage": 95}]'::jsonb, 'Event handler patterns, React state', 'onClick triggers state update once', 'Direct function reference in onClick prop', 0.94, 'haiku', NOW(), 'https://stackoverflow.com/questions/71840695/why-react-throws-too-many-re-renders-if-we-try-to-change-state-on-a-on-click', 'admin:1764222995'),
('Setting state variable to current value triggers re-render', 'react', 'MEDIUM', '[{"solution": "Use useEffect to defer state updates: useEffect(() => setState(val), [dep])", "percentage": 88}, {"solution": "Condition state changes: if (prev !== val) setState(val)", "percentage": 85}]'::jsonb, 'useEffect, state optimization, memoization', 'State updates only when value actually changes', 'Calling setState with same value in render body', 0.82, 'haiku', NOW(), 'https://stackoverflow.com/questions/76032398/too-many-re-renders-when-setting-a-state-variable-to-its-current-value', 'admin:1764222995'),
('Async component functions cause rendering errors', 'react', 'MEDIUM', '[{"solution": "Never make functional component async. Use useEffect for async operations", "percentage": 96}, {"solution": "Functional components must return JSX, not Promise", "percentage": 94}]'::jsonb, 'Async/await, component architecture', 'Synchronous component returns JSX immediately', 'Declaring component function as async', 0.93, 'haiku', NOW(), 'https://stackoverflow.com/questions/59013029/too-many-re-renders-with-react-hooks-and-redux/59013168', 'admin:1764222995'),
('useEffect async dependency and infinite loops', 'react', 'MEDIUM', '[{"solution": "useEffect callback must be synchronous. Create async function inside useEffect", "percentage": 95}, {"solution": "useEffect(() => { const async fn = async () => {...}; fn(); }, [deps])", "percentage": 93}]'::jsonb, 'useEffect hooks, async patterns', 'Async operations complete without infinite loops', 'Passing async function directly to useEffect', 0.91, 'haiku', NOW(), 'https://stackoverflow.com/questions/70104698/react-error-handling-usestate-how-to-reset-errors', 'admin:1764222995'),
('Multiple copies of React in same app', 'react', 'MEDIUM', '[{"solution": "Check npm ls react to find duplicates", "percentage": 89}, {"solution": "npm link ../app/node_modules/react to share React instance", "percentage": 86}]'::jsonb, 'Package management, monorepos, npm linking', 'Single React instance used by all packages', 'Using npm link without resolving React duplication', 0.84, 'haiku', NOW(), 'https://stackoverflow.com/questions/31111771/can-you-catch-all-errors-of-a-react-js-app-with-a-try-catch-block', 'admin:1764222995'),
('Error boundary implementation for error handling', 'react', 'MEDIUM', '[{"solution": "Create class component with componentDidCatch and getDerivedStateFromError", "percentage": 92}, {"solution": "Error Boundaries only catch render errors, not event handlers", "percentage": 88}]'::jsonb, 'Class components, error boundaries, lifecycle', 'Errors caught and displayed instead of crashing app', 'Using Error Boundary for async errors, using in functional components', 0.87, 'haiku', NOW(), 'https://stackoverflow.com/questions/40234855/capturing-react-errors-globally', 'admin:1764222995'),
('Undefined property access in components', 'react', 'MEDIUM', '[{"solution": "Use optional chaining: obj?.property instead of obj.property", "percentage": 94}, {"solution": "Use nullish coalescing: data?.name ?? ''No name''", "percentage": 92}]'::jsonb, 'Optional chaining, defensive coding', 'No undefined errors when accessing nested properties', 'Accessing properties without null checking', 0.90, 'haiku', NOW(), 'https://stackoverflow.com/questions/73216579/how-to-display-error-message-if-something-not-found-in-reactjs', 'admin:1764222995'),
('Async useEffect with cleanup function', 'react', 'MEDIUM', '[{"solution": "Return cleanup function from useEffect: return () => { cleanup logic }", "percentage": 91}, {"solution": "Prevent state updates after unmount: const isMounted = useRef(true)", "percentage": 88}]'::jsonb, 'useEffect cleanup, component lifecycle', 'No warnings about unmounted component state updates', 'Missing cleanup functions in useEffect', 0.87, 'haiku', NOW(), 'https://stackoverflow.com/questions/75718461/handling-errors-for-different-response-status-in-react', 'admin:1764222995'),
('Array index as key in lists causes re-render issues', 'react', 'HIGH', '[{"solution": "Use unique identifier: <li key={item.id}> not <li key={index}>", "percentage": 96}, {"solution": "Index as key breaks reconciliation when array order changes", "percentage": 94}]'::jsonb, 'React reconciliation, list rendering', 'List items maintain state correctly when reordered', 'Using array index as React key in .map()', 0.92, 'haiku', NOW(), 'https://stackoverflow.com/questions/51849734/how-to-find-out-where-the-error-is-coming-from-in-reactjs', 'admin:1764222995'),
('Component re-renders on every parent update', 'react', 'MEDIUM', '[{"solution": "Wrap with React.memo: export default memo(Component)", "percentage": 89}, {"solution": "Use useMemo for expensive computations: useMemo(() => compute(), [deps])", "percentage": 87}]'::jsonb, 'React.memo, useMemo, performance optimization', 'Component only re-renders when props change', 'Unnecessary re-renders from parent updates', 0.85, 'haiku', NOW(), 'https://stackoverflow.com/questions/70410262/use-hook-in-function-result-in-invalid-hook-call', 'admin:1764222995'),
('useCallback not memoizing event handlers', 'react', 'MEDIUM', '[{"solution": "Wrap handler with useCallback: const handler = useCallback(() => {...}, [deps])", "percentage": 90}, {"solution": "Include all dependencies in useCallback dependency array", "percentage": 88}]'::jsonb, 'useCallback hook, performance, closures', 'Event handler reference stays stable across re-renders', 'Forgetting useCallback for expensive handlers', 0.86, 'haiku', NOW(), 'https://stackoverflow.com/questions/70556785/warning-cannot-update-a-component-x-while-rendering-a-different-y-component-to/70589600', 'admin:1764222995'),
('useReducer for complex state management', 'react', 'MEDIUM', '[{"solution": "Use useReducer instead of multiple useState calls", "percentage": 88}, {"solution": "Define reducer function outside component to prevent re-creation", "percentage": 86}]'::jsonb, 'useReducer hook, state management', 'Complex state updates work without props drilling', 'Managing many useState calls, complex state logic', 0.84, 'haiku', NOW(), 'https://stackoverflow.com/questions/62336340/cannot-update-a-component-while-rendering-a-different-component-warning', 'admin:1764222995'),
('Conditional hooks breaking React rules', 'react', 'HIGH', '[{"solution": "Always call hooks at top level, never inside conditions", "percentage": 96}, {"solution": "Move condition outside hook or use conditional logic inside hook", "percentage": 94}]'::jsonb, 'React hooks rules, hook order', 'Hooks called in consistent order on every render', 'Calling hooks conditionally: if (x) useEffect(...)', 0.93, 'haiku', NOW(), 'https://stackoverflow.com/questions/60331304/next-js-with-typescript-invalid-hook-call-hooks-can-only-be-called-inside-of-t', 'admin:1764222995'),
('Calling custom hook outside function component', 'react', 'MEDIUM', '[{"solution": "Custom hooks must be called from functional components or other custom hooks", "percentage": 94}, {"solution": "Cannot call custom hooks from class components or regular functions", "percentage": 92}]'::jsonb, 'Custom hooks, component structure', 'Custom hook executes and returns expected values', 'Calling custom hook from class component or utility function', 0.90, 'haiku', NOW(), 'https://stackoverflow.com/questions/77973412/problem-with-hooks-and-components-error-invalid-hook-call', 'admin:1764222995'),
('useContext hook mismatch or missing provider', 'react', 'MEDIUM', '[{"solution": "Ensure component is wrapped with Provider: <Context.Provider value={...}>", "percentage": 95}, {"solution": "useContext must be inside Provider boundary", "percentage": 93}]'::jsonb, 'useContext, Context API, Provider pattern', 'Context value available in all child components', 'Using useContext outside of Provider, missing Provider wrapper', 0.91, 'haiku', NOW(), 'https://stackoverflow.com/questions/58395299/react-js-redux-hooks-invalid-hook-call', 'admin:1764222995'),
('onClick with async function not returning handler', 'react', 'HIGH', '[{"solution": "useEffect(() => { async fn() }, []) for initialization", "percentage": 92}, {"solution": "onClick={() => asyncFn()} for event-triggered async", "percentage": 90}]'::jsonb, 'Event handlers, async functions, useEffect', 'Async operations complete and state updates reflect result', 'Calling async function directly in onClick without wrapper', 0.88, 'haiku', NOW(), 'https://stackoverflow.com/questions/73099146/error-invalid-hook-call-hooks-can-only-be-called-inside-of-the-body-of-a-func/73099926', 'admin:1764222995'),
('React Native hooks in class component error', 'react', 'MEDIUM', '[{"solution": "Convert to functional component with hooks", "percentage": 96}, {"solution": "Use React.Component state and lifecycle methods instead", "percentage": 94}]'::jsonb, 'React Native, hooks, functional components', 'Component renders without invalid hook call error', 'Using hooks in React Native class components', 0.92, 'haiku', NOW(), 'https://stackoverflow.com/questions/79323663/why-am-i-receiving-invalid-hook-call', 'admin:1764222995'),
('Stale closure in useCallback dependencies', 'react', 'MEDIUM', '[{"solution": "Include all variables used in function in dependency array", "percentage": 91}, {"solution": "Use prevState in setState to avoid closure issues: setState(prev => ({...prev, key: val}))", "percentage": 89}]'::jsonb, 'Closures, dependency arrays, useCallback', 'useCallback memoization works with correct dependencies', 'Missing dependencies in useCallback, stale variables', 0.87, 'haiku', NOW(), 'https://stackoverflow.com/questions/36897434/error-handling-in-react-best-practices', 'admin:1764222995'),
('Form submission triggering page reload', 'react', 'MEDIUM', '[{"solution": "Call preventDefault(): e.preventDefault() in onSubmit handler", "percentage": 95}, {"solution": "Ensure form onSubmit uses arrow function not direct call", "percentage": 93}]'::jsonb, 'Form handling, event prevention', 'Form submits without page reload, data processes client-side', 'Missing preventDefault, wrong event handler', 0.91, 'haiku', NOW(), 'https://stackoverflow.com/questions/62694745/warning-cannot-update-a-component-while-rendering-a-different-component-reactj', 'admin:1764222995');
