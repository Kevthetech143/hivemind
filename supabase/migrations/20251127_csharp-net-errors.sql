BEGIN;

INSERT INTO knowledge_entries (query, category, hit_frequency, solutions, prerequisites, success_indicators, common_pitfalls, success_rate, claude_version, last_verified, source_url, contributor_email) VALUES
('NullReferenceException', 'csharp-dotnet', 'HIGH', '[{"solution": "Check if object is null before accessing: if (obj != null) { obj.Method(); }", "percentage": 95}, {"solution": "Use null-coalescing operator: obj?.Method()", "percentage": 90}]'::jsonb, '.NET Framework', 'No NullReferenceException thrown', 'Accessing members of null objects', 0.95, 'haiku', NOW(), 'https://stackoverflow.com/questions/4660142/what-is-a-nullreferenceexception-and-how-do-i-fix-it', 'admin:1764221358'),
('InvalidOperationException', 'csharp-dotnet', 'HIGH', '[{"solution": "Ensure operation is valid in current state before executing", "percentage": 88}, {"solution": "Check collection state before enumeration", "percentage": 85}]'::jsonb, '.NET Framework', 'Operation completes successfully', 'Calling methods in wrong state', 0.88, 'haiku', NOW(), 'https://stackoverflow.com/questions/16636374/why-is-this-code-throwing-an-invalidoperationexception', 'admin:1764221358'),
('ArgumentNullException', 'csharp-dotnet', 'HIGH', '[{"solution": "Validate parameters at method entry: if (param == null) throw new ArgumentNullException(nameof(param));", "percentage": 92}, {"solution": "Use ArgumentNullException.ThrowIfNull() in .NET 6+", "percentage": 90}]'::jsonb, '.NET Framework', 'Parameter validation passes', 'Not validating null parameters', 0.92, 'haiku', NOW(), 'https://stackoverflow.com/questions/368742/throwing-argumentnullexception', 'admin:1764221358'),
('CS0103', 'csharp-dotnet', 'HIGH', '[{"solution": "Define the missing variable or method in the current context", "percentage": 87}, {"solution": "Check spelling and ensure proper using statements are included", "percentage": 85}]'::jsonb, 'C# Compiler', 'Code compiles without CS0103 errors', 'Using undefined identifiers', 0.87, 'haiku', NOW(), 'https://stackoverflow.com/questions/18455442/compiler-error-message-cs0103-the-name-protecteddata-does-not-exist-in-the-c', 'admin:1764221358'),
('CS0246', 'csharp-dotnet', 'HIGH', '[{"solution": "Add appropriate using statements or reference the type with full namespace", "percentage": 89}, {"solution": "Ensure assembly reference is added to project", "percentage": 87}]'::jsonb, 'C# Compiler', 'Type resolved and accessible', 'Missing using statements or assembly references', 0.89, 'haiku', NOW(), 'https://stackoverflow.com/questions/11854308/why-am-i-getting-error-cs0246-the-type-or-namespace-name-could-not-be-found', 'admin:1764221358'),
('CS1061', 'csharp-dotnet', 'HIGH', '[{"solution": "Check class definition for the method, verify correct type", "percentage": 86}, {"solution": "Add using statements if method is in another namespace", "percentage": 84}]'::jsonb, 'C# Compiler', 'Method call compiles successfully', 'Calling undefined methods on types', 0.86, 'haiku', NOW(), 'https://stackoverflow.com/questions/71479657/how-to-port-teams-call-bot-sample-code-to-beta-api', 'admin:1764221358'),
('CS0029', 'csharp-dotnet', 'MEDIUM', '[{"solution": "Cast to appropriate type: (int)stringValue or use int.Parse()", "percentage": 91}, {"solution": "Use Convert.ToInt32() for type conversion", "percentage": 88}]'::jsonb, 'C# Compiler', 'Type conversion succeeds', 'Implicit type mismatch conversions', 0.91, 'haiku', NOW(), 'https://stackoverflow.com/questions/23055775/compiler-error-message-cs0029-cannot-implicitly-convert-type-int-to-string', 'admin:1764221358'),
('ObjectDisposedException', 'csharp-dotnet', 'MEDIUM', '[{"solution": "Check if object has been disposed before using: if (!obj.IsDisposed) { ... }", "percentage": 83}, {"solution": "Avoid using object after calling Dispose()", "percentage": 80}]'::jsonb, '.NET Framework', 'Object remains usable', 'Accessing disposed objects', 0.83, 'haiku', NOW(), 'https://stackoverflow.com/questions/4068726/system-objectdisposedexception', 'admin:1764221358'),
('async/await deadlock', 'csharp-dotnet', 'HIGH', '[{"solution": "Always use ConfigureAwait(false) in libraries, or ensure proper context", "percentage": 89}, {"solution": "Use Task.Run for CPU-bound work instead of blocking", "percentage": 86}]'::jsonb, 'Async/Threading', 'Async code executes without blocking', 'Blocking on async code in UI thread', 0.89, 'haiku', NOW(), 'https://stackoverflow.com/questions/14455293/how-and-when-to-use-async-and-await', 'admin:1764221358'),
('LINQ Select vs Where', 'csharp-dotnet', 'MEDIUM', '[{"solution": "Use Where() for filtering, Select() for transformation", "percentage": 85}, {"solution": "Chain methods in correct order: Where().Select()", "percentage": 83}]'::jsonb, 'LINQ', 'Query executes with correct results', 'Confusing LINQ method purposes', 0.85, 'haiku', NOW(), 'https://stackoverflow.com/questions/28011834/understanding-linq-select-and-where', 'admin:1764221358'),
('IEnumerable vs IEnumerator', 'csharp-dotnet', 'MEDIUM', '[{"solution": "IEnumerable represents sequence, IEnumerator is cursor for iteration", "percentage": 84}, {"solution": "Use GetEnumerator() to get IEnumerator from IEnumerable", "percentage": 82}]'::jsonb, '.NET Framework', 'Iteration logic works correctly', 'Mixing enumerable and enumerator concepts', 0.84, 'haiku', NOW(), 'https://stackoverflow.com/questions/8659868/difference-between-ienumerable-and-ienumerator', 'admin:1764221358'),
('Connection not open', 'csharp-dotnet', 'MEDIUM', '[{"solution": "Call connection.Open() before executing commands", "percentage": 90}, {"solution": "Use using statement for automatic connection management", "percentage": 88}]'::jsonb, 'ADO.NET', 'Database commands execute successfully', 'Not opening database connections', 0.90, 'haiku', NOW(), 'https://stackoverflow.com/questions/17251826/connection-not-open-net', 'admin:1764221358'),
('Generic type constraints', 'csharp-dotnet', 'LOW', '[{"solution": "Specify where clause in generic definition: where T : SomeBase", "percentage": 79}, {"solution": "Use where T : class or where T : struct for value/reference constraints", "percentage": 77}]'::jsonb, 'Generics', 'Generic types work with multiple constraints', 'Forgetting type constraints in generics', 0.79, 'haiku', NOW(), 'https://stackoverflow.com/questions/16522228/what-are-generic-type-constraints', 'admin:1764221358'),
('IDisposable pattern', 'csharp-dotnet', 'HIGH', '[{"solution": "Implement IDisposable and Dispose pattern properly", "percentage": 87}, {"solution": "Use using statement with IDisposable objects", "percentage": 85}]'::jsonb, '.NET Framework', 'Resource cleanup occurs properly', 'Not implementing IDisposable correctly', 0.87, 'haiku', NOW(), 'https://stackoverflow.com/questions/898828/how-to-implement-idisposable-correctly', 'admin:1764221358'),
('Collection was modified', 'csharp-dotnet', 'MEDIUM', '[{"solution": "Don''t modify collection while iterating: use foreach over copy or LINQ", "percentage": 91}, {"solution": "Copy collection before modifying during iteration", "percentage": 89}]'::jsonb, 'Collections', 'Iteration completes without exceptions', 'Modifying collection during enumeration', 0.91, 'haiku', NOW(), 'https://stackoverflow.com/questions/604831/collection-was-modified-enumeration-operation-may-not-execute', 'admin:1764221358'),
('CultureInfo formatting', 'csharp-dotnet', 'LOW', '[{"solution": "Specify culture info in formatting: string.Format(CultureInfo.InvariantCulture, ...)", "percentage": 81}, {"solution": "Use ToString() with format provider for culture-aware formatting", "percentage": 79}]'::jsonb, 'Globalization', 'Formatting works across cultures', 'Ignoring culture in number/date formatting', 0.81, 'haiku', NOW(), 'https://stackoverflow.com/questions/14362098/cultureinfo-formatting', 'admin:1764221358'),
('Abstract class vs Interface', 'csharp-dotnet', 'MEDIUM', '[{"solution": "Use interface for contracts, abstract class for shared implementation", "percentage": 86}, {"solution": "Interfaces define ''what'', abstract classes define ''how and what''", "percentage": 84}]'::jsonb, 'OOP Design', 'Inheritance hierarchy is maintainable', 'Choosing wrong abstraction type', 0.86, 'haiku', NOW(), 'https://stackoverflow.com/questions/479992/abstract-class-vs-interface-in-csharp', 'admin:1764221358'),
('Virtual vs Override', 'csharp-dotnet', 'MEDIUM', '[{"solution": "Mark method virtual in base, override in derived class", "percentage": 88}, {"solution": "Use new keyword only for hiding, not overriding", "percentage": 85}]'::jsonb, 'OOP Design', 'Polymorphism works correctly', 'Using new instead of override', 0.88, 'haiku', NOW(), 'https://stackoverflow.com/questions/6814297/virtual-vs-override-in-csharp', 'admin:1764221358'),
('Task.Result deadlock', 'csharp-dotnet', 'HIGH', '[{"solution": "Use await instead of Result: await task instead of task.Result", "percentage": 92}, {"solution": "Call ConfigureAwait(false) to avoid context capturing", "percentage": 90}]'::jsonb, 'Async/Threading', 'Async code runs without deadlock', 'Synchronously waiting on async code', 0.92, 'haiku', NOW(), 'https://stackoverflow.com/questions/11570250/task-result-deadlock', 'admin:1764221358'),
('Default interface members', 'csharp-dotnet', 'LOW', '[{"solution": "Use default keyword in interface to provide default implementation", "percentage": 75}, {"solution": "C# 8.0+ allows concrete methods in interfaces", "percentage": 73}]'::jsonb, 'C# 8.0+', 'Interface implementation is flexible', 'Not using default interface members', 0.75, 'haiku', NOW(), 'https://stackoverflow.com/questions/55550537/default-interface-members', 'admin:1764221358'),
('Null coalescing vs null conditional', 'csharp-dotnet', 'MEDIUM', '[{"solution": "?? for null value replacement, ?. for safe null access", "percentage": 87}, {"solution": "Combine: obj?.Property ?? defaultValue", "percentage": 85}]'::jsonb, 'C# Language', 'Null handling is safe and readable', 'Mixing operators for null handling', 0.87, 'haiku', NOW(), 'https://stackoverflow.com/questions/28631762/null-coalescing-vs-null-conditional', 'admin:1764221358'),
('Static constructor order', 'csharp-dotnet', 'LOW', '[{"solution": "Static fields initialized in declaration order", "percentage": 76}, {"solution": "Static constructor called before first use", "percentage": 74}]'::jsonb, 'C# Language', 'Static initialization works correctly', 'Assuming undefined initialization order', 0.76, 'haiku', NOW(), 'https://stackoverflow.com/questions/11711920/static-constructor-initialization-order', 'admin:1764221358'),
('KeyNotFoundException', 'csharp-dotnet', 'MEDIUM', '[{"solution": "Check key exists before accessing: if (dict.ContainsKey(key))", "percentage": 88}, {"solution": "Use TryGetValue(key, out value) for safe access", "percentage": 90}]'::jsonb, '.NET Framework', 'Dictionary access succeeds', 'Accessing missing dictionary keys', 0.88, 'haiku', NOW(), 'https://stackoverflow.com/questions/325461/keynotfoundexception', 'admin:1764221358'),
('Property vs Field', 'csharp-dotnet', 'MEDIUM', '[{"solution": "Use properties for controlled access, fields for internal data", "percentage": 85}, {"solution": "Properties enable validation, lazy loading, notifications", "percentage": 83}]'::jsonb, 'OOP Design', 'Encapsulation is maintained', 'Using public fields instead of properties', 0.85, 'haiku', NOW(), 'https://stackoverflow.com/questions/1568091/why-use-properties-instead-of-public-fields', 'admin:1764221358'),
('Boxing and unboxing', 'csharp-dotnet', 'MEDIUM', '[{"solution": "Avoid boxing value types: use generics instead of object", "percentage": 84}, {"solution": "Use List<T> instead of ArrayList", "percentage": 82}]'::jsonb, '.NET Framework', 'Performance is optimal', 'Unnecessary boxing of value types', 0.84, 'haiku', NOW(), 'https://stackoverflow.com/questions/13047030/boxing-and-unboxing-in-csharp', 'admin:1764221358'),
('IndexOutOfRangeException', 'csharp-dotnet', 'MEDIUM', '[{"solution": "Check array length before accessing: if (i < array.Length)", "percentage": 89}, {"solution": "Use TryGetValue or check bounds before indexing", "percentage": 87}]'::jsonb, '.NET Framework', 'Array access is safe', 'Not validating array indices', 0.89, 'haiku', NOW(), 'https://stackoverflow.com/questions/2169263/indexoutofrangeexception', 'admin:1764221358'),
('Ref vs Out parameters', 'csharp-dotnet', 'LOW', '[{"solution": "ref: both input and output, out: only output", "percentage": 81}, {"solution": "out parameter must be assigned before return", "percentage": 79}]'::jsonb, 'C# Language', 'Parameter passing works as intended', 'Confusing ref and out semantics', 0.81, 'haiku', NOW(), 'https://stackoverflow.com/questions/3350518/ref-vs-out-parameters', 'admin:1764221358'),
('Action vs Func', 'csharp-dotnet', 'MEDIUM', '[{"solution": "Action: delegates with no return, Func: delegates with return value", "percentage": 86}, {"solution": "Use lambdas for quick function definitions", "percentage": 84}]'::jsonb, 'Delegates', 'Delegate usage is correct', 'Choosing wrong delegate type', 0.86, 'haiku', NOW(), 'https://stackoverflow.com/questions/4317479/action-vs-func', 'admin:1764221358'),
('Dependency Injection', 'csharp-dotnet', 'MEDIUM', '[{"solution": "Use DI container: Autofac, Ninject, or built-in ServiceCollection", "percentage": 80}, {"solution": "Inject dependencies in constructor for testability", "percentage": 78}]'::jsonb, '.NET Framework', 'Dependencies are loosely coupled', 'Tight coupling through direct instantiation', 0.80, 'haiku', NOW(), 'https://stackoverflow.com/questions/130794/what-is-dependency-injection', 'admin:1764221358'),
('Entity Framework DbContext', 'csharp-dotnet', 'HIGH', '[{"solution": "Use using statement to ensure DbContext disposal", "percentage": 89}, {"solution": "Keep DbContext scope short to avoid tracking issues", "percentage": 87}]'::jsonb, 'Entity Framework', 'Database operations complete successfully', 'Not disposing DbContext properly', 0.89, 'haiku', NOW(), 'https://stackoverflow.com/questions/12150598/entity-framework-dbcontext', 'admin:1764221358'),
('Lazy<T> initialization', 'csharp-dotnet', 'LOW', '[{"solution": "Use Lazy<T> for expensive operations: Lazy<MyClass> lazy = new Lazy<MyClass>()", "percentage": 77}, {"solution": "Access via lazy.Value when needed", "percentage": 75}]'::jsonb, '.NET Framework', 'Lazy initialization works correctly', 'Not using Lazy<T> for expensive operations', 0.77, 'haiku', NOW(), 'https://stackoverflow.com/questions/11614221/lazy-initialization', 'admin:1764221358'),
('Thread safety', 'csharp-dotnet', 'HIGH', '[{"solution": "Use lock statement for critical sections", "percentage": 85}, {"solution": "Use ReaderWriterLockSlim for read-heavy scenarios", "percentage": 83}]'::jsonb, 'Threading', 'Concurrent access is safe', 'Not protecting shared state', 0.85, 'haiku', NOW(), 'https://stackoverflow.com/questions/1807566/is-list-thread-safe', 'admin:1764221358'),
('Yield return', 'csharp-dotnet', 'MEDIUM', '[{"solution": "Use yield return for lazy evaluation in IEnumerable", "percentage": 82}, {"solution": "Enables filtering and transformation without materializing", "percentage": 80}]'::jsonb, 'LINQ', 'Enumerables are evaluated lazily', 'Using foreach instead of yield return', 0.82, 'haiku', NOW(), 'https://stackoverflow.com/questions/1410656/yield-return', 'admin:1764221358'),
('Dynamic typing', 'csharp-dotnet', 'LOW', '[{"solution": "dynamic allows late binding: dynamic obj = GetDynamic()", "percentage": 70}, {"solution": "Check HasProperty() at runtime for dynamic objects", "percentage": 68}]'::jsonb, 'C# Language', 'Dynamic calls execute at runtime', 'Over-using dynamic types', 0.70, 'haiku', NOW(), 'https://stackoverflow.com/questions/12519702/what-is-dynamic-in-csharp', 'admin:1764221358'),
('StackOverflowException', 'csharp-dotnet', 'MEDIUM', '[{"solution": "Avoid infinite recursion: check base case before recursing", "percentage": 88}, {"solution": "Use iterative approach for deep recursion", "percentage": 86}]'::jsonb, '.NET Framework', 'Stack usage remains bounded', 'Infinite recursion without base case', 0.88, 'haiku', NOW(), 'https://stackoverflow.com/questions/3585388/stackoverflowexception', 'admin:1764221358'),
('Reflection performance', 'csharp-dotnet', 'LOW', '[{"solution": "Cache reflection results: MethodInfo via GetMethod() once", "percentage": 76}, {"solution": "Use delegates or expressions instead of repeated reflection", "percentage": 74}]'::jsonb, 'Reflection', 'Reflection calls execute quickly', 'Repeated reflection in hot paths', 0.76, 'haiku', NOW(), 'https://stackoverflow.com/questions/671033/reflection-performance', 'admin:1764221358'),
('Expression trees', 'csharp-dotnet', 'LOW', '[{"solution": "Build expressions for LINQ providers: Expression<Func<T, bool>>", "percentage": 72}, {"solution": "Compile expressions for repeated use", "percentage": 70}]'::jsonb, 'LINQ', 'Expression trees compile correctly', 'Not using expression trees for dynamic queries', 0.72, 'haiku', NOW(), 'https://stackoverflow.com/questions/5033547/expression-trees', 'admin:1764221358'),
('Type erasure generics', 'csharp-dotnet', 'LOW', '[{"solution": "Generic type info available at runtime in .NET (unlike Java)", "percentage": 75}, {"solution": "Use typeof(T) to get type info at runtime", "percentage": 73}]'::jsonb, 'Generics', 'Generic type information is available', 'Assuming type erasure like Java', 0.75, 'haiku', NOW(), 'https://stackoverflow.com/questions/9929637/type-erasure-in-csharp', 'admin:1764221358'),
('Covariance and contravariance', 'csharp-dotnet', 'LOW', '[{"solution": "out T for covariant (producers), in T for contravariant (consumers)", "percentage": 68}, {"solution": "IEnumerable<T> is covariant, Action<T> is contravariant", "percentage": 66}]'::jsonb, 'Generics', 'Generic variance works correctly', 'Not understanding variance in generics', 0.68, 'haiku', NOW(), 'https://stackoverflow.com/questions/8181435/covariance-and-contravariance', 'admin:1764221358'),
('Nullable<T>.HasValue', 'csharp-dotnet', 'MEDIUM', '[{"solution": "Always check HasValue before accessing nullable Value", "percentage": 90}, {"solution": "Use null coalescing: nullable ?? defaultValue", "percentage": 88}]'::jsonb, '.NET Framework', 'Nullable access is safe', 'Not checking HasValue before Value access', 0.90, 'haiku', NOW(), 'https://stackoverflow.com/questions/13840310/nullable-hasvalue', 'admin:1764221358'),
('Encoding issues', 'csharp-dotnet', 'MEDIUM', '[{"solution": "Specify encoding explicitly: Encoding.UTF8", "percentage": 85}, {"solution": "Avoid Encoding.Default which varies by system", "percentage": 83}]'::jsonb, 'I/O', 'Text encoding is consistent', 'Using system default encoding', 0.85, 'haiku', NOW(), 'https://stackoverflow.com/questions/15192291/encoding-in-csharp', 'admin:1764221358'),
('Sealed classes', 'csharp-dotnet', 'LOW', '[{"solution": "Mark class sealed when inheritance not intended", "percentage": 71}, {"solution": "Sealed improves performance and clarifies intent", "percentage": 69}]'::jsonb, 'OOP Design', 'Class inheritance is controlled', 'Not using sealed when appropriate', 0.71, 'haiku', NOW(), 'https://stackoverflow.com/questions/1220106/sealed-classes', 'admin:1764221358'),
('Method overloading', 'csharp-dotnet', 'MEDIUM', '[{"solution": "Overload methods with different parameter signatures", "percentage": 84}, {"solution": "Use optional parameters for similar methods", "percentage": 82}]'::jsonb, 'OOP Design', 'Method overloading resolves correctly', 'Creating too many overloads', 0.84, 'haiku', NOW(), 'https://stackoverflow.com/questions/7239656/method-overloading-in-csharp', 'admin:1764221358'),
('Struct vs Class', 'csharp-dotnet', 'MEDIUM', '[{"solution": "Struct for small value types, class for reference types", "percentage": 83}, {"solution": "Avoid mutable structs due to unexpected behavior", "percentage": 81}]'::jsonb, 'OOP Design', 'Type choice matches semantics', 'Using structs for complex data', 0.83, 'haiku', NOW(), 'https://stackoverflow.com/questions/13049/struct-vs-class', 'admin:1764221358'),
('Tuple unpacking', 'csharp-dotnet', 'LOW', '[{"solution": "C# 7.0+: (var x, var y) = getTuple()", "percentage": 78}, {"solution": "Named tuples for clarity: (int x, int y)", "percentage": 76}]'::jsonb, 'C# 7.0+', 'Tuple unpacking works correctly', 'Not using modern tuple syntax', 0.78, 'haiku', NOW(), 'https://stackoverflow.com/questions/39825648/tuple-unpacking', 'admin:1764221358'),
('String interpolation', 'csharp-dotnet', 'MEDIUM', '[{"solution": "Use $-strings: $''Value is {value}''", "percentage": 86}, {"solution": "More readable than string.Format()", "percentage": 84}]'::jsonb, 'C# Language', 'String formatting is readable', 'Using outdated string.Format()', 0.86, 'haiku', NOW(), 'https://stackoverflow.com/questions/30299671/string-interpolation', 'admin:1764221358'),
('Pattern matching', 'csharp-dotnet', 'MEDIUM', '[{"solution": "C# 7.0+: switch expressions with patterns", "percentage": 79}, {"solution": "is operator with patterns for type checking", "percentage": 77}]'::jsonb, 'C# 7.0+', 'Pattern matching simplifies logic', 'Not using pattern matching', 0.79, 'haiku', NOW(), 'https://stackoverflow.com/questions/38936149/pattern-matching', 'admin:1764221358'),
('Record types', 'csharp-dotnet', 'LOW', '[{"solution": "C# 9.0+: record for immutable types", "percentage": 72}, {"solution": "Records provide value semantics and pattern matching", "percentage": 70}]'::jsonb, 'C# 9.0+', 'Immutable types work correctly', 'Not using record types', 0.72, 'haiku', NOW(), 'https://stackoverflow.com/questions/64816714/record-types', 'admin:1764221358'),
('Top-level statements', 'csharp-dotnet', 'LOW', '[{"solution": "C# 9.0+: skip Program class for simple apps", "percentage": 68}, {"solution": "Simpler console app structure", "percentage": 66}]'::jsonb, 'C# 9.0+', 'Top-level code runs correctly', 'Not using top-level statements', 0.68, 'haiku', NOW(), 'https://stackoverflow.com/questions/65124948/top-level-statements', 'admin:1764221358');

COMMIT;
