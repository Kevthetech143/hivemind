INSERT INTO knowledge_entries (query, category, hit_frequency, solutions, prerequisites, success_indicators, common_pitfalls, success_rate, claude_version, last_verified, source_url, contributor_email) VALUES
('Error starting container: Error response from daemon: invalid UTS mode: container', 'cicd', 'HIGH', '[{"solution": "Update Docker images to CircleCI cimg versions like cimg/postgres:15.2 instead of deprecated images", "percentage": 85}, {"solution": "Ensure UTS namespace is enabled in kernel", "percentage": 70}]'::jsonb, 'CircleCI 2.0 with Docker containers', 'Containers start successfully without UTS mode errors', 'Using old circleci/ images instead of cimg/ images', 0.82, 'haiku', NOW(), 'https://stackoverflow.com/questions/75750441', 'admin:1764225904'),
('ERROR: Could not open requirements file: No such file or directory: requirements.txt', 'cicd', 'HIGH', '[{"solution": "Create .circleci directory (not circleci/) with config.yml inside", "percentage": 95}, {"solution": "Ensure requirements.txt exists at project root", "percentage": 90}]'::jsonb, 'Python project with pip dependencies', 'Build succeeds and dependencies install', 'Using circleci/ instead of .circleci/ directory name', 0.93, 'haiku', NOW(), 'https://stackoverflow.com/questions/66121290', 'admin:1764225904'),
('Config does not conform to schema: matrix disallowed-key, name disallowed-key', 'cicd', 'MEDIUM', '[{"solution": "Use list format for matrix parameters instead of names parameter", "percentage": 88}, {"solution": "Check CircleCI 2.1 matrix syntax documentation", "percentage": 92}]'::jsonb, 'CircleCI 2.1 with matrix jobs', 'Workflow validates and jobs execute in matrix', 'Incorrect YAML matrix parameter syntax', 0.89, 'haiku', NOW(), 'https://stackoverflow.com/questions/72537531', 'admin:1764225904'),
('SyntaxError in test output but shell script marked as successful', 'cicd', 'MEDIUM', '[{"solution": "Add set -o pipefail to shell script to fail on errors", "percentage": 92}, {"solution": "Redirect errors to exit code for CircleCI to detect", "percentage": 85}]'::jsonb, 'CircleCI with shell script test steps', 'Build fails when test errors occur', 'Script completes without proper error propagation', 0.88, 'haiku', NOW(), 'https://stackoverflow.com/questions/57105794', 'admin:1764225904'),
('CircleCI fails the build if any command exits with non-zero exit code', 'cicd', 'HIGH', '[{"solution": "Ensure all commands in pipeline return exit code 0 on success", "percentage": 95}, {"solution": "Use pipefail to catch errors in middle of pipeline", "percentage": 93}]'::jsonb, 'CircleCI 2.0+', 'Build status matches command exit codes', 'Not understanding exit code conventions', 0.97, 'haiku', NOW(), 'https://stackoverflow.com/questions/35161269', 'admin:1764225904'),
('Node script throws error but CircleCI job shows successful', 'cicd', 'MEDIUM', '[{"solution": "Use process.exit(1) in catch block to signal failure to CircleCI", "percentage": 94}, {"solution": "Wrap async functions in error handlers that exit", "percentage": 88}]'::jsonb, 'Node.js scripts in CircleCI', 'CircleCI job fails when Node script throws', 'Not calling process.exit() in error handling', 0.91, 'haiku', NOW(), 'https://stackoverflow.com/questions/51966649', 'admin:1764225904'),
('Config does not conform to schema: workflows missing-required-key', 'cicd', 'MEDIUM', '[{"solution": "Add jobs section under workflows with list of job names", "percentage": 96}, {"solution": "Verify workflow syntax matches CircleCI 2.0 spec", "percentage": 94}]'::jsonb, 'CircleCI 2.0 workflows', 'Workflow schema validation passes', 'Missing jobs list in workflow definition', 0.95, 'haiku', NOW(), 'https://stackoverflow.com/questions/54281946', 'admin:1764225904'),
('Permission denied (publickey) - could not read from remote repository', 'cicd', 'HIGH', '[{"solution": "For new GitHub App integration: manually create and add SSH key without passphrase", "percentage": 90}, {"solution": "For legacy OAuth: ensure deploy key is added automatically or add user SSH key", "percentage": 88}]'::jsonb, 'CircleCI with GitHub integration', 'Git operations succeed with SSH auth', 'Incorrect GitHub-CircleCI integration type setup', 0.87, 'haiku', NOW(), 'https://stackoverflow.com/questions/77695485', 'admin:1764225904'),
('/bin/bash: docker: command not found', 'cicd', 'HIGH', '[{"solution": "Add setup_remote_docker step before docker commands", "percentage": 96}, {"solution": "Ensure using correct Docker executor or setup_remote_docker configuration", "percentage": 94}]'::jsonb, 'CircleCI with Docker commands', 'Docker commands execute successfully', 'Attempting to use docker without setup_remote_docker', 0.95, 'haiku', NOW(), 'https://stackoverflow.com/questions/76735158', 'admin:1764225904'),
('Cannot connect to Docker daemon at unix:///var/run/docker.sock', 'cicd', 'HIGH', '[{"solution": "Remove sudo from docker commands when using setup_remote_docker", "percentage": 97}, {"solution": "Use DOCKER_HOST environment variables set by setup_remote_docker", "percentage": 95}]'::jsonb, 'CircleCI with remote Docker setup', 'Docker commands work without socket errors', 'Using sudo with docker commands in CI environment', 0.96, 'haiku', NOW(), 'https://stackoverflow.com/questions/58462393', 'admin:1764225904'),
('ERROR 1396 (HY000): Operation CREATE USER failed for ''root''@''%''', 'cicd', 'MEDIUM', '[{"solution": "Use MYSQL_ROOT_PASSWORD instead of MYSQL_PASSWORD for root user", "percentage": 93}, {"solution": "Remove MYSQL_USER when using root as the user", "percentage": 91}]'::jsonb, 'CircleCI with MySQL Docker image', 'MySQL container initializes without user creation errors', 'Trying to recreate existing root user', 0.89, 'haiku', NOW(), 'https://stackoverflow.com/questions/60760684', 'admin:1764225904'),
('Meteor permission error: PERM error even with METEOR_ALLOW_SUPERUSER', 'cicd', 'MEDIUM', '[{"solution": "Set setup_remote_docker version to 19.03.13 for Node compatibility", "percentage": 88}, {"solution": "Update to Node 14.9.0 or later for Meteor 2.2", "percentage": 85}]'::jsonb, 'CircleCI with Meteor and setup_remote_docker', 'Meteor build completes without permission errors', 'Docker version incompatibility with NodeJS and Meteor', 0.84, 'haiku', NOW(), 'https://stackoverflow.com/questions/67505628', 'admin:1764225904'),
('Environment variable from AWS Parameter Store appears blank in config.yml', 'cicd', 'MEDIUM', '[{"solution": "Echo export command to $BASH_ENV file for variable persistence across steps", "percentage": 94}, {"solution": "Use source $BASH_ENV or ensure variable is exported in same step", "percentage": 89}]'::jsonb, 'CircleCI with AWS integration', 'Environment variables available across all steps', 'Variables not persisted between shell steps', 0.90, 'haiku', NOW(), 'https://stackoverflow.com/questions/54493369', 'admin:1764225904'),
('Bundler cache key mismatch: saving with different key than restoring', 'cicd', 'MEDIUM', '[{"solution": "Ensure Gemfile.lock is committed to git - hash changes trigger cache miss", "percentage": 92}, {"solution": "Run bundler locally to sync Gemfile.lock before pushing", "percentage": 88}]'::jsonb, 'CircleCI with Ruby bundler caching', 'Cache hits on subsequent builds', 'Gemfile.lock not committed or out of sync', 0.87, 'haiku', NOW(), 'https://stackoverflow.com/questions/63391700', 'admin:1764225904'),
('Docker credentials and secrets: how to pass without exposing in source control', 'cicd', 'HIGH', '[{"solution": "Use CircleCI project settings to add private environment variables", "percentage": 96}, {"solution": "Reference variables in config.yml as $DOCKER_PWD or similar", "percentage": 94}]'::jsonb, 'CircleCI with Docker Hub integration', 'Credentials available at build time without git exposure', 'Committing secrets to repository', 0.97, 'haiku', NOW(), 'https://stackoverflow.com/questions/54807587', 'admin:1764225904'),
('Job appears to have stopped responding / build fails after 10 minutes no output', 'cicd', 'HIGH', '[{"solution": "Add no_output_timeout: 20m to long-running steps", "percentage": 95}, {"solution": "Use timeout: 1800 modifier for commands exceeding 600 seconds", "percentage": 92}]'::jsonb, 'CircleCI with long-running jobs', 'Long-running tests complete without timeout', 'Default 10-minute no-output timeout too short', 0.94, 'haiku', NOW(), 'https://stackoverflow.com/questions/51077594', 'admin:1764225904'),
('no_output_timeout not taking effect on long npm install', 'cicd', 'MEDIUM', '[{"solution": "Use command: syntax with no_output_timeout on same level", "percentage": 93}, {"solution": "For v1.0 configs use timeout modifier with colon syntax", "percentage": 85}]'::jsonb, 'CircleCI 2.0 with npm dependencies', 'Long npm installs complete without timeout', 'Incorrect YAML indentation or syntax for timeout', 0.88, 'haiku', NOW(), 'https://stackoverflow.com/questions/36173553', 'admin:1764225904'),
('Got 3 SIGTERM/SIGINTs during build - job stops after 10 minutes inactivity', 'cicd', 'MEDIUM', '[{"solution": "Increase no_output_timeout to allow build to complete", "percentage": 89}, {"solution": "Optimize build process to output within 10 minute windows", "percentage": 82}]'::jsonb, 'CircleCI with React/webpack builds', 'Build completes with SIGTERM errors', 'Build taking too long without output messages', 0.85, 'haiku', NOW(), 'https://stackoverflow.com/questions/75398007', 'admin:1764225904'),
('How to get latest CircleCI orb version via CLI', 'cicd', 'LOW', '[{"solution": "Use command: circleci orb info circleci/node|grep -i latest|cut -d \\\"@\\\" -f 2", "percentage": 88}, {"solution": "Check CircleCI registry for specific orb version numbers", "percentage": 85}]'::jsonb, 'CircleCI CLI installed', 'Latest orb version identified', 'Manually checking registry instead of CLI query', 0.86, 'haiku', NOW(), 'https://stackoverflow.com/questions/72046155', 'admin:1764225904'),
('Orb usage error: how to add pre-steps and configure checkout parameter', 'cicd', 'MEDIUM', '[{"solution": "Use pre-steps section to run checkout and submodule init before orb job", "percentage": 91}, {"solution": "Set checkout: false to skip orb''s automatic checkout", "percentage": 89}]'::jsonb, 'CircleCI 2.1 with orbs', 'Custom checkout logic runs before orb steps', 'Incorrect orb job configuration syntax', 0.88, 'haiku', NOW(), 'https://stackoverflow.com/questions/55956832', 'admin:1764225904'),
('Git submodules with CircleCI private repository: permission denied', 'cicd', 'MEDIUM', '[{"solution": "Run git submodule init and git submodule update --remote in steps before orb", "percentage": 92}, {"solution": "Use User Key (not deploy key) for private submodule access", "percentage": 88}]'::jsonb, 'CircleCI with git submodules', 'Private submodules checkout successfully', 'Deploy key permissions insufficient for private repos', 0.89, 'haiku', NOW(), 'https://stackoverflow.com/questions/55956832', 'admin:1764225904'),
('[skip ci] not working - CircleCI still builds every push', 'cicd', 'LOW', '[{"solution": "Use [skip ci] in commit message to skip CircleCI builds", "percentage": 94}, {"solution": "Enable build PRs only setting in project settings to reduce builds", "percentage": 87}]'::jsonb, 'CircleCI 2.0+', 'Commits with [skip ci] do not trigger builds', 'Not using skip CI syntax or enabling PR-only builds', 0.92, 'haiku', NOW(), 'https://stackoverflow.com/questions/69557175', 'admin:1764225904'),
('GitHub pull request status checks not showing CircleCI results', 'cicd', 'MEDIUM', '[{"solution": "Unfollow and refollow project in CircleCI to rebuild webhooks", "percentage": 86}, {"solution": "Verify branch protection rules include CircleCI status context", "percentage": 89}]'::jsonb, 'CircleCI with GitHub integration', 'CircleCI status appears in PR checks before merge', 'Stale GitHub webhook configuration', 0.85, 'haiku', NOW(), 'https://stackoverflow.com/questions/50840167', 'admin:1764225904'),
('Git push with personal access token: ''The key you are authenticating with has been marked as read only''', 'cicd', 'MEDIUM', '[{"solution": "Use personal access token with repo scope in URL: https://${TOKEN}@github.com/user/repo.git", "percentage": 93}, {"solution": "Add git push -q flag to prevent token exposure in logs", "percentage": 90}]'::jsonb, 'CircleCI with GitHub authentication', 'Commits pushed to GitHub successfully with token auth', 'Using read-only token or incorrect GitHub integration', 0.91, 'haiku', NOW(), 'https://stackoverflow.com/questions/44773415', 'admin:1764225904'),
('SSH key permissions: which private key to add to CircleCI', 'cicd', 'LOW', '[{"solution": "Generate new SSH key pair locally with ssh-keygen -t ed25519", "percentage": 90}, {"solution": "Add private key to CircleCI settings, public key to server authorized_keys", "percentage": 92}]'::jsonb, 'CircleCI with SSH server access', 'SSH authentication to deploy servers succeeds', 'Using server-generated keys or incorrect key direction', 0.89, 'haiku', NOW(), 'https://stackoverflow.com/questions/71046708', 'admin:1764225904');
