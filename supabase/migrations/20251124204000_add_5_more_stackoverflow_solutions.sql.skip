-- Add 5 more verified Stack Overflow solutions

INSERT INTO knowledge_entries (query, category, solutions, common_pitfalls, success_rate, hit_frequency, claude_version, last_verified, thumbs_up)
VALUES
(
  'Claude Code error write EPIPE after working previously',
  'general',
  '[{"solution": "Remove corrupted history from .claude.json configuration file", "percentage": 100, "command": "rm ~/.claude/.claude.json or manually edit to remove history section", "note": "User confirmed \"it works\" after clearing history. Caused by asking Claude to convert HTML comments like <!-- ADD CODE HERE --> which broke parsing logic"}]'::jsonb,
  'Corrupted prompt history in .claude.json breaks the tool. HTML comments in history can corrupt parsing. Works fine in other directories, only breaks where corrupted history exists.',
  1.0,
  'LOW',
  'sonnet-4',
  NOW(),
  0
),
(
  'Unable to install Claude Code on Windows with WSL Ubuntu or AlmaLinux',
  'windows',
  '[{"solution": "Install Node.js and npm then restart WSL console", "percentage": 95, "command": "sudo apt update && sudo apt install nodejs npm -y", "note": "User confirmed \"Worked. Also needed to restart the wsl console...\". 12 upvotes on answer. May need additional permission fixes."}]'::jsonb,
  'WSL requires Node.js and npm installed before Claude Code can work. Must restart WSL console after installation. Some users hit follow-up permission errors requiring GitHub issue fixes.',
  0.95,
  'MEDIUM',
  'sonnet-4',
  NOW(),
  0
),
(
  'Cannot activate conda or mamba environment in Claude Code session',
  'general',
  '[{"solution": "Use micromamba run -n [env] [command] instead of activate", "percentage": 90, "command": "micromamba run -n py12 python script.py", "note": "User confirmed script generated output successfully. Activation within Claude session fails silently."}, {"solution": "Activate environment before launching Claude Code", "percentage": 85, "command": "micromamba activate py12 && claude", "note": "Pre-activate before starting session"}]'::jsonb,
  'Direct conda/mamba activation within active Claude Code sessions does not persist. Python remains unavailable despite activation command appearing to complete. Use micromamba run or pre-activate.',
  0.90,
  'MEDIUM',
  'sonnet-4',
  NOW(),
  0
),
(
  'Claude Code using hundreds of GB of HDD/SSD space on Mac',
  'general',
  '[{"solution": "Delete Chrome temp files from /private/var/folders/*/X/com.google.Chrome.code_sign_clone/", "percentage": 100, "command": "rm -rf /private/var/folders/c3/*/X/com.google.Chrome.code_sign_clone/*", "note": "User confirmed \"got back 200gb of space\". Chrome copies created during web scraping/testing never get deleted."}]'::jsonb,
  'Claude Code creates Chrome browser copies in temp directory during automation tasks but fails to clean them up. Can consume 100s of GB. Check /private/var/folders/*/X/ for code_sign_clone directories.',
  1.0,
  'LOW',
  'sonnet-4',
  NOW(),
  0
),
(
  'Claude Code truncates terminal output git diff not showing full results',
  'general',
  '[{"solution": "Enable verbose mode globally and use --verbose flag", "percentage": 95, "command": "claude config set -g verbose true && claude --verbose", "note": "User confirmed it worked: \"I tried this but it did not work before I also added the --verbose command line option!\". Requires both config setting AND flag."}]'::jsonb,
  'Terminal output gets truncated without verbose mode. CTRL+R removes color formatting making diffs unreadable. Config setting alone insufficient - must also use --verbose command-line flag.',
  0.95,
  'MEDIUM',
  'sonnet-4',
  NOW(),
  0
);
