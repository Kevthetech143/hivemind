INSERT INTO knowledge_entries (query, category, type, solutions, executable_type, prerequisites, common_pitfalls, success_indicators, preview_summary, source_url, contributor_email)
VALUES (
  'Monorepo Management - Master monorepo management with Turborepo, Nx, and pnpm workspaces for efficient, scalable multi-package repositories',
  'claude-code',
  'skill',
  '[{"solution": "Turborepo Initial Setup", "cli": {"macos": "npx create-turbo@latest my-monorepo && cd my-monorepo", "linux": "npx create-turbo@latest my-monorepo && cd my-monorepo", "windows": "npx create-turbo@latest my-monorepo && cd my-monorepo"}, "note": "Creates standard apps/ and packages/ structure with turbo.json configuration"}, {"solution": "Turborepo Pipeline Configuration", "manual": "Configure turbo.json with pipeline defining task dependencies and outputs. Set globalDependencies for environment files. Use dependsOn: [\\\"^build\\\"] to build dependencies first. Enable caching with outputs array.", "note": "Pipeline configuration is key to Turborepo''s incremental build performance"}, {"solution": "pnpm Workspaces Setup", "manual": "Create pnpm-workspace.yaml with packages array. Configure .npmrc for shamefully-hoist, strict peer dependencies. Use pnpm add --filter to manage per-package dependencies. Use pnpm -r for workspace-wide operations.", "cli": {"macos": "pnpm add -D typescript -w && pnpm add react --filter @repo/ui", "linux": "pnpm add -D typescript -w && pnpm add react --filter @repo/ui", "windows": "pnpm add -D typescript -w && pnpm add react --filter @repo/ui"}, "note": "pnpm workspaces are more efficient than npm/yarn alternatives"}, {"solution": "Shared TypeScript Configuration", "manual": "Create packages/tsconfig with base.json, react.json, node.json configs. Reference shared config using extends in app tsconfigs. Define paths aliases for @repo/* imports.", "note": "Centralized TypeScript configs ensure consistency across packages"}, {"solution": "Nx Monorepo Setup", "cli": {"macos": "npx create-nx-workspace@latest my-org && nx generate @nx/react:app my-app", "linux": "npx create-nx-workspace@latest my-org && nx generate @nx/react:app my-app", "windows": "npx create-nx-workspace@latest my-org && nx generate @nx/react:app my-app"}, "note": "Nx provides more features than Turborepo but with added complexity"}, {"solution": "Code Sharing Patterns", "manual": "Create shared packages for UI (@repo/ui), utils (@repo/utils), and types (@repo/types). Use proper package.json exports with import/require fields. Implement peer dependencies for React-based packages.", "note": "Well-organized shared packages enable code reuse across apps"}, {"solution": "Build Optimization with Caching", "manual": "Configure Turborepo caching with inputs array specifying source files and package.json. Set up remote caching via Vercel or custom endpoint. Use dependsOn to establish task order.", "note": "Proper cache configuration reduces build time from minutes to seconds"}, {"solution": "Monorepo CI/CD", "manual": "Use GitHub Actions with pnpm/action-setup. Run affected commands: pnpm nx affected:build --base=origin/main. Cache node_modules and Turborepo cache. Deploy only changed apps using affected detection.", "cli": {"macos": "pnpm install --frozen-lockfile && pnpm turbo run build", "linux": "pnpm install --frozen-lockfile && pnpm turbo run build", "windows": "pnpm install --frozen-lockfile && pnpm turbo run build"}, "note": "Affected commands reduce CI time significantly for large monorepos"}]'::jsonb,
  'script',
  'Node.js 18+, npm/pnpm, understanding of package.json and workspaces, familiarity with build systems',
  'Circular dependencies between packages, phantom dependencies (using packages not in package.json), incorrect Turborepo cache inputs, over-sharing code, under-sharing code leading to duplication, large monorepos without proper caching, incorrect task dependencies',
  'Monorepo builds successfully with Turborepo caching, all packages listed in workspace declarations, shared configs applied across all packages, CI/CD pipeline runs affected commands only, packages install without peer dependency warnings, code changes trigger only affected package builds',
  'Efficient monorepo management with Turborepo, Nx, and pnpm for code sharing, atomic changes, and optimized builds',
  'https://skillsmp.com/skills/wshobson-agents-plugins-developer-essentials-skills-monorepo-management-skill-md',
  'admin:HAIKU_SKILL_1764289669_91423'
);
