-- Add Stack Overflow Material-UI (MUI) solutions batch 1
-- Extracted from highest-voted MUI questions with accepted answers
-- Category: stackoverflow-mui
-- Total entries: 12

INSERT INTO knowledge_entries (
    query, category, hit_frequency, solutions, prerequisites, success_indicators,
    common_pitfalls, success_rate, claude_version, last_verified, source_url
) VALUES
(
    'Material-UI Invalid hook call - Hooks can only be called inside of the body of a function component',
    'stackoverflow-mui',
    'VERY_HIGH',
    '[
        {
            "solution": "Convert the class component to a functional component using React hooks. Replace class methods with useState and useEffect hooks, and call useStyles() at the component body level (not inside render method)",
            "percentage": 95,
            "note": "Most reliable solution for React 16.8+",
            "command": "Replace class component body with functional component pattern"
        },
        {
            "solution": "If you must use a class component, use withStyles() HOC instead of makeStyles() hook",
            "percentage": 85,
            "note": "Fallback for legacy class components"
        }
    ]'::jsonb,
    'React 16.8+, Material-UI v3.0+, Understanding of hooks vs class components',
    'Component renders without error, useStyles hook is called at top level of functional component body, Table displays with correct styling',
    'Common mistake: calling useStyles() inside render() method of class component. Hooks are only for functional components. Also avoid calling hooks conditionally or in loops.',
    0.92,
    'sonnet-4',
    NOW(),
    'https://stackoverflow.com/questions/56663785/invalid-hook-call-hooks-can-only-be-called-inside-of-the-body-of-a-function-com'
),
(
    'Material-UI How to center a component and make it responsive',
    'stackoverflow-mui',
    'HIGH',
    '[
        {
            "solution": "Use Box component with display=flex, justifyContent=center, alignItems=center, and minHeight=100vh for full viewport centering",
            "percentage": 95,
            "note": "Recommended for MUI v5+, cleanest syntax with sx prop"
        },
        {
            "solution": "Use Grid container with spacing=0, direction=column, alignItems=center, justifyContent=center, and minHeight=100vh",
            "percentage": 88,
            "note": "Works with MUI v4 and below, more flexible for multi-item layouts"
        },
        {
            "solution": "Use Stack component with alignItems=center and justifyContent=center (MUI v5+ lightweight alternative)",
            "percentage": 85,
            "note": "Simpler than Box for basic layouts"
        },
        {
            "solution": "Use CSS transform with absolute positioning: position absolute, left 50%, top 50%, transform translate(-50%, -50%)",
            "percentage": 80,
            "note": "Traditional approach, less MUI-idiomatic"
        }
    ]'::jsonb,
    'Material-UI v4+, React component, proper body/root CSS reset',
    'Component appears centered both horizontally and vertically on screen, responsive layout works on mobile and desktop viewports, no scroll bars appear unexpectedly',
    'Do not forget minHeight=100vh to fill viewport height. Ensure body margin is set to 0 to prevent unwanted scrollbars. In Grid, use xs=12 with proper breakpoints (xs, sm, md, lg) for responsiveness.',
    0.91,
    'sonnet-4',
    NOW(),
    'https://stackoverflow.com/questions/50766693/how-to-center-a-component-in-material-ui-and-make-it-responsive'
),
(
    'Material-UI How to change TextField border color',
    'stackoverflow-mui',
    'HIGH',
    '[
        {
            "solution": "Use withStyles() HOC to target nested .MuiOutlinedInput-root selector with fieldset child. Apply different styles for default, hover (&:hover fieldset), and focused (&.Mui-focused fieldset) states",
            "percentage": 92,
            "note": "Works for MUI v4 and older versions, requires higher CSS specificity"
        },
        {
            "solution": "Use sx prop in MUI v5+ with nested selector targeting .MuiOutlinedInput-root and fieldset child elements",
            "percentage": 94,
            "note": "Modern approach for MUI v5+, cleaner syntax than withStyles"
        },
        {
            "solution": "Apply color prop to TextField component for simple color changes, but use advanced selectors for fine-grained control",
            "percentage": 75,
            "note": "Limited to basic theming"
        }
    ]'::jsonb,
    'Material-UI v3.0+, React component, understanding of CSS specificity and nested selectors',
    'TextField border color changes appear in focused state (yellow/orange), hover state shows white border, normal state shows white border, no !important needed in final solution',
    'Do not use !important as it breaks theme overrides. CSS specificity is critical - target .MuiOutlinedInput-root parent with fieldset child. Input/InputProps alone are insufficient; must target the wrapper element.',
    0.90,
    'sonnet-4',
    NOW(),
    'https://stackoverflow.com/questions/52911169/how-to-change-the-border-color-of-material-ui-textfield'
),
(
    'Material-UI How to add multiple classes using classes prop',
    'stackoverflow-mui',
    'HIGH',
    '[
        {
            "solution": "Use template literals with string concatenation: className={`${classes.container} ${classes.spacious}`} to apply multiple classes",
            "percentage": 90,
            "note": "Simple approach, no external dependencies"
        },
        {
            "solution": "Use clsx package (included as MUI dependency): import clsx from clsx; className={clsx(classes.container, classes.spacious)}",
            "percentage": 92,
            "note": "Official recommended approach by Material-UI team"
        },
        {
            "solution": "Use classNames package: import classNames from classnames; className={classNames(classes.container, classes.spacious)}",
            "percentage": 88,
            "note": "Popular alternative, larger package size"
        }
    ]'::jsonb,
    'Material-UI v1.0+, React component with makeStyles hook or withStyles HOC, basic JavaScript knowledge',
    'Multiple CSS classes apply simultaneously to element, all defined styles render correctly, element displays expected styling from both class definitions',
    'Avoid comma-separated class names in a single string (CSS will not parse). Do not forget space separator between template literal values. clsx is preferred and more readable for complex conditional classes.',
    0.93,
    'sonnet-4',
    NOW(),
    'https://stackoverflow.com/questions/46066675/how-to-add-multiple-classes-in-material-ui-using-the-classes-props'
),
(
    'Material-UI TextField Set min/max on type=number',
    'stackoverflow-mui',
    'HIGH',
    '[
        {
            "solution": "Use slotProps.htmlInput property with min/max attributes (MUI v6+): slotProps={{htmlInput: {max: 100, min: 10}}}",
            "percentage": 95,
            "note": "Modern approach for latest MUI versions"
        },
        {
            "solution": "Use InputProps.inputProps with nested structure (MUI v1-v5): InputProps={{inputProps: {max: 100, min: 10}}}",
            "percentage": 92,
            "note": "Works with MUI v1 through v5"
        },
        {
            "solution": "Use inputProps prop directly: inputProps={{min: 4, max: 10}} as shorthand for simpler cases",
            "percentage": 90,
            "note": "Simplest syntax but less explicit"
        },
        {
            "solution": "Add onChange validation handler to enforce min/max since HTML attributes do not prevent typing invalid values",
            "percentage": 85,
            "note": "Required for actual value validation, not just UI constraints"
        }
    ]'::jsonb,
    'Material-UI v1.0+, React component, HTML number input knowledge, understanding of nested component props',
    'TextField accepts only numeric input, up/down spinners constrain values, form submission accepts numbers within min/max range, onChange validation prevents invalid values being set in state',
    'HTML min/max attributes do not prevent users from typing invalid values directly - additional validation required. Props nesting is critical: TextField passes InputProps to Input which passes inputProps to native HTML input.',
    0.88,
    'sonnet-4',
    NOW(),
    'https://stackoverflow.com/questions/47798104/set-min-max-on-textfield-type-number'
),
(
    'Material-UI How to set focus to a TextField',
    'stackoverflow-mui',
    'HIGH',
    '[
        {
            "solution": "Use inputRef prop with useRef hook and useEffect: const ref = useRef(null); useEffect(() => {ref.current?.focus()}, []); <TextField inputRef={ref} />",
            "percentage": 95,
            "note": "Recommended modern approach with React hooks"
        },
        {
            "solution": "Use inputRef callback: <TextField inputRef={input => input && input.focus()} />",
            "percentage": 90,
            "note": "Works without useRef, direct callback focus"
        },
        {
            "solution": "Use autoFocus prop: <TextField autoFocus /> for initial page load focus",
            "percentage": 80,
            "note": "Simple but only works on mount, not dynamic focus"
        },
        {
            "solution": "For Dialog components with MUI, set disableRestoreFocus=true on Dialog then use autoFocus on TextField",
            "percentage": 82,
            "note": "Required to prevent focus restoration to trigger button"
        }
    ]'::jsonb,
    'React 16.8+ (hooks), Material-UI v3.0+, useRef and useEffect knowledge',
    'TextField input element receives keyboard focus (cursor appears in field), subsequent typing inputs into focused field, ref.current points to native input element',
    'Do not use standard ref prop - it returns TextField wrapper, not native input. Use inputRef instead. autoFocus only works on initial render, not for dynamic focus changes. In dialogs, must disable focus restoration.',
    0.91,
    'sonnet-4',
    NOW(),
    'https://stackoverflow.com/questions/37949394/how-to-set-focus-to-a-material-ui-textfield'
),
(
    'Material-UI How to get TextField value on Enter key press',
    'stackoverflow-mui',
    'HIGH',
    '[
        {
            "solution": "Use onKeyDown event with e.key === Enter check: <TextField onKeyDown={(ev) => {if (ev.key === Enter) console.log(ev.target.value)}} />",
            "percentage": 94,
            "note": "Modern recommended approach for all browsers"
        },
        {
            "solution": "For class components with state, implement handleKeyPress in lifecycle and check this.state.value in setState callback",
            "percentage": 88,
            "note": "Legacy approach using class component lifecycle"
        },
        {
            "solution": "Use onKeyDown with controlled component: maintain value in state, access via e.target.value or this.state.value",
            "percentage": 90,
            "note": "Works with both functional and class components"
        },
        {
            "solution": "Call e.preventDefault() to prevent form submission if inside form element",
            "percentage": 85,
            "note": "Important side effect to prevent page reload"
        }
    ]'::jsonb,
    'React 16.0+, Material-UI v1.0+, HTML keyboard events knowledge, event handling understanding',
    'Enter key triggers onKeyDown handler, value is accessible and correct, prevent default stops form submission, console logs show entered text correctly',
    'Do not use deprecated onKeyPress event - use onKeyDown or onKeyUp instead. Avoid hardcoding Enter key code; use e.key === "Enter" for modern browsers. Check if TextField is inside form to decide about preventDefault().',
    0.92,
    'sonnet-4',
    NOW(),
    'https://stackoverflow.com/questions/43384039/how-to-get-the-textfield-value-when-enter-key-is-pressed-in-react'
),
(
    'Material-UI Grid System layout responsive breakpoints',
    'stackoverflow-mui',
    'MEDIUM',
    '[
        {
            "solution": "Use Grid container with item components and responsive breakpoints (xs, sm, md, lg, xl): <Grid container spacing={0}><Grid item xs={12} sm={6}>Content</Grid></Grid>",
            "percentage": 93,
            "note": "Standard MUI Grid approach for responsive layouts"
        },
        {
            "solution": "Set spacing prop on Grid container to add consistent gutters between items (spacing value multiplied by 8px theme spacing unit)",
            "percentage": 90,
            "note": "spacing={2} = 16px gutters between grid items"
        },
        {
            "solution": "Combine multiple breakpoints for complex responsive behavior: xs={12} sm={6} md={4} lg={3} for different device sizes",
            "percentage": 92,
            "note": "Full responsive grid with multiple breakpoint adjustments"
        }
    ]'::jsonb,
    'Material-UI v1.0+, React component, understanding of responsive design breakpoints',
    'Grid layout displays correctly on all device sizes (mobile xs, tablet sm, desktop md/lg), content stacks on mobile and displays multi-column on desktop, spacing/gutters appear between items',
    'Do not forget container prop on parent Grid - without it, items will not display in grid layout. Spacing values are multiplied by 8px by default. Breakpoints must go on Grid item elements, not container.',
    0.91,
    'sonnet-4',
    NOW(),
    'https://stackoverflow.com/questions/33671469/material-ui-and-grid-system'
),
(
    'Material-UI useStyles hook with class component lifecycle methods',
    'stackoverflow-mui',
    'MEDIUM',
    '[
        {
            "solution": "Replace makeStyles() hook with withStyles() HOC. Convert makeStyles call to regular function, apply withStyles wrapper to class component export: export default withStyles(styles)(Welcome);",
            "percentage": 93,
            "note": "Only viable approach for class components with lifecycle"
        },
        {
            "solution": "Access injected classes via this.props.classes in class component render method",
            "percentage": 91,
            "note": "withStyles injects classes prop into wrapped component"
        },
        {
            "solution": "Define styles as regular function receiving theme parameter: const styles = theme => ({root: {display: flex}});",
            "percentage": 90,
            "note": "Same pattern as makeStyles but without hook syntax"
        }
    ]'::jsonb,
    'Material-UI v1.0+, React class components, lifecycle methods (componentDidMount, etc.)',
    'Class component renders with injected classes, lifecycle methods execute without errors, styling applies correctly to component elements, no hook errors appear',
    'Do not attempt to use makeStyles() hook in class components - will cause Invalid hook call error. withStyles() HOC is the only valid approach for styling class components. Remember styles are injected via props, not called as hook.',
    0.89,
    'sonnet-4',
    NOW(),
    'https://stackoverflow.com/questions/56432167/how-to-style-components-using-makestyles-and-still-have-lifecycle-methods-in-mat'
),
(
    'Material-UI Drawer findDOMNode is deprecated in StrictMode',
    'stackoverflow-mui',
    'MEDIUM',
    '[
        {
            "solution": "Use unstable_createMuiStrictModeTheme instead of standard createMuiTheme: import {unstable_createMuiStrictModeTheme} from @material-ui/core; const theme = unstable_createMuiStrictModeTheme();",
            "percentage": 88,
            "note": "MUI v4 workaround for StrictMode deprecation warning"
        },
        {
            "solution": "Wrap app with ThemeProvider passing the strict mode compatible theme to suppress findDOMNode warnings",
            "percentage": 85,
            "note": "Required to activate strict mode support"
        },
        {
            "solution": "Upgrade to Material-UI v5 (now MUI) which eliminated findDOMNode deprecation issues entirely",
            "percentage": 95,
            "note": "Permanent solution - upgrade framework version"
        }
    ]'::jsonb,
    'Material-UI v4.x, React StrictMode enabled, Drawer/Dialog/Tooltip/Snackbar components used',
    'No console warnings about findDOMNode deprecation appear, Drawer animations work correctly, transitions execute smoothly, StrictMode benefits are maintained',
    'Warning originates from Material-UI v4 internal use of deprecated findDOMNode API. Applies to Drawer, Dialog, Tooltip, Snackbar. Upgrading to MUI v5+ is recommended long-term solution.',
    0.87,
    'sonnet-4',
    NOW(),
    'https://stackoverflow.com/questions/61220424/material-ui-drawer-finddomnode-is-deprecated-in-strictmode'
),
(
    'React Too many re-renders error with Material-UI Snackbar',
    'stackoverflow-mui',
    'HIGH',
    '[
        {
            "solution": "Set initial state value instead of calling setState in render: const [open, setSnackBarState] = useState(!!variant); instead of calling setSnackBarState in if statement",
            "percentage": 94,
            "note": "Most common fix - state setter called during render loop"
        },
        {
            "solution": "Wrap event handler in arrow function: onClick={() => handleClose()} instead of onClick={handleClose()} which calls function immediately",
            "percentage": 96,
            "note": "Essential for event handlers, prevents automatic invocation"
        },
        {
            "solution": "Use useEffect with dependency array for side effects: useEffect(() => setSnackBarState(true), [variant]) to control when state updates trigger",
            "percentage": 93,
            "note": "Runs once when variant dependency changes, not on every render"
        },
        {
            "solution": "Avoid calling setState in component body or render method - only in event handlers, effects, or callbacks",
            "percentage": 90,
            "note": "Fundamental React pattern to prevent infinite loops"
        }
    ]'::jsonb,
    'React 16.8+ (hooks), Material-UI components, understanding of component lifecycle and render cycle',
    'Component renders without infinite loop, no Too many re-renders error in console, Snackbar opens/closes without lag, state updates fire only when intended',
    'Critical mistake: calling setState outside hooks/handlers causes infinite render loop. Event handlers must be functions not function calls: onClick={() => func()} not onClick={func()}. Every useState call causes re-render, triggering setState again = infinite loop.',
    0.94,
    'sonnet-4',
    NOW(),
    'https://stackoverflow.com/questions/55265604/uncaught-invariant-violation-too-many-re-renders-react-limits-the-number-of-re'
),
(
    'ReactJS and TypeScript refers to a value but is being used as a type (TS2749)',
    'stackoverflow-mui',
    'HIGH',
    '[
        {
            "solution": "Use typeof keyword to extract type from Material-UI styled component: type MyComponentProps = typeof MyComponent extends React.ComponentType<infer P> ? P : never;",
            "percentage": 85,
            "note": "Advanced TypeScript pattern for extracting props types"
        },
        {
            "solution": "Import ComponentProps from React types: import {ComponentProps} from react; type MyProps = ComponentProps<typeof MyComponent>;",
            "percentage": 92,
            "note": "Modern recommended approach, built-in React utility"
        },
        {
            "solution": "Use React.FC type for functional components with explicit type parameters: const MyComponent: React.FC<Props> = ({prop1}) => {...}",
            "percentage": 88,
            "note": "Explicit typing for functional components"
        },
        {
            "solution": "Ensure Material-UI types are installed: npm install --save-dev @types/material-ui for correct type definitions",
            "percentage": 90,
            "note": "Type definition package required for proper inference"
        }
    ]'::jsonb,
    'TypeScript 3.8+, React with TypeScript, Material-UI with type definitions installed',
    'TypeScript compilation succeeds without TS2749 error, Props type is correctly inferred from component, IDE autocomplete shows correct prop suggestions, type checking works throughout component tree',
    'Common error: confusing value imports with type imports. In TypeScript, some imports are values (runtime) and others are types (compile-time). Use typeof when needed to convert value to type. Always install @types packages for Material-UI.',
    0.88,
    'sonnet-4',
    NOW(),
    'https://stackoverflow.com/questions/62059408/reactjs-and-typescript-refers-to-a-value-but-is-being-used-as-a-type-here-ts'
),
(
    'React Function components cannot be given refs when using react-router-dom',
    'stackoverflow-mui',
    'MEDIUM',
    '[
        {
            "solution": "Wrap function component with React.forwardRef to accept ref: const MyComponent = React.forwardRef((props, ref) => (<button ref={ref}>{props.children}</button>));",
            "percentage": 93,
            "note": "Standard solution for ref-forwarding in function components"
        },
        {
            "solution": "Use withRouter HOC from react-router-dom to wrap component instead of using Route render prop: export default withRouter(MyComponent);",
            "percentage": 85,
            "note": "Router-specific approach, now deprecated in React Router v6"
        },
        {
            "solution": "Use useLocation, useNavigate, useParams hooks from react-router-dom v6+ instead of withRouter/ref",
            "percentage": 94,
            "note": "Modern React Router v6 approach with hooks"
        },
        {
            "solution": "If using Material-UI component, Material-UI handles forwardRef internally so no manual wrapping needed",
            "percentage": 90,
            "note": "Material-UI components already support refs via component prop"
        }
    ]'::jsonb,
    'React 16.8+, react-router-dom v5+, Material-UI v3.0+, understanding of refs and forward refs',
    'Component accepts and forwards ref without error, ref.current points to DOM element, routing navigation works correctly, no console warnings about refs on function components',
    'Function components cannot accept refs directly - must use React.forwardRef wrapper. In react-router-dom v6, withRouter is deprecated - use hooks instead. Material-UI handles refs automatically on its components.',
    0.89,
    'sonnet-4',
    NOW(),
    'https://stackoverflow.com/questions/56484686/how-do-i-avoid-function-components-cannot-be-given-refs-when-using-react-route'
);
